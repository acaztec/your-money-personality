var Wf=Object.defineProperty;var Hf=(t,e,n)=>e in t?Wf(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ji=(t,e,n)=>(Hf(t,typeof e!="symbol"?e+"":e,n),n);function Vf(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var Fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Gf(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Vc={exports:{}},Ni={},Yc={exports:{}},U={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var us=Symbol.for("react.element"),qf=Symbol.for("react.portal"),Kf=Symbol.for("react.fragment"),Jf=Symbol.for("react.strict_mode"),Qf=Symbol.for("react.profiler"),Xf=Symbol.for("react.provider"),Zf=Symbol.for("react.context"),em=Symbol.for("react.forward_ref"),tm=Symbol.for("react.suspense"),nm=Symbol.for("react.memo"),rm=Symbol.for("react.lazy"),Xl=Symbol.iterator;function sm(t){return t===null||typeof t!="object"?null:(t=Xl&&t[Xl]||t["@@iterator"],typeof t=="function"?t:null)}var Gc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qc=Object.assign,Kc={};function ar(t,e,n){this.props=t,this.context=e,this.refs=Kc,this.updater=n||Gc}ar.prototype.isReactComponent={};ar.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ar.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Jc(){}Jc.prototype=ar.prototype;function Ga(t,e,n){this.props=t,this.context=e,this.refs=Kc,this.updater=n||Gc}var qa=Ga.prototype=new Jc;qa.constructor=Ga;qc(qa,ar.prototype);qa.isPureReactComponent=!0;var Zl=Array.isArray,Qc=Object.prototype.hasOwnProperty,Ka={current:null},Xc={key:!0,ref:!0,__self:!0,__source:!0};function Zc(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Qc.call(e,r)&&!Xc.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:us,type:t,key:i,ref:o,props:s,_owner:Ka.current}}function im(t,e){return{$$typeof:us,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Ja(t){return typeof t=="object"&&t!==null&&t.$$typeof===us}function om(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var eu=/\/+/g;function Qi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?om(""+t.key):e.toString(36)}function Fs(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case us:case qf:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Qi(o,0):r,Zl(s)?(n="",t!=null&&(n=t.replace(eu,"$&/")+"/"),Fs(s,e,n,"",function(c){return c})):s!=null&&(Ja(s)&&(s=im(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(eu,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Zl(t))for(var l=0;l<t.length;l++){i=t[l];var u=r+Qi(i,l);o+=Fs(i,e,n,u,s)}else if(u=sm(t),typeof u=="function")for(t=u.call(t),l=0;!(i=t.next()).done;)i=i.value,u=r+Qi(i,l++),o+=Fs(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ys(t,e,n){if(t==null)return t;var r=[],s=0;return Fs(t,r,"","",function(i){return e.call(n,i,s++)}),r}function am(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ve={current:null},zs={transition:null},lm={ReactCurrentDispatcher:ve,ReactCurrentBatchConfig:zs,ReactCurrentOwner:Ka};function ed(){throw Error("act(...) is not supported in production builds of React.")}U.Children={map:ys,forEach:function(t,e,n){ys(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ys(t,function(){e++}),e},toArray:function(t){return ys(t,function(e){return e})||[]},only:function(t){if(!Ja(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};U.Component=ar;U.Fragment=Kf;U.Profiler=Qf;U.PureComponent=Ga;U.StrictMode=Jf;U.Suspense=tm;U.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lm;U.act=ed;U.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=qc({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Ka.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Qc.call(e,u)&&!Xc.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:us,type:t.type,key:s,ref:i,props:r,_owner:o}};U.createContext=function(t){return t={$$typeof:Zf,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Xf,_context:t},t.Consumer=t};U.createElement=Zc;U.createFactory=function(t){var e=Zc.bind(null,t);return e.type=t,e};U.createRef=function(){return{current:null}};U.forwardRef=function(t){return{$$typeof:em,render:t}};U.isValidElement=Ja;U.lazy=function(t){return{$$typeof:rm,_payload:{_status:-1,_result:t},_init:am}};U.memo=function(t,e){return{$$typeof:nm,type:t,compare:e===void 0?null:e}};U.startTransition=function(t){var e=zs.transition;zs.transition={};try{t()}finally{zs.transition=e}};U.unstable_act=ed;U.useCallback=function(t,e){return ve.current.useCallback(t,e)};U.useContext=function(t){return ve.current.useContext(t)};U.useDebugValue=function(){};U.useDeferredValue=function(t){return ve.current.useDeferredValue(t)};U.useEffect=function(t,e){return ve.current.useEffect(t,e)};U.useId=function(){return ve.current.useId()};U.useImperativeHandle=function(t,e,n){return ve.current.useImperativeHandle(t,e,n)};U.useInsertionEffect=function(t,e){return ve.current.useInsertionEffect(t,e)};U.useLayoutEffect=function(t,e){return ve.current.useLayoutEffect(t,e)};U.useMemo=function(t,e){return ve.current.useMemo(t,e)};U.useReducer=function(t,e,n){return ve.current.useReducer(t,e,n)};U.useRef=function(t){return ve.current.useRef(t)};U.useState=function(t){return ve.current.useState(t)};U.useSyncExternalStore=function(t,e,n){return ve.current.useSyncExternalStore(t,e,n)};U.useTransition=function(){return ve.current.useTransition()};U.version="18.3.1";Yc.exports=U;var _=Yc.exports;const td=Yf(_),um=Vf({__proto__:null,default:td},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cm=_,dm=Symbol.for("react.element"),hm=Symbol.for("react.fragment"),fm=Object.prototype.hasOwnProperty,mm=cm.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pm={key:!0,ref:!0,__self:!0,__source:!0};function nd(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)fm.call(e,r)&&!pm.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:dm,type:t,key:i,ref:o,props:s,_owner:mm.current}}Ni.Fragment=hm;Ni.jsx=nd;Ni.jsxs=nd;Vc.exports=Ni;var a=Vc.exports,$o={},rd={exports:{}},Ie={},sd={exports:{}},id={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(T,I){var S=T.length;T.push(I);e:for(;0<S;){var A=S-1>>>1,O=T[A];if(0<s(O,I))T[A]=I,T[S]=O,S=A;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var I=T[0],S=T.pop();if(S!==I){T[0]=S;e:for(var A=0,O=T.length,He=O>>>1;A<He;){var ct=2*(A+1)-1,En=T[ct],nt=ct+1,sn=T[nt];if(0>s(En,S))nt<O&&0>s(sn,En)?(T[A]=sn,T[nt]=S,A=nt):(T[A]=En,T[ct]=S,A=ct);else if(nt<O&&0>s(sn,S))T[A]=sn,T[nt]=S,A=nt;else break e}}return I}function s(T,I){var S=T.sortIndex-I.sortIndex;return S!==0?S:T.id-I.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],d=1,h=null,f=3,y=!1,v=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function m(T){for(var I=n(c);I!==null;){if(I.callback===null)r(c);else if(I.startTime<=T)r(c),I.sortIndex=I.expirationTime,e(u,I);else break;I=n(c)}}function x(T){if(w=!1,m(T),!v)if(n(u)!==null)v=!0,tt(k);else{var I=n(c);I!==null&&We(x,I.startTime-T)}}function k(T,I){v=!1,w&&(w=!1,g(C),C=-1),y=!0;var S=f;try{for(m(I),h=n(u);h!==null&&(!(h.expirationTime>I)||T&&!se());){var A=h.callback;if(typeof A=="function"){h.callback=null,f=h.priorityLevel;var O=A(h.expirationTime<=I);I=t.unstable_now(),typeof O=="function"?h.callback=O:h===n(u)&&r(u),m(I)}else r(u);h=n(u)}if(h!==null)var He=!0;else{var ct=n(c);ct!==null&&We(x,ct.startTime-I),He=!1}return He}finally{h=null,f=S,y=!1}}var E=!1,N=null,C=-1,Y=5,L=-1;function se(){return!(t.unstable_now()-L<Y)}function nn(){if(N!==null){var T=t.unstable_now();L=T;var I=!0;try{I=N(!0,T)}finally{I?rn():(E=!1,N=null)}}else E=!1}var rn;if(typeof p=="function")rn=function(){p(nn)};else if(typeof MessageChannel<"u"){var jn=new MessageChannel,ut=jn.port2;jn.port1.onmessage=nn,rn=function(){ut.postMessage(null)}}else rn=function(){b(nn,0)};function tt(T){N=T,E||(E=!0,rn())}function We(T,I){C=b(function(){T(t.unstable_now())},I)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(T){T.callback=null},t.unstable_continueExecution=function(){v||y||(v=!0,tt(k))},t.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<T?Math.floor(1e3/T):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(T){switch(f){case 1:case 2:case 3:var I=3;break;default:I=f}var S=f;f=I;try{return T()}finally{f=S}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(T,I){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var S=f;f=T;try{return I()}finally{f=S}},t.unstable_scheduleCallback=function(T,I,S){var A=t.unstable_now();switch(typeof S=="object"&&S!==null?(S=S.delay,S=typeof S=="number"&&0<S?A+S:A):S=A,T){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=S+O,T={id:d++,callback:I,priorityLevel:T,startTime:S,expirationTime:O,sortIndex:-1},S>A?(T.sortIndex=S,e(c,T),n(u)===null&&T===n(c)&&(w?(g(C),C=-1):w=!0,We(x,S-A))):(T.sortIndex=O,e(u,T),v||y||(v=!0,tt(k))),T},t.unstable_shouldYield=se,t.unstable_wrapCallback=function(T){var I=f;return function(){var S=f;f=I;try{return T.apply(this,arguments)}finally{f=S}}}})(id);sd.exports=id;var gm=sd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ym=_,Oe=gm;function j(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var od=new Set,Br={};function kn(t,e){Zn(t,e),Zn(t+"Capture",e)}function Zn(t,e){for(Br[t]=e,t=0;t<e.length;t++)od.add(e[t])}var wt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Uo=Object.prototype.hasOwnProperty,vm=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tu={},nu={};function wm(t){return Uo.call(nu,t)?!0:Uo.call(tu,t)?!1:vm.test(t)?nu[t]=!0:(tu[t]=!0,!1)}function xm(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bm(t,e,n,r){if(e===null||typeof e>"u"||xm(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function we(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ue[t]=new we(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ue[e]=new we(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ue[t]=new we(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ue[t]=new we(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ue[t]=new we(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ue[t]=new we(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ue[t]=new we(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ue[t]=new we(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ue[t]=new we(t,5,!1,t.toLowerCase(),null,!1,!1)});var Qa=/[\-:]([a-z])/g;function Xa(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Qa,Xa);ue[e]=new we(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Qa,Xa);ue[e]=new we(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Qa,Xa);ue[e]=new we(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ue[t]=new we(t,1,!1,t.toLowerCase(),null,!1,!1)});ue.xlinkHref=new we("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ue[t]=new we(t,1,!1,t.toLowerCase(),null,!0,!0)});function Za(t,e,n,r){var s=ue.hasOwnProperty(e)?ue[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bm(e,n,s,r)&&(n=null),r||s===null?wm(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var _t=ym.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vs=Symbol.for("react.element"),Ln=Symbol.for("react.portal"),$n=Symbol.for("react.fragment"),el=Symbol.for("react.strict_mode"),Mo=Symbol.for("react.profiler"),ad=Symbol.for("react.provider"),ld=Symbol.for("react.context"),tl=Symbol.for("react.forward_ref"),Do=Symbol.for("react.suspense"),Fo=Symbol.for("react.suspense_list"),nl=Symbol.for("react.memo"),Tt=Symbol.for("react.lazy"),ud=Symbol.for("react.offscreen"),ru=Symbol.iterator;function pr(t){return t===null||typeof t!="object"?null:(t=ru&&t[ru]||t["@@iterator"],typeof t=="function"?t:null)}var K=Object.assign,Xi;function Sr(t){if(Xi===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Xi=e&&e[1]||""}return`
`+Xi+t}var Zi=!1;function eo(t,e){if(!t||Zi)return"";Zi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Zi=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Sr(t):""}function km(t){switch(t.tag){case 5:return Sr(t.type);case 16:return Sr("Lazy");case 13:return Sr("Suspense");case 19:return Sr("SuspenseList");case 0:case 2:case 15:return t=eo(t.type,!1),t;case 11:return t=eo(t.type.render,!1),t;case 1:return t=eo(t.type,!0),t;default:return""}}function zo(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case $n:return"Fragment";case Ln:return"Portal";case Mo:return"Profiler";case el:return"StrictMode";case Do:return"Suspense";case Fo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case ld:return(t.displayName||"Context")+".Consumer";case ad:return(t._context.displayName||"Context")+".Provider";case tl:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case nl:return e=t.displayName||null,e!==null?e:zo(t.type)||"Memo";case Tt:e=t._payload,t=t._init;try{return zo(t(e))}catch{}}return null}function _m(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zo(e);case 8:return e===el?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function cd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Sm(t){var e=cd(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ws(t){t._valueTracker||(t._valueTracker=Sm(t))}function dd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=cd(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Xs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Bo(t,e){var n=e.checked;return K({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function su(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function hd(t,e){e=e.checked,e!=null&&Za(t,"checked",e,!1)}function Wo(t,e){hd(t,e);var n=qt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ho(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ho(t,e.type,qt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function iu(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ho(t,e,n){(e!=="number"||Xs(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var jr=Array.isArray;function Gn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Vo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(j(91));return K({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ou(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(j(92));if(jr(n)){if(1<n.length)throw Error(j(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qt(n)}}function fd(t,e){var n=qt(e.value),r=qt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function au(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function md(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?md(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xs,pd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xs=xs||document.createElement("div"),xs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Wr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Pr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jm=["Webkit","ms","Moz","O"];Object.keys(Pr).forEach(function(t){jm.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pr[e]=Pr[t]})});function gd(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Pr.hasOwnProperty(t)&&Pr[t]?(""+e).trim():e+"px"}function yd(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=gd(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var Em=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Go(t,e){if(e){if(Em[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(j(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(j(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(j(61))}if(e.style!=null&&typeof e.style!="object")throw Error(j(62))}}function qo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ko=null;function rl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Jo=null,qn=null,Kn=null;function lu(t){if(t=hs(t)){if(typeof Jo!="function")throw Error(j(280));var e=t.stateNode;e&&(e=Oi(e),Jo(t.stateNode,t.type,e))}}function vd(t){qn?Kn?Kn.push(t):Kn=[t]:qn=t}function wd(){if(qn){var t=qn,e=Kn;if(Kn=qn=null,lu(t),e)for(t=0;t<e.length;t++)lu(e[t])}}function xd(t,e){return t(e)}function bd(){}var to=!1;function kd(t,e,n){if(to)return t(e,n);to=!0;try{return xd(t,e,n)}finally{to=!1,(qn!==null||Kn!==null)&&(bd(),wd())}}function Hr(t,e){var n=t.stateNode;if(n===null)return null;var r=Oi(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(j(231,e,typeof n));return n}var Qo=!1;if(wt)try{var gr={};Object.defineProperty(gr,"passive",{get:function(){Qo=!0}}),window.addEventListener("test",gr,gr),window.removeEventListener("test",gr,gr)}catch{Qo=!1}function Nm(t,e,n,r,s,i,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Ar=!1,Zs=null,ei=!1,Xo=null,Cm={onError:function(t){Ar=!0,Zs=t}};function Tm(t,e,n,r,s,i,o,l,u){Ar=!1,Zs=null,Nm.apply(Cm,arguments)}function Pm(t,e,n,r,s,i,o,l,u){if(Tm.apply(this,arguments),Ar){if(Ar){var c=Zs;Ar=!1,Zs=null}else throw Error(j(198));ei||(ei=!0,Xo=c)}}function _n(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function _d(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function uu(t){if(_n(t)!==t)throw Error(j(188))}function Am(t){var e=t.alternate;if(!e){if(e=_n(t),e===null)throw Error(j(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return uu(s),t;if(i===r)return uu(s),e;i=i.sibling}throw Error(j(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(j(189))}}if(n.alternate!==r)throw Error(j(190))}if(n.tag!==3)throw Error(j(188));return n.stateNode.current===n?t:e}function Sd(t){return t=Am(t),t!==null?jd(t):null}function jd(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=jd(t);if(e!==null)return e;t=t.sibling}return null}var Ed=Oe.unstable_scheduleCallback,cu=Oe.unstable_cancelCallback,Om=Oe.unstable_shouldYield,Im=Oe.unstable_requestPaint,Q=Oe.unstable_now,Rm=Oe.unstable_getCurrentPriorityLevel,sl=Oe.unstable_ImmediatePriority,Nd=Oe.unstable_UserBlockingPriority,ti=Oe.unstable_NormalPriority,Lm=Oe.unstable_LowPriority,Cd=Oe.unstable_IdlePriority,Ci=null,at=null;function $m(t){if(at&&typeof at.onCommitFiberRoot=="function")try{at.onCommitFiberRoot(Ci,t,void 0,(t.current.flags&128)===128)}catch{}}var Xe=Math.clz32?Math.clz32:Dm,Um=Math.log,Mm=Math.LN2;function Dm(t){return t>>>=0,t===0?32:31-(Um(t)/Mm|0)|0}var bs=64,ks=4194304;function Er(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ni(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=Er(l):(i&=o,i!==0&&(r=Er(i)))}else o=n&~s,o!==0?r=Er(o):i!==0&&(r=Er(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Xe(e),s=1<<n,r|=t[n],e&=~s;return r}function Fm(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function zm(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Xe(i),l=1<<o,u=s[o];u===-1?(!(l&n)||l&r)&&(s[o]=Fm(l,e)):u<=e&&(t.expiredLanes|=l),i&=~l}}function Zo(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Td(){var t=bs;return bs<<=1,!(bs&4194240)&&(bs=64),t}function no(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function cs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xe(e),t[e]=n}function Bm(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Xe(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function il(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Xe(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var D=0;function Pd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Ad,ol,Od,Id,Rd,ea=!1,_s=[],Dt=null,Ft=null,zt=null,Vr=new Map,Yr=new Map,At=[],Wm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function du(t,e){switch(t){case"focusin":case"focusout":Dt=null;break;case"dragenter":case"dragleave":Ft=null;break;case"mouseover":case"mouseout":zt=null;break;case"pointerover":case"pointerout":Vr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yr.delete(e.pointerId)}}function yr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=hs(e),e!==null&&ol(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Hm(t,e,n,r,s){switch(e){case"focusin":return Dt=yr(Dt,t,e,n,r,s),!0;case"dragenter":return Ft=yr(Ft,t,e,n,r,s),!0;case"mouseover":return zt=yr(zt,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Vr.set(i,yr(Vr.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Yr.set(i,yr(Yr.get(i)||null,t,e,n,r,s)),!0}return!1}function Ld(t){var e=hn(t.target);if(e!==null){var n=_n(e);if(n!==null){if(e=n.tag,e===13){if(e=_d(n),e!==null){t.blockedOn=e,Rd(t.priority,function(){Od(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Bs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=ta(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ko=r,n.target.dispatchEvent(r),Ko=null}else return e=hs(n),e!==null&&ol(e),t.blockedOn=n,!1;e.shift()}return!0}function hu(t,e,n){Bs(t)&&n.delete(e)}function Vm(){ea=!1,Dt!==null&&Bs(Dt)&&(Dt=null),Ft!==null&&Bs(Ft)&&(Ft=null),zt!==null&&Bs(zt)&&(zt=null),Vr.forEach(hu),Yr.forEach(hu)}function vr(t,e){t.blockedOn===e&&(t.blockedOn=null,ea||(ea=!0,Oe.unstable_scheduleCallback(Oe.unstable_NormalPriority,Vm)))}function Gr(t){function e(s){return vr(s,t)}if(0<_s.length){vr(_s[0],t);for(var n=1;n<_s.length;n++){var r=_s[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Dt!==null&&vr(Dt,t),Ft!==null&&vr(Ft,t),zt!==null&&vr(zt,t),Vr.forEach(e),Yr.forEach(e),n=0;n<At.length;n++)r=At[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<At.length&&(n=At[0],n.blockedOn===null);)Ld(n),n.blockedOn===null&&At.shift()}var Jn=_t.ReactCurrentBatchConfig,ri=!0;function Ym(t,e,n,r){var s=D,i=Jn.transition;Jn.transition=null;try{D=1,al(t,e,n,r)}finally{D=s,Jn.transition=i}}function Gm(t,e,n,r){var s=D,i=Jn.transition;Jn.transition=null;try{D=4,al(t,e,n,r)}finally{D=s,Jn.transition=i}}function al(t,e,n,r){if(ri){var s=ta(t,e,n,r);if(s===null)fo(t,e,r,si,n),du(t,r);else if(Hm(s,t,e,n,r))r.stopPropagation();else if(du(t,r),e&4&&-1<Wm.indexOf(t)){for(;s!==null;){var i=hs(s);if(i!==null&&Ad(i),i=ta(t,e,n,r),i===null&&fo(t,e,r,si,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else fo(t,e,r,null,n)}}var si=null;function ta(t,e,n,r){if(si=null,t=rl(r),t=hn(t),t!==null)if(e=_n(t),e===null)t=null;else if(n=e.tag,n===13){if(t=_d(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return si=t,null}function $d(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Rm()){case sl:return 1;case Nd:return 4;case ti:case Lm:return 16;case Cd:return 536870912;default:return 16}default:return 16}}var Rt=null,ll=null,Ws=null;function Ud(){if(Ws)return Ws;var t,e=ll,n=e.length,r,s="value"in Rt?Rt.value:Rt.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ws=s.slice(t,1<r?1-r:void 0)}function Hs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ss(){return!0}function fu(){return!1}function Re(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ss:fu,this.isPropagationStopped=fu,this}return K(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),e}var lr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ul=Re(lr),ds=K({},lr,{view:0,detail:0}),qm=Re(ds),ro,so,wr,Ti=K({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cl,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wr&&(wr&&t.type==="mousemove"?(ro=t.screenX-wr.screenX,so=t.screenY-wr.screenY):so=ro=0,wr=t),ro)},movementY:function(t){return"movementY"in t?t.movementY:so}}),mu=Re(Ti),Km=K({},Ti,{dataTransfer:0}),Jm=Re(Km),Qm=K({},ds,{relatedTarget:0}),io=Re(Qm),Xm=K({},lr,{animationName:0,elapsedTime:0,pseudoElement:0}),Zm=Re(Xm),ep=K({},lr,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),tp=Re(ep),np=K({},lr,{data:0}),pu=Re(np),rp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sp={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ip={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function op(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=ip[t])?!!e[t]:!1}function cl(){return op}var ap=K({},ds,{key:function(t){if(t.key){var e=rp[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?sp[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cl,charCode:function(t){return t.type==="keypress"?Hs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),lp=Re(ap),up=K({},Ti,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gu=Re(up),cp=K({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cl}),dp=Re(cp),hp=K({},lr,{propertyName:0,elapsedTime:0,pseudoElement:0}),fp=Re(hp),mp=K({},Ti,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),pp=Re(mp),gp=[9,13,27,32],dl=wt&&"CompositionEvent"in window,Or=null;wt&&"documentMode"in document&&(Or=document.documentMode);var yp=wt&&"TextEvent"in window&&!Or,Md=wt&&(!dl||Or&&8<Or&&11>=Or),yu=String.fromCharCode(32),vu=!1;function Dd(t,e){switch(t){case"keyup":return gp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Un=!1;function vp(t,e){switch(t){case"compositionend":return Fd(e);case"keypress":return e.which!==32?null:(vu=!0,yu);case"textInput":return t=e.data,t===yu&&vu?null:t;default:return null}}function wp(t,e){if(Un)return t==="compositionend"||!dl&&Dd(t,e)?(t=Ud(),Ws=ll=Rt=null,Un=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Md&&e.locale!=="ko"?null:e.data;default:return null}}var xp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!xp[t.type]:e==="textarea"}function zd(t,e,n,r){vd(r),e=ii(e,"onChange"),0<e.length&&(n=new ul("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ir=null,qr=null;function bp(t){Xd(t,0)}function Pi(t){var e=Fn(t);if(dd(e))return t}function kp(t,e){if(t==="change")return e}var Bd=!1;if(wt){var oo;if(wt){var ao="oninput"in document;if(!ao){var xu=document.createElement("div");xu.setAttribute("oninput","return;"),ao=typeof xu.oninput=="function"}oo=ao}else oo=!1;Bd=oo&&(!document.documentMode||9<document.documentMode)}function bu(){Ir&&(Ir.detachEvent("onpropertychange",Wd),qr=Ir=null)}function Wd(t){if(t.propertyName==="value"&&Pi(qr)){var e=[];zd(e,qr,t,rl(t)),kd(bp,e)}}function _p(t,e,n){t==="focusin"?(bu(),Ir=e,qr=n,Ir.attachEvent("onpropertychange",Wd)):t==="focusout"&&bu()}function Sp(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Pi(qr)}function jp(t,e){if(t==="click")return Pi(e)}function Ep(t,e){if(t==="input"||t==="change")return Pi(e)}function Np(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var et=typeof Object.is=="function"?Object.is:Np;function Kr(t,e){if(et(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Uo.call(e,s)||!et(t[s],e[s]))return!1}return!0}function ku(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function _u(t,e){var n=ku(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ku(n)}}function Hd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Hd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Vd(){for(var t=window,e=Xs();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Xs(t.document)}return e}function hl(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Cp(t){var e=Vd(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Hd(n.ownerDocument.documentElement,n)){if(r!==null&&hl(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=_u(n,i);var o=_u(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Tp=wt&&"documentMode"in document&&11>=document.documentMode,Mn=null,na=null,Rr=null,ra=!1;function Su(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ra||Mn==null||Mn!==Xs(r)||(r=Mn,"selectionStart"in r&&hl(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Rr&&Kr(Rr,r)||(Rr=r,r=ii(na,"onSelect"),0<r.length&&(e=new ul("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Mn)))}function js(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Dn={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionend:js("Transition","TransitionEnd")},lo={},Yd={};wt&&(Yd=document.createElement("div").style,"AnimationEvent"in window||(delete Dn.animationend.animation,delete Dn.animationiteration.animation,delete Dn.animationstart.animation),"TransitionEvent"in window||delete Dn.transitionend.transition);function Ai(t){if(lo[t])return lo[t];if(!Dn[t])return t;var e=Dn[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Yd)return lo[t]=e[n];return t}var Gd=Ai("animationend"),qd=Ai("animationiteration"),Kd=Ai("animationstart"),Jd=Ai("transitionend"),Qd=new Map,ju="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Jt(t,e){Qd.set(t,e),kn(e,[t])}for(var uo=0;uo<ju.length;uo++){var co=ju[uo],Pp=co.toLowerCase(),Ap=co[0].toUpperCase()+co.slice(1);Jt(Pp,"on"+Ap)}Jt(Gd,"onAnimationEnd");Jt(qd,"onAnimationIteration");Jt(Kd,"onAnimationStart");Jt("dblclick","onDoubleClick");Jt("focusin","onFocus");Jt("focusout","onBlur");Jt(Jd,"onTransitionEnd");Zn("onMouseEnter",["mouseout","mouseover"]);Zn("onMouseLeave",["mouseout","mouseover"]);Zn("onPointerEnter",["pointerout","pointerover"]);Zn("onPointerLeave",["pointerout","pointerover"]);kn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));kn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));kn("onBeforeInput",["compositionend","keypress","textInput","paste"]);kn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));kn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Op=new Set("cancel close invalid load scroll toggle".split(" ").concat(Nr));function Eu(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Pm(r,e,void 0,t),t.currentTarget=null}function Xd(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;Eu(s,l,c),i=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;Eu(s,l,c),i=u}}}if(ei)throw t=Xo,ei=!1,Xo=null,t}function W(t,e){var n=e[la];n===void 0&&(n=e[la]=new Set);var r=t+"__bubble";n.has(r)||(Zd(e,t,2,!1),n.add(r))}function ho(t,e,n){var r=0;e&&(r|=4),Zd(n,t,r,e)}var Es="_reactListening"+Math.random().toString(36).slice(2);function Jr(t){if(!t[Es]){t[Es]=!0,od.forEach(function(n){n!=="selectionchange"&&(Op.has(n)||ho(n,!1,t),ho(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Es]||(e[Es]=!0,ho("selectionchange",!1,e))}}function Zd(t,e,n,r){switch($d(e)){case 1:var s=Ym;break;case 4:s=Gm;break;default:s=al}n=s.bind(null,e,n,t),s=void 0,!Qo||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function fo(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=hn(l),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}l=l.parentNode}}r=r.return}kd(function(){var c=i,d=rl(n),h=[];e:{var f=Qd.get(t);if(f!==void 0){var y=ul,v=t;switch(t){case"keypress":if(Hs(n)===0)break e;case"keydown":case"keyup":y=lp;break;case"focusin":v="focus",y=io;break;case"focusout":v="blur",y=io;break;case"beforeblur":case"afterblur":y=io;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=mu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Jm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=dp;break;case Gd:case qd:case Kd:y=Zm;break;case Jd:y=fp;break;case"scroll":y=qm;break;case"wheel":y=pp;break;case"copy":case"cut":case"paste":y=tp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=gu}var w=(e&4)!==0,b=!w&&t==="scroll",g=w?f!==null?f+"Capture":null:f;w=[];for(var p=c,m;p!==null;){m=p;var x=m.stateNode;if(m.tag===5&&x!==null&&(m=x,g!==null&&(x=Hr(p,g),x!=null&&w.push(Qr(p,x,m)))),b)break;p=p.return}0<w.length&&(f=new y(f,v,null,n,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",f&&n!==Ko&&(v=n.relatedTarget||n.fromElement)&&(hn(v)||v[xt]))break e;if((y||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,y?(v=n.relatedTarget||n.toElement,y=c,v=v?hn(v):null,v!==null&&(b=_n(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(y=null,v=c),y!==v)){if(w=mu,x="onMouseLeave",g="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(w=gu,x="onPointerLeave",g="onPointerEnter",p="pointer"),b=y==null?f:Fn(y),m=v==null?f:Fn(v),f=new w(x,p+"leave",y,n,d),f.target=b,f.relatedTarget=m,x=null,hn(d)===c&&(w=new w(g,p+"enter",v,n,d),w.target=m,w.relatedTarget=b,x=w),b=x,y&&v)t:{for(w=y,g=v,p=0,m=w;m;m=Nn(m))p++;for(m=0,x=g;x;x=Nn(x))m++;for(;0<p-m;)w=Nn(w),p--;for(;0<m-p;)g=Nn(g),m--;for(;p--;){if(w===g||g!==null&&w===g.alternate)break t;w=Nn(w),g=Nn(g)}w=null}else w=null;y!==null&&Nu(h,f,y,w,!1),v!==null&&b!==null&&Nu(h,b,v,w,!0)}}e:{if(f=c?Fn(c):window,y=f.nodeName&&f.nodeName.toLowerCase(),y==="select"||y==="input"&&f.type==="file")var k=kp;else if(wu(f))if(Bd)k=Ep;else{k=Sp;var E=_p}else(y=f.nodeName)&&y.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(k=jp);if(k&&(k=k(t,c))){zd(h,k,n,d);break e}E&&E(t,f,c),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Ho(f,"number",f.value)}switch(E=c?Fn(c):window,t){case"focusin":(wu(E)||E.contentEditable==="true")&&(Mn=E,na=c,Rr=null);break;case"focusout":Rr=na=Mn=null;break;case"mousedown":ra=!0;break;case"contextmenu":case"mouseup":case"dragend":ra=!1,Su(h,n,d);break;case"selectionchange":if(Tp)break;case"keydown":case"keyup":Su(h,n,d)}var N;if(dl)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Un?Dd(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Md&&n.locale!=="ko"&&(Un||C!=="onCompositionStart"?C==="onCompositionEnd"&&Un&&(N=Ud()):(Rt=d,ll="value"in Rt?Rt.value:Rt.textContent,Un=!0)),E=ii(c,C),0<E.length&&(C=new pu(C,t,null,n,d),h.push({event:C,listeners:E}),N?C.data=N:(N=Fd(n),N!==null&&(C.data=N)))),(N=yp?vp(t,n):wp(t,n))&&(c=ii(c,"onBeforeInput"),0<c.length&&(d=new pu("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=N))}Xd(h,e)})}function Qr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ii(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Hr(t,n),i!=null&&r.unshift(Qr(t,i,s)),i=Hr(t,e),i!=null&&r.push(Qr(t,i,s))),t=t.return}return r}function Nn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Nu(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,s?(u=Hr(n,i),u!=null&&o.unshift(Qr(n,u,l))):s||(u=Hr(n,i),u!=null&&o.push(Qr(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Ip=/\r\n?/g,Rp=/\u0000|\uFFFD/g;function Cu(t){return(typeof t=="string"?t:""+t).replace(Ip,`
`).replace(Rp,"")}function Ns(t,e,n){if(e=Cu(e),Cu(t)!==e&&n)throw Error(j(425))}function oi(){}var sa=null,ia=null;function oa(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var aa=typeof setTimeout=="function"?setTimeout:void 0,Lp=typeof clearTimeout=="function"?clearTimeout:void 0,Tu=typeof Promise=="function"?Promise:void 0,$p=typeof queueMicrotask=="function"?queueMicrotask:typeof Tu<"u"?function(t){return Tu.resolve(null).then(t).catch(Up)}:aa;function Up(t){setTimeout(function(){throw t})}function mo(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Gr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Gr(e)}function Bt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Pu(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ur=Math.random().toString(36).slice(2),ot="__reactFiber$"+ur,Xr="__reactProps$"+ur,xt="__reactContainer$"+ur,la="__reactEvents$"+ur,Mp="__reactListeners$"+ur,Dp="__reactHandles$"+ur;function hn(t){var e=t[ot];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xt]||n[ot]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Pu(t);t!==null;){if(n=t[ot])return n;t=Pu(t)}return e}t=n,n=t.parentNode}return null}function hs(t){return t=t[ot]||t[xt],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fn(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(j(33))}function Oi(t){return t[Xr]||null}var ua=[],zn=-1;function Qt(t){return{current:t}}function H(t){0>zn||(t.current=ua[zn],ua[zn]=null,zn--)}function B(t,e){zn++,ua[zn]=t.current,t.current=e}var Kt={},fe=Qt(Kt),Se=Qt(!1),yn=Kt;function er(t,e){var n=t.type.contextTypes;if(!n)return Kt;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function je(t){return t=t.childContextTypes,t!=null}function ai(){H(Se),H(fe)}function Au(t,e,n){if(fe.current!==Kt)throw Error(j(168));B(fe,e),B(Se,n)}function eh(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(j(108,_m(t)||"Unknown",s));return K({},n,r)}function li(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Kt,yn=fe.current,B(fe,t),B(Se,Se.current),!0}function Ou(t,e,n){var r=t.stateNode;if(!r)throw Error(j(169));n?(t=eh(t,e,yn),r.__reactInternalMemoizedMergedChildContext=t,H(Se),H(fe),B(fe,t)):H(Se),B(Se,n)}var pt=null,Ii=!1,po=!1;function th(t){pt===null?pt=[t]:pt.push(t)}function Fp(t){Ii=!0,th(t)}function Xt(){if(!po&&pt!==null){po=!0;var t=0,e=D;try{var n=pt;for(D=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}pt=null,Ii=!1}catch(s){throw pt!==null&&(pt=pt.slice(t+1)),Ed(sl,Xt),s}finally{D=e,po=!1}}return null}var Bn=[],Wn=0,ui=null,ci=0,$e=[],Ue=0,vn=null,gt=1,yt="";function ln(t,e){Bn[Wn++]=ci,Bn[Wn++]=ui,ui=t,ci=e}function nh(t,e,n){$e[Ue++]=gt,$e[Ue++]=yt,$e[Ue++]=vn,vn=t;var r=gt;t=yt;var s=32-Xe(r)-1;r&=~(1<<s),n+=1;var i=32-Xe(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,gt=1<<32-Xe(e)+s|n<<s|r,yt=i+t}else gt=1<<i|n<<s|r,yt=t}function fl(t){t.return!==null&&(ln(t,1),nh(t,1,0))}function ml(t){for(;t===ui;)ui=Bn[--Wn],Bn[Wn]=null,ci=Bn[--Wn],Bn[Wn]=null;for(;t===vn;)vn=$e[--Ue],$e[Ue]=null,yt=$e[--Ue],$e[Ue]=null,gt=$e[--Ue],$e[Ue]=null}var Ae=null,Ce=null,V=!1,Qe=null;function rh(t,e){var n=Me(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Iu(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Ae=t,Ce=Bt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Ae=t,Ce=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=vn!==null?{id:gt,overflow:yt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Me(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Ae=t,Ce=null,!0):!1;default:return!1}}function ca(t){return(t.mode&1)!==0&&(t.flags&128)===0}function da(t){if(V){var e=Ce;if(e){var n=e;if(!Iu(t,e)){if(ca(t))throw Error(j(418));e=Bt(n.nextSibling);var r=Ae;e&&Iu(t,e)?rh(r,n):(t.flags=t.flags&-4097|2,V=!1,Ae=t)}}else{if(ca(t))throw Error(j(418));t.flags=t.flags&-4097|2,V=!1,Ae=t}}}function Ru(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Ae=t}function Cs(t){if(t!==Ae)return!1;if(!V)return Ru(t),V=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!oa(t.type,t.memoizedProps)),e&&(e=Ce)){if(ca(t))throw sh(),Error(j(418));for(;e;)rh(t,e),e=Bt(e.nextSibling)}if(Ru(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(j(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ce=Bt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ce=null}}else Ce=Ae?Bt(t.stateNode.nextSibling):null;return!0}function sh(){for(var t=Ce;t;)t=Bt(t.nextSibling)}function tr(){Ce=Ae=null,V=!1}function pl(t){Qe===null?Qe=[t]:Qe.push(t)}var zp=_t.ReactCurrentBatchConfig;function xr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(j(309));var r=n.stateNode}if(!r)throw Error(j(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(j(284));if(!n._owner)throw Error(j(290,t))}return t}function Ts(t,e){throw t=Object.prototype.toString.call(e),Error(j(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Lu(t){var e=t._init;return e(t._payload)}function ih(t){function e(g,p){if(t){var m=g.deletions;m===null?(g.deletions=[p],g.flags|=16):m.push(p)}}function n(g,p){if(!t)return null;for(;p!==null;)e(g,p),p=p.sibling;return null}function r(g,p){for(g=new Map;p!==null;)p.key!==null?g.set(p.key,p):g.set(p.index,p),p=p.sibling;return g}function s(g,p){return g=Yt(g,p),g.index=0,g.sibling=null,g}function i(g,p,m){return g.index=m,t?(m=g.alternate,m!==null?(m=m.index,m<p?(g.flags|=2,p):m):(g.flags|=2,p)):(g.flags|=1048576,p)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function l(g,p,m,x){return p===null||p.tag!==6?(p=ko(m,g.mode,x),p.return=g,p):(p=s(p,m),p.return=g,p)}function u(g,p,m,x){var k=m.type;return k===$n?d(g,p,m.props.children,x,m.key):p!==null&&(p.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Tt&&Lu(k)===p.type)?(x=s(p,m.props),x.ref=xr(g,p,m),x.return=g,x):(x=Qs(m.type,m.key,m.props,null,g.mode,x),x.ref=xr(g,p,m),x.return=g,x)}function c(g,p,m,x){return p===null||p.tag!==4||p.stateNode.containerInfo!==m.containerInfo||p.stateNode.implementation!==m.implementation?(p=_o(m,g.mode,x),p.return=g,p):(p=s(p,m.children||[]),p.return=g,p)}function d(g,p,m,x,k){return p===null||p.tag!==7?(p=gn(m,g.mode,x,k),p.return=g,p):(p=s(p,m),p.return=g,p)}function h(g,p,m){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ko(""+p,g.mode,m),p.return=g,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case vs:return m=Qs(p.type,p.key,p.props,null,g.mode,m),m.ref=xr(g,null,p),m.return=g,m;case Ln:return p=_o(p,g.mode,m),p.return=g,p;case Tt:var x=p._init;return h(g,x(p._payload),m)}if(jr(p)||pr(p))return p=gn(p,g.mode,m,null),p.return=g,p;Ts(g,p)}return null}function f(g,p,m,x){var k=p!==null?p.key:null;if(typeof m=="string"&&m!==""||typeof m=="number")return k!==null?null:l(g,p,""+m,x);if(typeof m=="object"&&m!==null){switch(m.$$typeof){case vs:return m.key===k?u(g,p,m,x):null;case Ln:return m.key===k?c(g,p,m,x):null;case Tt:return k=m._init,f(g,p,k(m._payload),x)}if(jr(m)||pr(m))return k!==null?null:d(g,p,m,x,null);Ts(g,m)}return null}function y(g,p,m,x,k){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(m)||null,l(p,g,""+x,k);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case vs:return g=g.get(x.key===null?m:x.key)||null,u(p,g,x,k);case Ln:return g=g.get(x.key===null?m:x.key)||null,c(p,g,x,k);case Tt:var E=x._init;return y(g,p,m,E(x._payload),k)}if(jr(x)||pr(x))return g=g.get(m)||null,d(p,g,x,k,null);Ts(p,x)}return null}function v(g,p,m,x){for(var k=null,E=null,N=p,C=p=0,Y=null;N!==null&&C<m.length;C++){N.index>C?(Y=N,N=null):Y=N.sibling;var L=f(g,N,m[C],x);if(L===null){N===null&&(N=Y);break}t&&N&&L.alternate===null&&e(g,N),p=i(L,p,C),E===null?k=L:E.sibling=L,E=L,N=Y}if(C===m.length)return n(g,N),V&&ln(g,C),k;if(N===null){for(;C<m.length;C++)N=h(g,m[C],x),N!==null&&(p=i(N,p,C),E===null?k=N:E.sibling=N,E=N);return V&&ln(g,C),k}for(N=r(g,N);C<m.length;C++)Y=y(N,g,C,m[C],x),Y!==null&&(t&&Y.alternate!==null&&N.delete(Y.key===null?C:Y.key),p=i(Y,p,C),E===null?k=Y:E.sibling=Y,E=Y);return t&&N.forEach(function(se){return e(g,se)}),V&&ln(g,C),k}function w(g,p,m,x){var k=pr(m);if(typeof k!="function")throw Error(j(150));if(m=k.call(m),m==null)throw Error(j(151));for(var E=k=null,N=p,C=p=0,Y=null,L=m.next();N!==null&&!L.done;C++,L=m.next()){N.index>C?(Y=N,N=null):Y=N.sibling;var se=f(g,N,L.value,x);if(se===null){N===null&&(N=Y);break}t&&N&&se.alternate===null&&e(g,N),p=i(se,p,C),E===null?k=se:E.sibling=se,E=se,N=Y}if(L.done)return n(g,N),V&&ln(g,C),k;if(N===null){for(;!L.done;C++,L=m.next())L=h(g,L.value,x),L!==null&&(p=i(L,p,C),E===null?k=L:E.sibling=L,E=L);return V&&ln(g,C),k}for(N=r(g,N);!L.done;C++,L=m.next())L=y(N,g,C,L.value,x),L!==null&&(t&&L.alternate!==null&&N.delete(L.key===null?C:L.key),p=i(L,p,C),E===null?k=L:E.sibling=L,E=L);return t&&N.forEach(function(nn){return e(g,nn)}),V&&ln(g,C),k}function b(g,p,m,x){if(typeof m=="object"&&m!==null&&m.type===$n&&m.key===null&&(m=m.props.children),typeof m=="object"&&m!==null){switch(m.$$typeof){case vs:e:{for(var k=m.key,E=p;E!==null;){if(E.key===k){if(k=m.type,k===$n){if(E.tag===7){n(g,E.sibling),p=s(E,m.props.children),p.return=g,g=p;break e}}else if(E.elementType===k||typeof k=="object"&&k!==null&&k.$$typeof===Tt&&Lu(k)===E.type){n(g,E.sibling),p=s(E,m.props),p.ref=xr(g,E,m),p.return=g,g=p;break e}n(g,E);break}else e(g,E);E=E.sibling}m.type===$n?(p=gn(m.props.children,g.mode,x,m.key),p.return=g,g=p):(x=Qs(m.type,m.key,m.props,null,g.mode,x),x.ref=xr(g,p,m),x.return=g,g=x)}return o(g);case Ln:e:{for(E=m.key;p!==null;){if(p.key===E)if(p.tag===4&&p.stateNode.containerInfo===m.containerInfo&&p.stateNode.implementation===m.implementation){n(g,p.sibling),p=s(p,m.children||[]),p.return=g,g=p;break e}else{n(g,p);break}else e(g,p);p=p.sibling}p=_o(m,g.mode,x),p.return=g,g=p}return o(g);case Tt:return E=m._init,b(g,p,E(m._payload),x)}if(jr(m))return v(g,p,m,x);if(pr(m))return w(g,p,m,x);Ts(g,m)}return typeof m=="string"&&m!==""||typeof m=="number"?(m=""+m,p!==null&&p.tag===6?(n(g,p.sibling),p=s(p,m),p.return=g,g=p):(n(g,p),p=ko(m,g.mode,x),p.return=g,g=p),o(g)):n(g,p)}return b}var nr=ih(!0),oh=ih(!1),di=Qt(null),hi=null,Hn=null,gl=null;function yl(){gl=Hn=hi=null}function vl(t){var e=di.current;H(di),t._currentValue=e}function ha(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Qn(t,e){hi=t,gl=Hn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_e=!0),t.firstContext=null)}function ze(t){var e=t._currentValue;if(gl!==t)if(t={context:t,memoizedValue:e,next:null},Hn===null){if(hi===null)throw Error(j(308));Hn=t,hi.dependencies={lanes:0,firstContext:t}}else Hn=Hn.next=t;return e}var fn=null;function wl(t){fn===null?fn=[t]:fn.push(t)}function ah(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,wl(e)):(n.next=s.next,s.next=n),e.interleaved=n,bt(t,r)}function bt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Pt=!1;function xl(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function vt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Wt(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,M&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,bt(t,n)}return s=r.interleaved,s===null?(e.next=e,wl(r)):(e.next=s.next,s.next=e),r.interleaved=e,bt(t,n)}function Vs(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,il(t,n)}}function $u(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fi(t,e,n,r){var s=t.updateQueue;Pt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=c:l.next=c,d.lastBaseUpdate=u))}if(i!==null){var h=s.baseState;o=0,d=c=u=null,l=i;do{var f=l.lane,y=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,w=l;switch(f=e,y=n,w.tag){case 1:if(v=w.payload,typeof v=="function"){h=v.call(y,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=w.payload,f=typeof v=="function"?v.call(y,h,f):v,f==null)break e;h=K({},h,f);break e;case 2:Pt=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else y={eventTime:y,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(c=d=y,u=h):d=d.next=y,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(d===null&&(u=h),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);xn|=o,t.lanes=o,t.memoizedState=h}}function Uu(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(j(191,s));s.call(r)}}}var fs={},lt=Qt(fs),Zr=Qt(fs),es=Qt(fs);function mn(t){if(t===fs)throw Error(j(174));return t}function bl(t,e){switch(B(es,e),B(Zr,t),B(lt,fs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Yo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Yo(e,t)}H(lt),B(lt,e)}function rr(){H(lt),H(Zr),H(es)}function uh(t){mn(es.current);var e=mn(lt.current),n=Yo(e,t.type);e!==n&&(B(Zr,t),B(lt,n))}function kl(t){Zr.current===t&&(H(lt),H(Zr))}var G=Qt(0);function mi(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var go=[];function _l(){for(var t=0;t<go.length;t++)go[t]._workInProgressVersionPrimary=null;go.length=0}var Ys=_t.ReactCurrentDispatcher,yo=_t.ReactCurrentBatchConfig,wn=0,q=null,ne=null,ie=null,pi=!1,Lr=!1,ts=0,Bp=0;function ce(){throw Error(j(321))}function Sl(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!et(t[n],e[n]))return!1;return!0}function jl(t,e,n,r,s,i){if(wn=i,q=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ys.current=t===null||t.memoizedState===null?Yp:Gp,t=n(r,s),Lr){i=0;do{if(Lr=!1,ts=0,25<=i)throw Error(j(301));i+=1,ie=ne=null,e.updateQueue=null,Ys.current=qp,t=n(r,s)}while(Lr)}if(Ys.current=gi,e=ne!==null&&ne.next!==null,wn=0,ie=ne=q=null,pi=!1,e)throw Error(j(300));return t}function El(){var t=ts!==0;return ts=0,t}function st(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?q.memoizedState=ie=t:ie=ie.next=t,ie}function Be(){if(ne===null){var t=q.alternate;t=t!==null?t.memoizedState:null}else t=ne.next;var e=ie===null?q.memoizedState:ie.next;if(e!==null)ie=e,ne=t;else{if(t===null)throw Error(j(310));ne=t,t={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},ie===null?q.memoizedState=ie=t:ie=ie.next=t}return ie}function ns(t,e){return typeof e=="function"?e(t):e}function vo(t){var e=Be(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=ne,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,u=null,c=i;do{var d=c.lane;if((wn&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=h,o=r):u=u.next=h,q.lanes|=d,xn|=d}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=l,et(r,e.memoizedState)||(_e=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,q.lanes|=i,xn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function wo(t){var e=Be(),n=e.queue;if(n===null)throw Error(j(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);et(i,e.memoizedState)||(_e=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function ch(){}function dh(t,e){var n=q,r=Be(),s=e(),i=!et(r.memoizedState,s);if(i&&(r.memoizedState=s,_e=!0),r=r.queue,Nl(mh.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||ie!==null&&ie.memoizedState.tag&1){if(n.flags|=2048,rs(9,fh.bind(null,n,r,s,e),void 0,null),oe===null)throw Error(j(349));wn&30||hh(n,e,s)}return s}function hh(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=q.updateQueue,e===null?(e={lastEffect:null,stores:null},q.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function fh(t,e,n,r){e.value=n,e.getSnapshot=r,ph(e)&&gh(t)}function mh(t,e,n){return n(function(){ph(e)&&gh(t)})}function ph(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!et(t,n)}catch{return!0}}function gh(t){var e=bt(t,1);e!==null&&Ze(e,t,1,-1)}function Mu(t){var e=st();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ns,lastRenderedState:t},e.queue=t,t=t.dispatch=Vp.bind(null,q,t),[e.memoizedState,t]}function rs(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=q.updateQueue,e===null?(e={lastEffect:null,stores:null},q.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function yh(){return Be().memoizedState}function Gs(t,e,n,r){var s=st();q.flags|=t,s.memoizedState=rs(1|e,n,void 0,r===void 0?null:r)}function Ri(t,e,n,r){var s=Be();r=r===void 0?null:r;var i=void 0;if(ne!==null){var o=ne.memoizedState;if(i=o.destroy,r!==null&&Sl(r,o.deps)){s.memoizedState=rs(e,n,i,r);return}}q.flags|=t,s.memoizedState=rs(1|e,n,i,r)}function Du(t,e){return Gs(8390656,8,t,e)}function Nl(t,e){return Ri(2048,8,t,e)}function vh(t,e){return Ri(4,2,t,e)}function wh(t,e){return Ri(4,4,t,e)}function xh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function bh(t,e,n){return n=n!=null?n.concat([t]):null,Ri(4,4,xh.bind(null,e,t),n)}function Cl(){}function kh(t,e){var n=Be();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sl(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function _h(t,e){var n=Be();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Sl(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Sh(t,e,n){return wn&21?(et(n,e)||(n=Td(),q.lanes|=n,xn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_e=!0),t.memoizedState=n)}function Wp(t,e){var n=D;D=n!==0&&4>n?n:4,t(!0);var r=yo.transition;yo.transition={};try{t(!1),e()}finally{D=n,yo.transition=r}}function jh(){return Be().memoizedState}function Hp(t,e,n){var r=Vt(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Eh(t))Nh(e,n);else if(n=ah(t,e,n,r),n!==null){var s=ye();Ze(n,t,r,s),Ch(n,e,r)}}function Vp(t,e,n){var r=Vt(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Eh(t))Nh(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,et(l,o)){var u=e.interleaved;u===null?(s.next=s,wl(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=ah(t,e,s,r),n!==null&&(s=ye(),Ze(n,t,r,s),Ch(n,e,r))}}function Eh(t){var e=t.alternate;return t===q||e!==null&&e===q}function Nh(t,e){Lr=pi=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Ch(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,il(t,n)}}var gi={readContext:ze,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useInsertionEffect:ce,useLayoutEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useMutableSource:ce,useSyncExternalStore:ce,useId:ce,unstable_isNewReconciler:!1},Yp={readContext:ze,useCallback:function(t,e){return st().memoizedState=[t,e===void 0?null:e],t},useContext:ze,useEffect:Du,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Gs(4194308,4,xh.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Gs(4194308,4,t,e)},useInsertionEffect:function(t,e){return Gs(4,2,t,e)},useMemo:function(t,e){var n=st();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=st();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Hp.bind(null,q,t),[r.memoizedState,t]},useRef:function(t){var e=st();return t={current:t},e.memoizedState=t},useState:Mu,useDebugValue:Cl,useDeferredValue:function(t){return st().memoizedState=t},useTransition:function(){var t=Mu(!1),e=t[0];return t=Wp.bind(null,t[1]),st().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=q,s=st();if(V){if(n===void 0)throw Error(j(407));n=n()}else{if(n=e(),oe===null)throw Error(j(349));wn&30||hh(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Du(mh.bind(null,r,i,t),[t]),r.flags|=2048,rs(9,fh.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=st(),e=oe.identifierPrefix;if(V){var n=yt,r=gt;n=(r&~(1<<32-Xe(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=ts++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Bp++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Gp={readContext:ze,useCallback:kh,useContext:ze,useEffect:Nl,useImperativeHandle:bh,useInsertionEffect:vh,useLayoutEffect:wh,useMemo:_h,useReducer:vo,useRef:yh,useState:function(){return vo(ns)},useDebugValue:Cl,useDeferredValue:function(t){var e=Be();return Sh(e,ne.memoizedState,t)},useTransition:function(){var t=vo(ns)[0],e=Be().memoizedState;return[t,e]},useMutableSource:ch,useSyncExternalStore:dh,useId:jh,unstable_isNewReconciler:!1},qp={readContext:ze,useCallback:kh,useContext:ze,useEffect:Nl,useImperativeHandle:bh,useInsertionEffect:vh,useLayoutEffect:wh,useMemo:_h,useReducer:wo,useRef:yh,useState:function(){return wo(ns)},useDebugValue:Cl,useDeferredValue:function(t){var e=Be();return ne===null?e.memoizedState=t:Sh(e,ne.memoizedState,t)},useTransition:function(){var t=wo(ns)[0],e=Be().memoizedState;return[t,e]},useMutableSource:ch,useSyncExternalStore:dh,useId:jh,unstable_isNewReconciler:!1};function qe(t,e){if(t&&t.defaultProps){e=K({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function fa(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:K({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Li={isMounted:function(t){return(t=t._reactInternals)?_n(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ye(),s=Vt(t),i=vt(r,s);i.payload=e,n!=null&&(i.callback=n),e=Wt(t,i,s),e!==null&&(Ze(e,t,s,r),Vs(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ye(),s=Vt(t),i=vt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Wt(t,i,s),e!==null&&(Ze(e,t,s,r),Vs(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ye(),r=Vt(t),s=vt(n,r);s.tag=2,e!=null&&(s.callback=e),e=Wt(t,s,r),e!==null&&(Ze(e,t,r,n),Vs(e,t,r))}};function Fu(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Kr(n,r)||!Kr(s,i):!0}function Th(t,e,n){var r=!1,s=Kt,i=e.contextType;return typeof i=="object"&&i!==null?i=ze(i):(s=je(e)?yn:fe.current,r=e.contextTypes,i=(r=r!=null)?er(t,s):Kt),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Li,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function zu(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Li.enqueueReplaceState(e,e.state,null)}function ma(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},xl(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=ze(i):(i=je(e)?yn:fe.current,s.context=er(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(fa(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Li.enqueueReplaceState(s,s.state,null),fi(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function sr(t,e){try{var n="",r=e;do n+=km(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function xo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function pa(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Kp=typeof WeakMap=="function"?WeakMap:Map;function Ph(t,e,n){n=vt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vi||(vi=!0,ja=r),pa(t,e)},n}function Ah(t,e,n){n=vt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){pa(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){pa(t,e),typeof r!="function"&&(Ht===null?Ht=new Set([this]):Ht.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Bu(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Kp;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=ug.bind(null,t,e,n),e.then(t,t))}function Wu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Hu(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=vt(-1,1),e.tag=2,Wt(n,e,1))),n.lanes|=1),t)}var Jp=_t.ReactCurrentOwner,_e=!1;function ge(t,e,n,r){e.child=t===null?oh(e,null,n,r):nr(e,t.child,n,r)}function Vu(t,e,n,r,s){n=n.render;var i=e.ref;return Qn(e,s),r=jl(t,e,n,r,i,s),n=El(),t!==null&&!_e?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,kt(t,e,s)):(V&&n&&fl(e),e.flags|=1,ge(t,e,r,s),e.child)}function Yu(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!$l(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Oh(t,e,i,r,s)):(t=Qs(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Kr,n(o,r)&&t.ref===e.ref)return kt(t,e,s)}return e.flags|=1,t=Yt(i,r),t.ref=e.ref,t.return=e,e.child=t}function Oh(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Kr(i,r)&&t.ref===e.ref)if(_e=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(_e=!0);else return e.lanes=t.lanes,kt(t,e,s)}return ga(t,e,n,r,s)}function Ih(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},B(Yn,Ne),Ne|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,B(Yn,Ne),Ne|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,B(Yn,Ne),Ne|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,B(Yn,Ne),Ne|=r;return ge(t,e,s,n),e.child}function Rh(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function ga(t,e,n,r,s){var i=je(n)?yn:fe.current;return i=er(e,i),Qn(e,s),n=jl(t,e,n,r,i,s),r=El(),t!==null&&!_e?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,kt(t,e,s)):(V&&r&&fl(e),e.flags|=1,ge(t,e,n,s),e.child)}function Gu(t,e,n,r,s){if(je(n)){var i=!0;li(e)}else i=!1;if(Qn(e,s),e.stateNode===null)qs(t,e),Th(e,n,r),ma(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=ze(c):(c=je(n)?yn:fe.current,c=er(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&zu(e,o,r,c),Pt=!1;var f=e.memoizedState;o.state=f,fi(e,r,o,s),u=e.memoizedState,l!==r||f!==u||Se.current||Pt?(typeof d=="function"&&(fa(e,n,d,r),u=e.memoizedState),(l=Pt||Fu(e,n,l,r,f,u,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,lh(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:qe(e.type,l),o.props=c,h=e.pendingProps,f=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=ze(u):(u=je(n)?yn:fe.current,u=er(e,u));var y=n.getDerivedStateFromProps;(d=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==u)&&zu(e,o,r,u),Pt=!1,f=e.memoizedState,o.state=f,fi(e,r,o,s);var v=e.memoizedState;l!==h||f!==v||Se.current||Pt?(typeof y=="function"&&(fa(e,n,y,r),v=e.memoizedState),(c=Pt||Fu(e,n,c,r,f,v,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return ya(t,e,n,r,i,s)}function ya(t,e,n,r,s,i){Rh(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Ou(e,n,!1),kt(t,e,i);r=e.stateNode,Jp.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=nr(e,t.child,null,i),e.child=nr(e,null,l,i)):ge(t,e,l,i),e.memoizedState=r.state,s&&Ou(e,n,!0),e.child}function Lh(t){var e=t.stateNode;e.pendingContext?Au(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Au(t,e.context,!1),bl(t,e.containerInfo)}function qu(t,e,n,r,s){return tr(),pl(s),e.flags|=256,ge(t,e,n,r),e.child}var va={dehydrated:null,treeContext:null,retryLane:0};function wa(t){return{baseLanes:t,cachePool:null,transitions:null}}function $h(t,e,n){var r=e.pendingProps,s=G.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),B(G,s&1),t===null)return da(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Mi(o,r,0,null),t=gn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=wa(n),e.memoizedState=va,t):Tl(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Qp(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Yt(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Yt(l,i):(i=gn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?wa(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=va,r}return i=t.child,t=i.sibling,r=Yt(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Tl(t,e){return e=Mi({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ps(t,e,n,r){return r!==null&&pl(r),nr(e,t.child,null,n),t=Tl(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Qp(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=xo(Error(j(422))),Ps(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Mi({mode:"visible",children:r.children},s,0,null),i=gn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&nr(e,t.child,null,o),e.child.memoizedState=wa(o),e.memoizedState=va,i);if(!(e.mode&1))return Ps(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(j(419)),r=xo(i,r,void 0),Ps(t,e,o,r)}if(l=(o&t.childLanes)!==0,_e||l){if(r=oe,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,bt(t,s),Ze(r,t,s,-1))}return Ll(),r=xo(Error(j(421))),Ps(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=cg.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Ce=Bt(s.nextSibling),Ae=e,V=!0,Qe=null,t!==null&&($e[Ue++]=gt,$e[Ue++]=yt,$e[Ue++]=vn,gt=t.id,yt=t.overflow,vn=e),e=Tl(e,r.children),e.flags|=4096,e)}function Ku(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ha(t.return,e,n)}function bo(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function Uh(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ge(t,e,r.children,n),r=G.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ku(t,n,e);else if(t.tag===19)Ku(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(B(G,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&mi(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),bo(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&mi(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}bo(e,!0,n,null,i);break;case"together":bo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function qs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function kt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),xn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(j(153));if(e.child!==null){for(t=e.child,n=Yt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Yt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Xp(t,e,n){switch(e.tag){case 3:Lh(e),tr();break;case 5:uh(e);break;case 1:je(e.type)&&li(e);break;case 4:bl(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;B(di,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(B(G,G.current&1),e.flags|=128,null):n&e.child.childLanes?$h(t,e,n):(B(G,G.current&1),t=kt(t,e,n),t!==null?t.sibling:null);B(G,G.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Uh(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),B(G,G.current),r)break;return null;case 22:case 23:return e.lanes=0,Ih(t,e,n)}return kt(t,e,n)}var Mh,xa,Dh,Fh;Mh=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xa=function(){};Dh=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,mn(lt.current);var i=null;switch(n){case"input":s=Bo(t,s),r=Bo(t,r),i=[];break;case"select":s=K({},s,{value:void 0}),r=K({},r,{value:void 0}),i=[];break;case"textarea":s=Vo(t,s),r=Vo(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=oi)}Go(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Br.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Br.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&W("scroll",t),i||l===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Fh=function(t,e,n,r){n!==r&&(e.flags|=4)};function br(t,e){if(!V)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function de(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Zp(t,e,n){var r=e.pendingProps;switch(ml(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return de(e),null;case 1:return je(e.type)&&ai(),de(e),null;case 3:return r=e.stateNode,rr(),H(Se),H(fe),_l(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Cs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qe!==null&&(Ca(Qe),Qe=null))),xa(t,e),de(e),null;case 5:kl(e);var s=mn(es.current);if(n=e.type,t!==null&&e.stateNode!=null)Dh(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(j(166));return de(e),null}if(t=mn(lt.current),Cs(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[ot]=e,r[Xr]=i,t=(e.mode&1)!==0,n){case"dialog":W("cancel",r),W("close",r);break;case"iframe":case"object":case"embed":W("load",r);break;case"video":case"audio":for(s=0;s<Nr.length;s++)W(Nr[s],r);break;case"source":W("error",r);break;case"img":case"image":case"link":W("error",r),W("load",r);break;case"details":W("toggle",r);break;case"input":su(r,i),W("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},W("invalid",r);break;case"textarea":ou(r,i),W("invalid",r)}Go(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Ns(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Ns(r.textContent,l,t),s=["children",""+l]):Br.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&W("scroll",r)}switch(n){case"input":ws(r),iu(r,i,!0);break;case"textarea":ws(r),au(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=oi)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=md(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[ot]=e,t[Xr]=r,Mh(t,e,!1,!1),e.stateNode=t;e:{switch(o=qo(n,r),n){case"dialog":W("cancel",t),W("close",t),s=r;break;case"iframe":case"object":case"embed":W("load",t),s=r;break;case"video":case"audio":for(s=0;s<Nr.length;s++)W(Nr[s],t);s=r;break;case"source":W("error",t),s=r;break;case"img":case"image":case"link":W("error",t),W("load",t),s=r;break;case"details":W("toggle",t),s=r;break;case"input":su(t,r),s=Bo(t,r),W("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=K({},r,{value:void 0}),W("invalid",t);break;case"textarea":ou(t,r),s=Vo(t,r),W("invalid",t);break;default:s=r}Go(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?yd(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&pd(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Wr(t,u):typeof u=="number"&&Wr(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Br.hasOwnProperty(i)?u!=null&&i==="onScroll"&&W("scroll",t):u!=null&&Za(t,i,u,o))}switch(n){case"input":ws(t),iu(t,r,!1);break;case"textarea":ws(t),au(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qt(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Gn(t,!!r.multiple,i,!1):r.defaultValue!=null&&Gn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=oi)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return de(e),null;case 6:if(t&&e.stateNode!=null)Fh(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(j(166));if(n=mn(es.current),mn(lt.current),Cs(e)){if(r=e.stateNode,n=e.memoizedProps,r[ot]=e,(i=r.nodeValue!==n)&&(t=Ae,t!==null))switch(t.tag){case 3:Ns(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ns(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[ot]=e,e.stateNode=r}return de(e),null;case 13:if(H(G),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(V&&Ce!==null&&e.mode&1&&!(e.flags&128))sh(),tr(),e.flags|=98560,i=!1;else if(i=Cs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(j(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(j(317));i[ot]=e}else tr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;de(e),i=!1}else Qe!==null&&(Ca(Qe),Qe=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||G.current&1?re===0&&(re=3):Ll())),e.updateQueue!==null&&(e.flags|=4),de(e),null);case 4:return rr(),xa(t,e),t===null&&Jr(e.stateNode.containerInfo),de(e),null;case 10:return vl(e.type._context),de(e),null;case 17:return je(e.type)&&ai(),de(e),null;case 19:if(H(G),i=e.memoizedState,i===null)return de(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)br(i,!1);else{if(re!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=mi(t),o!==null){for(e.flags|=128,br(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return B(G,G.current&1|2),e.child}t=t.sibling}i.tail!==null&&Q()>ir&&(e.flags|=128,r=!0,br(i,!1),e.lanes=4194304)}else{if(!r)if(t=mi(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),br(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!V)return de(e),null}else 2*Q()-i.renderingStartTime>ir&&n!==1073741824&&(e.flags|=128,r=!0,br(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=Q(),e.sibling=null,n=G.current,B(G,r?n&1|2:n&1),e):(de(e),null);case 22:case 23:return Rl(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ne&1073741824&&(de(e),e.subtreeFlags&6&&(e.flags|=8192)):de(e),null;case 24:return null;case 25:return null}throw Error(j(156,e.tag))}function eg(t,e){switch(ml(e),e.tag){case 1:return je(e.type)&&ai(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return rr(),H(Se),H(fe),_l(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return kl(e),null;case 13:if(H(G),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(j(340));tr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return H(G),null;case 4:return rr(),null;case 10:return vl(e.type._context),null;case 22:case 23:return Rl(),null;case 24:return null;default:return null}}var As=!1,he=!1,tg=typeof WeakSet=="function"?WeakSet:Set,P=null;function Vn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){J(t,e,r)}else n.current=null}function ba(t,e,n){try{n()}catch(r){J(t,e,r)}}var Ju=!1;function ng(t,e){if(sa=ri,t=Vd(),hl(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var y;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(u=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(y=h.firstChild)!==null;)f=h,h=y;for(;;){if(h===t)break t;if(f===n&&++c===s&&(l=o),f===i&&++d===r&&(u=o),(y=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=y}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ia={focusedElem:t,selectionRange:n},ri=!1,P=e;P!==null;)if(e=P,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,P=t;else for(;P!==null;){e=P;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var w=v.memoizedProps,b=v.memoizedState,g=e.stateNode,p=g.getSnapshotBeforeUpdate(e.elementType===e.type?w:qe(e.type,w),b);g.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var m=e.stateNode.containerInfo;m.nodeType===1?m.textContent="":m.nodeType===9&&m.documentElement&&m.removeChild(m.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(j(163))}}catch(x){J(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,P=t;break}P=e.return}return v=Ju,Ju=!1,v}function $r(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ba(e,n,i)}s=s.next}while(s!==r)}}function $i(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ka(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function zh(t){var e=t.alternate;e!==null&&(t.alternate=null,zh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ot],delete e[Xr],delete e[la],delete e[Mp],delete e[Dp])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Bh(t){return t.tag===5||t.tag===3||t.tag===4}function Qu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Bh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _a(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=oi));else if(r!==4&&(t=t.child,t!==null))for(_a(t,e,n),t=t.sibling;t!==null;)_a(t,e,n),t=t.sibling}function Sa(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Sa(t,e,n),t=t.sibling;t!==null;)Sa(t,e,n),t=t.sibling}var ae=null,Ke=!1;function jt(t,e,n){for(n=n.child;n!==null;)Wh(t,e,n),n=n.sibling}function Wh(t,e,n){if(at&&typeof at.onCommitFiberUnmount=="function")try{at.onCommitFiberUnmount(Ci,n)}catch{}switch(n.tag){case 5:he||Vn(n,e);case 6:var r=ae,s=Ke;ae=null,jt(t,e,n),ae=r,Ke=s,ae!==null&&(Ke?(t=ae,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ae.removeChild(n.stateNode));break;case 18:ae!==null&&(Ke?(t=ae,n=n.stateNode,t.nodeType===8?mo(t.parentNode,n):t.nodeType===1&&mo(t,n),Gr(t)):mo(ae,n.stateNode));break;case 4:r=ae,s=Ke,ae=n.stateNode.containerInfo,Ke=!0,jt(t,e,n),ae=r,Ke=s;break;case 0:case 11:case 14:case 15:if(!he&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ba(n,e,o),s=s.next}while(s!==r)}jt(t,e,n);break;case 1:if(!he&&(Vn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){J(n,e,l)}jt(t,e,n);break;case 21:jt(t,e,n);break;case 22:n.mode&1?(he=(r=he)||n.memoizedState!==null,jt(t,e,n),he=r):jt(t,e,n);break;default:jt(t,e,n)}}function Xu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new tg),e.forEach(function(r){var s=dg.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ve(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ae=l.stateNode,Ke=!1;break e;case 3:ae=l.stateNode.containerInfo,Ke=!0;break e;case 4:ae=l.stateNode.containerInfo,Ke=!0;break e}l=l.return}if(ae===null)throw Error(j(160));Wh(i,o,s),ae=null,Ke=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){J(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Hh(e,t),e=e.sibling}function Hh(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ve(e,t),rt(t),r&4){try{$r(3,t,t.return),$i(3,t)}catch(w){J(t,t.return,w)}try{$r(5,t,t.return)}catch(w){J(t,t.return,w)}}break;case 1:Ve(e,t),rt(t),r&512&&n!==null&&Vn(n,n.return);break;case 5:if(Ve(e,t),rt(t),r&512&&n!==null&&Vn(n,n.return),t.flags&32){var s=t.stateNode;try{Wr(s,"")}catch(w){J(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&hd(s,i),qo(l,o);var c=qo(l,i);for(o=0;o<u.length;o+=2){var d=u[o],h=u[o+1];d==="style"?yd(s,h):d==="dangerouslySetInnerHTML"?pd(s,h):d==="children"?Wr(s,h):Za(s,d,h,c)}switch(l){case"input":Wo(s,i);break;case"textarea":fd(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var y=i.value;y!=null?Gn(s,!!i.multiple,y,!1):f!==!!i.multiple&&(i.defaultValue!=null?Gn(s,!!i.multiple,i.defaultValue,!0):Gn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Xr]=i}catch(w){J(t,t.return,w)}}break;case 6:if(Ve(e,t),rt(t),r&4){if(t.stateNode===null)throw Error(j(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){J(t,t.return,w)}}break;case 3:if(Ve(e,t),rt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Gr(e.containerInfo)}catch(w){J(t,t.return,w)}break;case 4:Ve(e,t),rt(t);break;case 13:Ve(e,t),rt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Ol=Q())),r&4&&Xu(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(he=(c=he)||d,Ve(e,t),he=c):Ve(e,t),rt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(P=t,d=t.child;d!==null;){for(h=P=d;P!==null;){switch(f=P,y=f.child,f.tag){case 0:case 11:case 14:case 15:$r(4,f,f.return);break;case 1:Vn(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(w){J(r,n,w)}}break;case 5:Vn(f,f.return);break;case 22:if(f.memoizedState!==null){ec(h);continue}}y!==null?(y.return=f,P=y):ec(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,u=h.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=gd("display",o))}catch(w){J(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){J(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ve(e,t),rt(t),r&4&&Xu(t);break;case 21:break;default:Ve(e,t),rt(t)}}function rt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Bh(n)){var r=n;break e}n=n.return}throw Error(j(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Wr(s,""),r.flags&=-33);var i=Qu(t);Sa(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Qu(t);_a(t,l,o);break;default:throw Error(j(161))}}catch(u){J(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function rg(t,e,n){P=t,Vh(t)}function Vh(t,e,n){for(var r=(t.mode&1)!==0;P!==null;){var s=P,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||As;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||he;l=As;var c=he;if(As=o,(he=u)&&!c)for(P=s;P!==null;)o=P,u=o.child,o.tag===22&&o.memoizedState!==null?tc(s):u!==null?(u.return=o,P=u):tc(s);for(;i!==null;)P=i,Vh(i),i=i.sibling;P=s,As=l,he=c}Zu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,P=i):Zu(t)}}function Zu(t){for(;P!==null;){var e=P;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:he||$i(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!he)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:qe(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Uu(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Uu(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Gr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(j(163))}he||e.flags&512&&ka(e)}catch(f){J(e,e.return,f)}}if(e===t){P=null;break}if(n=e.sibling,n!==null){n.return=e.return,P=n;break}P=e.return}}function ec(t){for(;P!==null;){var e=P;if(e===t){P=null;break}var n=e.sibling;if(n!==null){n.return=e.return,P=n;break}P=e.return}}function tc(t){for(;P!==null;){var e=P;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{$i(4,e)}catch(u){J(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){J(e,s,u)}}var i=e.return;try{ka(e)}catch(u){J(e,i,u)}break;case 5:var o=e.return;try{ka(e)}catch(u){J(e,o,u)}}}catch(u){J(e,e.return,u)}if(e===t){P=null;break}var l=e.sibling;if(l!==null){l.return=e.return,P=l;break}P=e.return}}var sg=Math.ceil,yi=_t.ReactCurrentDispatcher,Pl=_t.ReactCurrentOwner,De=_t.ReactCurrentBatchConfig,M=0,oe=null,Z=null,le=0,Ne=0,Yn=Qt(0),re=0,ss=null,xn=0,Ui=0,Al=0,Ur=null,be=null,Ol=0,ir=1/0,ft=null,vi=!1,ja=null,Ht=null,Os=!1,Lt=null,wi=0,Mr=0,Ea=null,Ks=-1,Js=0;function ye(){return M&6?Q():Ks!==-1?Ks:Ks=Q()}function Vt(t){return t.mode&1?M&2&&le!==0?le&-le:zp.transition!==null?(Js===0&&(Js=Td()),Js):(t=D,t!==0||(t=window.event,t=t===void 0?16:$d(t.type)),t):1}function Ze(t,e,n,r){if(50<Mr)throw Mr=0,Ea=null,Error(j(185));cs(t,n,r),(!(M&2)||t!==oe)&&(t===oe&&(!(M&2)&&(Ui|=n),re===4&&Ot(t,le)),Ee(t,r),n===1&&M===0&&!(e.mode&1)&&(ir=Q()+500,Ii&&Xt()))}function Ee(t,e){var n=t.callbackNode;zm(t,e);var r=ni(t,t===oe?le:0);if(r===0)n!==null&&cu(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&cu(n),e===1)t.tag===0?Fp(nc.bind(null,t)):th(nc.bind(null,t)),$p(function(){!(M&6)&&Xt()}),n=null;else{switch(Pd(r)){case 1:n=sl;break;case 4:n=Nd;break;case 16:n=ti;break;case 536870912:n=Cd;break;default:n=ti}n=Zh(n,Yh.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Yh(t,e){if(Ks=-1,Js=0,M&6)throw Error(j(327));var n=t.callbackNode;if(Xn()&&t.callbackNode!==n)return null;var r=ni(t,t===oe?le:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=xi(t,r);else{e=r;var s=M;M|=2;var i=qh();(oe!==t||le!==e)&&(ft=null,ir=Q()+500,pn(t,e));do try{ag();break}catch(l){Gh(t,l)}while(1);yl(),yi.current=i,M=s,Z!==null?e=0:(oe=null,le=0,e=re)}if(e!==0){if(e===2&&(s=Zo(t),s!==0&&(r=s,e=Na(t,s))),e===1)throw n=ss,pn(t,0),Ot(t,r),Ee(t,Q()),n;if(e===6)Ot(t,r);else{if(s=t.current.alternate,!(r&30)&&!ig(s)&&(e=xi(t,r),e===2&&(i=Zo(t),i!==0&&(r=i,e=Na(t,i))),e===1))throw n=ss,pn(t,0),Ot(t,r),Ee(t,Q()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(j(345));case 2:un(t,be,ft);break;case 3:if(Ot(t,r),(r&130023424)===r&&(e=Ol+500-Q(),10<e)){if(ni(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ye(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=aa(un.bind(null,t,be,ft),e);break}un(t,be,ft);break;case 4:if(Ot(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Xe(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=Q()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*sg(r/1960))-r,10<r){t.timeoutHandle=aa(un.bind(null,t,be,ft),r);break}un(t,be,ft);break;case 5:un(t,be,ft);break;default:throw Error(j(329))}}}return Ee(t,Q()),t.callbackNode===n?Yh.bind(null,t):null}function Na(t,e){var n=Ur;return t.current.memoizedState.isDehydrated&&(pn(t,e).flags|=256),t=xi(t,e),t!==2&&(e=be,be=n,e!==null&&Ca(e)),t}function Ca(t){be===null?be=t:be.push.apply(be,t)}function ig(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!et(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ot(t,e){for(e&=~Al,e&=~Ui,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xe(e),r=1<<n;t[n]=-1,e&=~r}}function nc(t){if(M&6)throw Error(j(327));Xn();var e=ni(t,0);if(!(e&1))return Ee(t,Q()),null;var n=xi(t,e);if(t.tag!==0&&n===2){var r=Zo(t);r!==0&&(e=r,n=Na(t,r))}if(n===1)throw n=ss,pn(t,0),Ot(t,e),Ee(t,Q()),n;if(n===6)throw Error(j(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,un(t,be,ft),Ee(t,Q()),null}function Il(t,e){var n=M;M|=1;try{return t(e)}finally{M=n,M===0&&(ir=Q()+500,Ii&&Xt())}}function bn(t){Lt!==null&&Lt.tag===0&&!(M&6)&&Xn();var e=M;M|=1;var n=De.transition,r=D;try{if(De.transition=null,D=1,t)return t()}finally{D=r,De.transition=n,M=e,!(M&6)&&Xt()}}function Rl(){Ne=Yn.current,H(Yn)}function pn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Lp(n)),Z!==null)for(n=Z.return;n!==null;){var r=n;switch(ml(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ai();break;case 3:rr(),H(Se),H(fe),_l();break;case 5:kl(r);break;case 4:rr();break;case 13:H(G);break;case 19:H(G);break;case 10:vl(r.type._context);break;case 22:case 23:Rl()}n=n.return}if(oe=t,Z=t=Yt(t.current,null),le=Ne=e,re=0,ss=null,Al=Ui=xn=0,be=Ur=null,fn!==null){for(e=0;e<fn.length;e++)if(n=fn[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}fn=null}return t}function Gh(t,e){do{var n=Z;try{if(yl(),Ys.current=gi,pi){for(var r=q.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}pi=!1}if(wn=0,ie=ne=q=null,Lr=!1,ts=0,Pl.current=null,n===null||n.return===null){re=1,ss=e,Z=null;break}e:{var i=t,o=n.return,l=n,u=e;if(e=le,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var y=Wu(o);if(y!==null){y.flags&=-257,Hu(y,o,l,i,e),y.mode&1&&Bu(i,c,e),e=y,u=c;var v=e.updateQueue;if(v===null){var w=new Set;w.add(u),e.updateQueue=w}else v.add(u);break e}else{if(!(e&1)){Bu(i,c,e),Ll();break e}u=Error(j(426))}}else if(V&&l.mode&1){var b=Wu(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Hu(b,o,l,i,e),pl(sr(u,l));break e}}i=u=sr(u,l),re!==4&&(re=2),Ur===null?Ur=[i]:Ur.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=Ph(i,u,e);$u(i,g);break e;case 1:l=u;var p=i.type,m=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(Ht===null||!Ht.has(m)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=Ah(i,l,e);$u(i,x);break e}}i=i.return}while(i!==null)}Jh(n)}catch(k){e=k,Z===n&&n!==null&&(Z=n=n.return);continue}break}while(1)}function qh(){var t=yi.current;return yi.current=gi,t===null?gi:t}function Ll(){(re===0||re===3||re===2)&&(re=4),oe===null||!(xn&268435455)&&!(Ui&268435455)||Ot(oe,le)}function xi(t,e){var n=M;M|=2;var r=qh();(oe!==t||le!==e)&&(ft=null,pn(t,e));do try{og();break}catch(s){Gh(t,s)}while(1);if(yl(),M=n,yi.current=r,Z!==null)throw Error(j(261));return oe=null,le=0,re}function og(){for(;Z!==null;)Kh(Z)}function ag(){for(;Z!==null&&!Om();)Kh(Z)}function Kh(t){var e=Xh(t.alternate,t,Ne);t.memoizedProps=t.pendingProps,e===null?Jh(t):Z=e,Pl.current=null}function Jh(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=eg(n,e),n!==null){n.flags&=32767,Z=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{re=6,Z=null;return}}else if(n=Zp(n,e,Ne),n!==null){Z=n;return}if(e=e.sibling,e!==null){Z=e;return}Z=e=t}while(e!==null);re===0&&(re=5)}function un(t,e,n){var r=D,s=De.transition;try{De.transition=null,D=1,lg(t,e,n,r)}finally{De.transition=s,D=r}return null}function lg(t,e,n,r){do Xn();while(Lt!==null);if(M&6)throw Error(j(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(j(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Bm(t,i),t===oe&&(Z=oe=null,le=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Os||(Os=!0,Zh(ti,function(){return Xn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=De.transition,De.transition=null;var o=D;D=1;var l=M;M|=4,Pl.current=null,ng(t,n),Hh(n,t),Cp(ia),ri=!!sa,ia=sa=null,t.current=n,rg(n),Im(),M=l,D=o,De.transition=i}else t.current=n;if(Os&&(Os=!1,Lt=t,wi=s),i=t.pendingLanes,i===0&&(Ht=null),$m(n.stateNode),Ee(t,Q()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(vi)throw vi=!1,t=ja,ja=null,t;return wi&1&&t.tag!==0&&Xn(),i=t.pendingLanes,i&1?t===Ea?Mr++:(Mr=0,Ea=t):Mr=0,Xt(),null}function Xn(){if(Lt!==null){var t=Pd(wi),e=De.transition,n=D;try{if(De.transition=null,D=16>t?16:t,Lt===null)var r=!1;else{if(t=Lt,Lt=null,wi=0,M&6)throw Error(j(331));var s=M;for(M|=4,P=t.current;P!==null;){var i=P,o=i.child;if(P.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(P=c;P!==null;){var d=P;switch(d.tag){case 0:case 11:case 15:$r(8,d,i)}var h=d.child;if(h!==null)h.return=d,P=h;else for(;P!==null;){d=P;var f=d.sibling,y=d.return;if(zh(d),d===c){P=null;break}if(f!==null){f.return=y,P=f;break}P=y}}}var v=i.alternate;if(v!==null){var w=v.child;if(w!==null){v.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}P=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,P=o;else e:for(;P!==null;){if(i=P,i.flags&2048)switch(i.tag){case 0:case 11:case 15:$r(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,P=g;break e}P=i.return}}var p=t.current;for(P=p;P!==null;){o=P;var m=o.child;if(o.subtreeFlags&2064&&m!==null)m.return=o,P=m;else e:for(o=p;P!==null;){if(l=P,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:$i(9,l)}}catch(k){J(l,l.return,k)}if(l===o){P=null;break e}var x=l.sibling;if(x!==null){x.return=l.return,P=x;break e}P=l.return}}if(M=s,Xt(),at&&typeof at.onPostCommitFiberRoot=="function")try{at.onPostCommitFiberRoot(Ci,t)}catch{}r=!0}return r}finally{D=n,De.transition=e}}return!1}function rc(t,e,n){e=sr(n,e),e=Ph(t,e,1),t=Wt(t,e,1),e=ye(),t!==null&&(cs(t,1,e),Ee(t,e))}function J(t,e,n){if(t.tag===3)rc(t,t,n);else for(;e!==null;){if(e.tag===3){rc(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ht===null||!Ht.has(r))){t=sr(n,t),t=Ah(e,t,1),e=Wt(e,t,1),t=ye(),e!==null&&(cs(e,1,t),Ee(e,t));break}}e=e.return}}function ug(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ye(),t.pingedLanes|=t.suspendedLanes&n,oe===t&&(le&n)===n&&(re===4||re===3&&(le&130023424)===le&&500>Q()-Ol?pn(t,0):Al|=n),Ee(t,e)}function Qh(t,e){e===0&&(t.mode&1?(e=ks,ks<<=1,!(ks&130023424)&&(ks=4194304)):e=1);var n=ye();t=bt(t,e),t!==null&&(cs(t,e,n),Ee(t,n))}function cg(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Qh(t,n)}function dg(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(j(314))}r!==null&&r.delete(e),Qh(t,n)}var Xh;Xh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Se.current)_e=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _e=!1,Xp(t,e,n);_e=!!(t.flags&131072)}else _e=!1,V&&e.flags&1048576&&nh(e,ci,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;qs(t,e),t=e.pendingProps;var s=er(e,fe.current);Qn(e,n),s=jl(null,e,r,t,s,n);var i=El();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,je(r)?(i=!0,li(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,xl(e),s.updater=Li,e.stateNode=s,s._reactInternals=e,ma(e,r,t,n),e=ya(null,e,r,!0,i,n)):(e.tag=0,V&&i&&fl(e),ge(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(qs(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=fg(r),t=qe(r,t),s){case 0:e=ga(null,e,r,t,n);break e;case 1:e=Gu(null,e,r,t,n);break e;case 11:e=Vu(null,e,r,t,n);break e;case 14:e=Yu(null,e,r,qe(r.type,t),n);break e}throw Error(j(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:qe(r,s),ga(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:qe(r,s),Gu(t,e,r,s,n);case 3:e:{if(Lh(e),t===null)throw Error(j(387));r=e.pendingProps,i=e.memoizedState,s=i.element,lh(t,e),fi(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=sr(Error(j(423)),e),e=qu(t,e,r,n,s);break e}else if(r!==s){s=sr(Error(j(424)),e),e=qu(t,e,r,n,s);break e}else for(Ce=Bt(e.stateNode.containerInfo.firstChild),Ae=e,V=!0,Qe=null,n=oh(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(tr(),r===s){e=kt(t,e,n);break e}ge(t,e,r,n)}e=e.child}return e;case 5:return uh(e),t===null&&da(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,oa(r,s)?o=null:i!==null&&oa(r,i)&&(e.flags|=32),Rh(t,e),ge(t,e,o,n),e.child;case 6:return t===null&&da(e),null;case 13:return $h(t,e,n);case 4:return bl(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=nr(e,null,r,n):ge(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:qe(r,s),Vu(t,e,r,s,n);case 7:return ge(t,e,e.pendingProps,n),e.child;case 8:return ge(t,e,e.pendingProps.children,n),e.child;case 12:return ge(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,B(di,r._currentValue),r._currentValue=o,i!==null)if(et(i.value,o)){if(i.children===s.children&&!Se.current){e=kt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=vt(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),ha(i.return,n,e),l.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(j(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),ha(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ge(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Qn(e,n),s=ze(s),r=r(s),e.flags|=1,ge(t,e,r,n),e.child;case 14:return r=e.type,s=qe(r,e.pendingProps),s=qe(r.type,s),Yu(t,e,r,s,n);case 15:return Oh(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:qe(r,s),qs(t,e),e.tag=1,je(r)?(t=!0,li(e)):t=!1,Qn(e,n),Th(e,r,s),ma(e,r,s,n),ya(null,e,r,!0,t,n);case 19:return Uh(t,e,n);case 22:return Ih(t,e,n)}throw Error(j(156,e.tag))};function Zh(t,e){return Ed(t,e)}function hg(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Me(t,e,n,r){return new hg(t,e,n,r)}function $l(t){return t=t.prototype,!(!t||!t.isReactComponent)}function fg(t){if(typeof t=="function")return $l(t)?1:0;if(t!=null){if(t=t.$$typeof,t===tl)return 11;if(t===nl)return 14}return 2}function Yt(t,e){var n=t.alternate;return n===null?(n=Me(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Qs(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")$l(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case $n:return gn(n.children,s,i,e);case el:o=8,s|=8;break;case Mo:return t=Me(12,n,e,s|2),t.elementType=Mo,t.lanes=i,t;case Do:return t=Me(13,n,e,s),t.elementType=Do,t.lanes=i,t;case Fo:return t=Me(19,n,e,s),t.elementType=Fo,t.lanes=i,t;case ud:return Mi(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ad:o=10;break e;case ld:o=9;break e;case tl:o=11;break e;case nl:o=14;break e;case Tt:o=16,r=null;break e}throw Error(j(130,t==null?t:typeof t,""))}return e=Me(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function gn(t,e,n,r){return t=Me(7,t,r,e),t.lanes=n,t}function Mi(t,e,n,r){return t=Me(22,t,r,e),t.elementType=ud,t.lanes=n,t.stateNode={isHidden:!1},t}function ko(t,e,n){return t=Me(6,t,null,e),t.lanes=n,t}function _o(t,e,n){return e=Me(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mg(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=no(0),this.expirationTimes=no(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=no(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ul(t,e,n,r,s,i,o,l,u){return t=new mg(t,e,n,l,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Me(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},xl(i),t}function pg(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ln,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function ef(t){if(!t)return Kt;t=t._reactInternals;e:{if(_n(t)!==t||t.tag!==1)throw Error(j(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(je(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(j(171))}if(t.tag===1){var n=t.type;if(je(n))return eh(t,n,e)}return e}function tf(t,e,n,r,s,i,o,l,u){return t=Ul(n,r,!0,t,s,i,o,l,u),t.context=ef(null),n=t.current,r=ye(),s=Vt(n),i=vt(r,s),i.callback=e??null,Wt(n,i,s),t.current.lanes=s,cs(t,s,r),Ee(t,r),t}function Di(t,e,n,r){var s=e.current,i=ye(),o=Vt(s);return n=ef(n),e.context===null?e.context=n:e.pendingContext=n,e=vt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Wt(s,e,o),t!==null&&(Ze(t,s,o,i),Vs(t,s,o)),o}function bi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function sc(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ml(t,e){sc(t,e),(t=t.alternate)&&sc(t,e)}function gg(){return null}var nf=typeof reportError=="function"?reportError:function(t){console.error(t)};function Dl(t){this._internalRoot=t}Fi.prototype.render=Dl.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(j(409));Di(t,e,null,null)};Fi.prototype.unmount=Dl.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;bn(function(){Di(null,t,null,null)}),e[xt]=null}};function Fi(t){this._internalRoot=t}Fi.prototype.unstable_scheduleHydration=function(t){if(t){var e=Id();t={blockedOn:null,target:t,priority:e};for(var n=0;n<At.length&&e!==0&&e<At[n].priority;n++);At.splice(n,0,t),n===0&&Ld(t)}};function Fl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function zi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ic(){}function yg(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=bi(o);i.call(c)}}var o=tf(e,r,t,0,null,!1,!1,"",ic);return t._reactRootContainer=o,t[xt]=o.current,Jr(t.nodeType===8?t.parentNode:t),bn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=bi(u);l.call(c)}}var u=Ul(t,0,!1,null,null,!1,!1,"",ic);return t._reactRootContainer=u,t[xt]=u.current,Jr(t.nodeType===8?t.parentNode:t),bn(function(){Di(e,u,n,r)}),u}function Bi(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=bi(o);l.call(u)}}Di(e,o,t,s)}else o=yg(n,e,t,s,r);return bi(o)}Ad=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Er(e.pendingLanes);n!==0&&(il(e,n|1),Ee(e,Q()),!(M&6)&&(ir=Q()+500,Xt()))}break;case 13:bn(function(){var r=bt(t,1);if(r!==null){var s=ye();Ze(r,t,1,s)}}),Ml(t,1)}};ol=function(t){if(t.tag===13){var e=bt(t,134217728);if(e!==null){var n=ye();Ze(e,t,134217728,n)}Ml(t,134217728)}};Od=function(t){if(t.tag===13){var e=Vt(t),n=bt(t,e);if(n!==null){var r=ye();Ze(n,t,e,r)}Ml(t,e)}};Id=function(){return D};Rd=function(t,e){var n=D;try{return D=t,e()}finally{D=n}};Jo=function(t,e,n){switch(e){case"input":if(Wo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Oi(r);if(!s)throw Error(j(90));dd(r),Wo(r,s)}}}break;case"textarea":fd(t,n);break;case"select":e=n.value,e!=null&&Gn(t,!!n.multiple,e,!1)}};xd=Il;bd=bn;var vg={usingClientEntryPoint:!1,Events:[hs,Fn,Oi,vd,wd,Il]},kr={findFiberByHostInstance:hn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},wg={bundleType:kr.bundleType,version:kr.version,rendererPackageName:kr.rendererPackageName,rendererConfig:kr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_t.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Sd(t),t===null?null:t.stateNode},findFiberByHostInstance:kr.findFiberByHostInstance||gg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Is=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Is.isDisabled&&Is.supportsFiber)try{Ci=Is.inject(wg),at=Is}catch{}}Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vg;Ie.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Fl(e))throw Error(j(200));return pg(t,e,null,n)};Ie.createRoot=function(t,e){if(!Fl(t))throw Error(j(299));var n=!1,r="",s=nf;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ul(t,1,!1,null,null,n,!1,r,s),t[xt]=e.current,Jr(t.nodeType===8?t.parentNode:t),new Dl(e)};Ie.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(j(188)):(t=Object.keys(t).join(","),Error(j(268,t)));return t=Sd(e),t=t===null?null:t.stateNode,t};Ie.flushSync=function(t){return bn(t)};Ie.hydrate=function(t,e,n){if(!zi(e))throw Error(j(200));return Bi(null,t,e,!0,n)};Ie.hydrateRoot=function(t,e,n){if(!Fl(t))throw Error(j(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=nf;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=tf(e,null,t,1,n??null,s,!1,i,o),t[xt]=e.current,Jr(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Fi(e)};Ie.render=function(t,e,n){if(!zi(e))throw Error(j(200));return Bi(null,t,e,!1,n)};Ie.unmountComponentAtNode=function(t){if(!zi(t))throw Error(j(40));return t._reactRootContainer?(bn(function(){Bi(null,null,t,!1,function(){t._reactRootContainer=null,t[xt]=null})}),!0):!1};Ie.unstable_batchedUpdates=Il;Ie.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!zi(n))throw Error(j(200));if(t==null||t._reactInternals===void 0)throw Error(j(38));return Bi(t,e,n,!1,r)};Ie.version="18.3.1-next-f1338f8080-20240426";function rf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rf)}catch(t){console.error(t)}}rf(),rd.exports=Ie;var xg=rd.exports,oc=xg;$o.createRoot=oc.createRoot,$o.hydrateRoot=oc.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function is(){return is=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},is.apply(this,arguments)}var $t;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($t||($t={}));const ac="popstate";function bg(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return Ta("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:ki(s)}return _g(e,n,null,t)}function X(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sf(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kg(){return Math.random().toString(36).substr(2,8)}function lc(t,e){return{usr:t.state,key:t.key,idx:e}}function Ta(t,e,n,r){return n===void 0&&(n=null),is({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?cr(e):e,{state:n,key:e&&e.key||r||kg()})}function ki(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function cr(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function _g(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=$t.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(is({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=$t.Pop;let b=d(),g=b==null?null:b-c;c=b,u&&u({action:l,location:w.location,delta:g})}function f(b,g){l=$t.Push;let p=Ta(w.location,b,g);n&&n(p,b),c=d()+1;let m=lc(p,c),x=w.createHref(p);try{o.pushState(m,"",x)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(x)}i&&u&&u({action:l,location:w.location,delta:1})}function y(b,g){l=$t.Replace;let p=Ta(w.location,b,g);n&&n(p,b),c=d();let m=lc(p,c),x=w.createHref(p);o.replaceState(m,"",x),i&&u&&u({action:l,location:w.location,delta:0})}function v(b){let g=s.location.origin!=="null"?s.location.origin:s.location.href,p=typeof b=="string"?b:ki(b);return p=p.replace(/ $/,"%20"),X(g,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,g)}let w={get action(){return l},get location(){return t(s,o)},listen(b){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(ac,h),u=b,()=>{s.removeEventListener(ac,h),u=null}},createHref(b){return e(s,b)},createURL:v,encodeLocation(b){let g=v(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:y,go(b){return o.go(b)}};return w}var uc;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(uc||(uc={}));function Sg(t,e,n){return n===void 0&&(n="/"),jg(t,e,n,!1)}function jg(t,e,n,r){let s=typeof e=="string"?cr(e):e,i=zl(s.pathname||"/",n);if(i==null)return null;let o=of(t);Eg(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=Ug(i);l=Lg(o[u],c,r)}return l}function of(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(X(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=Gt([r,u.relativePath]),d=n.concat(u);i.children&&i.children.length>0&&(X(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),of(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:Ig(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let u of af(i.path))s(i,o,u)}),e}function af(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=af(r.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function Eg(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Rg(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Ng=/^:[\w-]+$/,Cg=3,Tg=2,Pg=1,Ag=10,Og=-2,cc=t=>t==="*";function Ig(t,e){let n=t.split("/"),r=n.length;return n.some(cc)&&(r+=Og),e&&(r+=Tg),n.filter(s=>!cc(s)).reduce((s,i)=>s+(Ng.test(i)?Cg:i===""?Pg:Ag),r)}function Rg(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function Lg(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=dc({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),f=u.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=dc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Gt([i,h.pathname]),pathnameBase:zg(Gt([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Gt([i,h.pathnameBase]))}return o}function dc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=$g(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:y}=d;if(f==="*"){let w=l[h]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const v=l[h];return y&&!v?c[f]=void 0:c[f]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function $g(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),sf(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function Ug(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sf(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function zl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function Mg(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?cr(t):t;return{pathname:n?n.startsWith("/")?n:Dg(n,e):e,search:Bg(r),hash:Wg(s)}}function Dg(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function So(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Fg(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Bl(t,e){let n=Fg(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Wl(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=cr(t):(s=is({},t),X(!s.pathname||!s.pathname.includes("?"),So("?","pathname","search",s)),X(!s.pathname||!s.pathname.includes("#"),So("#","pathname","hash",s)),X(!s.search||!s.search.includes("#"),So("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?e[h]:"/"}let u=Mg(s,l),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const Gt=t=>t.join("/").replace(/\/\/+/g,"/"),zg=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Bg=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Wg=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Hg(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const lf=["post","put","patch","delete"];new Set(lf);const Vg=["get",...lf];new Set(Vg);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function os(){return os=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},os.apply(this,arguments)}const Hl=_.createContext(null),Yg=_.createContext(null),Zt=_.createContext(null),Wi=_.createContext(null),en=_.createContext({outlet:null,matches:[],isDataRoute:!1}),uf=_.createContext(null);function Gg(t,e){let{relative:n}=e===void 0?{}:e;dr()||X(!1);let{basename:r,navigator:s}=_.useContext(Zt),{hash:i,pathname:o,search:l}=df(t,{relative:n}),u=o;return r!=="/"&&(u=o==="/"?r:Gt([r,o])),s.createHref({pathname:u,search:l,hash:i})}function dr(){return _.useContext(Wi)!=null}function St(){return dr()||X(!1),_.useContext(Wi).location}function cf(t){_.useContext(Zt).static||_.useLayoutEffect(t)}function hr(){let{isDataRoute:t}=_.useContext(en);return t?oy():qg()}function qg(){dr()||X(!1);let t=_.useContext(Hl),{basename:e,future:n,navigator:r}=_.useContext(Zt),{matches:s}=_.useContext(en),{pathname:i}=St(),o=JSON.stringify(Bl(s,n.v7_relativeSplatPath)),l=_.useRef(!1);return cf(()=>{l.current=!0}),_.useCallback(function(c,d){if(d===void 0&&(d={}),!l.current)return;if(typeof c=="number"){r.go(c);return}let h=Wl(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Gt([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}function df(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=_.useContext(Zt),{matches:s}=_.useContext(en),{pathname:i}=St(),o=JSON.stringify(Bl(s,r.v7_relativeSplatPath));return _.useMemo(()=>Wl(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function Kg(t,e){return Jg(t,e)}function Jg(t,e,n,r){dr()||X(!1);let{navigator:s}=_.useContext(Zt),{matches:i}=_.useContext(en),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let u=o?o.pathnameBase:"/";o&&o.route;let c=St(),d;if(e){var h;let b=typeof e=="string"?cr(e):e;u==="/"||(h=b.pathname)!=null&&h.startsWith(u)||X(!1),d=b}else d=c;let f=d.pathname||"/",y=f;if(u!=="/"){let b=u.replace(/^\//,"").split("/");y="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=Sg(t,{pathname:y}),w=ty(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Gt([u,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?u:Gt([u,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&w?_.createElement(Wi.Provider,{value:{location:os({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:$t.Pop}},w):w}function Qg(){let t=iy(),e=Hg(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:s},n):null,i)}const Xg=_.createElement(Qg,null);class Zg extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?_.createElement(en.Provider,{value:this.props.routeContext},_.createElement(uf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ey(t){let{routeContext:e,match:n,children:r}=t,s=_.useContext(Hl);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(en.Provider,{value:e},r)}function ty(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||X(!1),o=o.slice(0,Math.min(o.length,d+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:y}=n,v=h.route.loader&&f[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||v){u=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let y,v=!1,w=null,b=null;n&&(y=l&&h.route.id?l[h.route.id]:void 0,w=h.route.errorElement||Xg,u&&(c<0&&f===0?(ay("route-fallback",!1),v=!0,b=null):c===f&&(v=!0,b=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),p=()=>{let m;return y?m=w:v?m=b:h.route.Component?m=_.createElement(h.route.Component,null):h.route.element?m=h.route.element:m=d,_.createElement(ey,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:m})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?_.createElement(Zg,{location:n.location,revalidation:n.revalidation,component:w,error:y,children:p(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):p()},null)}var hf=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(hf||{}),_i=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(_i||{});function ny(t){let e=_.useContext(Hl);return e||X(!1),e}function ry(t){let e=_.useContext(Yg);return e||X(!1),e}function sy(t){let e=_.useContext(en);return e||X(!1),e}function ff(t){let e=sy(),n=e.matches[e.matches.length-1];return n.route.id||X(!1),n.route.id}function iy(){var t;let e=_.useContext(uf),n=ry(_i.UseRouteError),r=ff(_i.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function oy(){let{router:t}=ny(hf.UseNavigateStable),e=ff(_i.UseNavigateStable),n=_.useRef(!1);return cf(()=>{n.current=!0}),_.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,os({fromRouteId:e},i)))},[t,e])}const hc={};function ay(t,e,n){!e&&!hc[t]&&(hc[t]=!0)}function ly(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function uy(t){let{to:e,replace:n,state:r,relative:s}=t;dr()||X(!1);let{future:i,static:o}=_.useContext(Zt),{matches:l}=_.useContext(en),{pathname:u}=St(),c=hr(),d=Wl(e,Bl(l,i.v7_relativeSplatPath),u,s==="path"),h=JSON.stringify(d);return _.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function Nt(t){X(!1)}function cy(t){let{basename:e="/",children:n=null,location:r,navigationType:s=$t.Pop,navigator:i,static:o=!1,future:l}=t;dr()&&X(!1);let u=e.replace(/^\/*/,"/"),c=_.useMemo(()=>({basename:u,navigator:i,static:o,future:os({v7_relativeSplatPath:!1},l)}),[u,l,i,o]);typeof r=="string"&&(r=cr(r));let{pathname:d="/",search:h="",hash:f="",state:y=null,key:v="default"}=r,w=_.useMemo(()=>{let b=zl(d,u);return b==null?null:{location:{pathname:b,search:h,hash:f,state:y,key:v},navigationType:s}},[u,d,h,f,y,v,s]);return w==null?null:_.createElement(Zt.Provider,{value:c},_.createElement(Wi.Provider,{children:n,value:w}))}function dy(t){let{children:e,location:n}=t;return Kg(Pa(e),n)}new Promise(()=>{});function Pa(t,e){e===void 0&&(e=[]);let n=[];return _.Children.forEach(t,(r,s)=>{if(!_.isValidElement(r))return;let i=[...e,s];if(r.type===_.Fragment){n.push.apply(n,Pa(r.props.children,i));return}r.type!==Nt&&X(!1),!r.props.index||!r.props.children||X(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Pa(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Aa(){return Aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Aa.apply(this,arguments)}function hy(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function fy(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function my(t,e){return t.button===0&&(!e||e==="_self")&&!fy(t)}function Oa(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function py(t,e){let n=Oa(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const gy=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],yy="6";try{window.__reactRouterVersion=yy}catch{}const vy="startTransition",fc=um[vy];function wy(t){let{basename:e,children:n,future:r,window:s}=t,i=_.useRef();i.current==null&&(i.current=bg({window:s,v5Compat:!0}));let o=i.current,[l,u]=_.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=_.useCallback(h=>{c&&fc?fc(()=>u(h)):u(h)},[u,c]);return _.useLayoutEffect(()=>o.listen(d),[o,d]),_.useEffect(()=>ly(r),[r]),_.createElement(cy,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const xy=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",by=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Te=_.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:u,to:c,preventScrollReset:d,viewTransition:h}=e,f=hy(e,gy),{basename:y}=_.useContext(Zt),v,w=!1;if(typeof c=="string"&&by.test(c)&&(v=c,xy))try{let m=new URL(window.location.href),x=c.startsWith("//")?new URL(m.protocol+c):new URL(c),k=zl(x.pathname,y);x.origin===m.origin&&k!=null?c=k+x.search+x.hash:w=!0}catch{}let b=Gg(c,{relative:s}),g=ky(c,{replace:o,state:l,target:u,preventScrollReset:d,relative:s,viewTransition:h});function p(m){r&&r(m),m.defaultPrevented||g(m)}return _.createElement("a",Aa({},f,{href:v||b,onClick:w||i?r:p,ref:n,target:u}))});var mc;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(mc||(mc={}));var pc;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(pc||(pc={}));function ky(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,u=hr(),c=St(),d=df(t,{relative:o});return _.useCallback(h=>{if(my(h,n)){h.preventDefault();let f=r!==void 0?r:ki(c)===ki(d);u(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[c,u,d,r,s,n,t,i,o,l])}function mf(t){let e=_.useRef(Oa(t)),n=_.useRef(!1),r=St(),s=_.useMemo(()=>py(r.search,n.current?null:e.current),[r.search]),i=hr(),o=_.useCallback((l,u)=>{const c=Oa(typeof l=="function"?l(s):l);n.current=!0,i("?"+c,u)},[i,s]);return[s,o]}const _y="modulepreload",Sy=function(t){return"/"+t},gc={},ms=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=Sy(i),i in gc)return;gc[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!r)for(let d=s.length-1;d>=0;d--){const h=s[d];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":_y,o||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),o)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},jy=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ms(()=>Promise.resolve().then(()=>fr),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Vl extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class Ey extends Vl{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class yc extends Vl{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class vc extends Vl{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Ia;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Ia||(Ia={}));var Ny=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};class Cy{constructor(e,{headers:n={},customFetch:r,region:s=Ia.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=jy(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return Ny(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:u}=n;u||(u=this.region);const c=new URL(`${this.url}/${e}`);u&&u!=="any"&&(l["x-region"]=u,c.searchParams.set("forceFunctionRegion",u));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(c.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(w=>{throw new Ey(w)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new yc(h);if(!h.ok)throw new vc(h);let y=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return y==="application/json"?v=yield h.json():y==="application/octet-stream"?v=yield h.blob():y==="text/event-stream"?v=h:y==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof vc||s instanceof yc?s.context:void 0}}})}}var ke={},Yl={},Hi={},ps={},Vi={},Yi={},Ty=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},or=Ty();const Py=or.fetch,pf=or.fetch.bind(or),gf=or.Headers,Ay=or.Request,Oy=or.Response,fr=Object.freeze(Object.defineProperty({__proto__:null,Headers:gf,Request:Ay,Response:Oy,default:pf,fetch:Py},Symbol.toStringTag,{value:"Module"})),Iy=Gf(fr);var Gi={};Object.defineProperty(Gi,"__esModule",{value:!0});let Ry=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Gi.default=Ry;var yf=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yi,"__esModule",{value:!0});const Ly=yf(Iy),$y=yf(Gi);let Uy=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=Ly.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,u,c;let d=null,h=null,f=null,y=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const p=await i.text();p===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=p:h=JSON.parse(p))}const b=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),g=(u=i.headers.get("content-range"))===null||u===void 0?void 0:u.split("/");b&&g&&g.length>1&&(f=parseInt(g[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,y=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const b=await i.text();try{d=JSON.parse(b),Array.isArray(d)&&i.status===404&&(h=[],d=null,y=200,v="OK")}catch{i.status===404&&b===""?(y=204,v="No Content"):d={message:b}}if(d&&this.isMaybeSingle&&(!((c=d==null?void 0:d.details)===null||c===void 0)&&c.includes("0 rows"))&&(d=null,y=200,v="OK"),d&&this.shouldThrowOnError)throw new $y.default(d)}return{error:d,data:h,count:f,status:y,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,u;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(u=i==null?void 0:i.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Yi.default=Uy;var My=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vi,"__esModule",{value:!0});const Dy=My(Yi);let Fy=class extends Dy.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const u=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${u};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};Vi.default=Fy;var zy=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ps,"__esModule",{value:!0});const By=zy(Vi);let Wy=class extends By.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};ps.default=Wy;var Hy=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Hi,"__esModule",{value:!0});const _r=Hy(ps);let Vy=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new _r.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,u)=>l.concat(Object.keys(u)),[]);if(o.length>0){const l=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",l.join(","))}}return new _r.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const u=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(u.length>0){const c=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new _r.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new _r.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new _r.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};Hi.default=Vy;var vf=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Yl,"__esModule",{value:!0});const Yy=vf(Hi),Gy=vf(ps);let qy=class wf{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new Yy.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new wf(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let l;const u=new URL(`${this.url}/rpc/${e}`);let c;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{u.searchParams.append(h,f)})):(l="POST",c=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new Gy.default({method:l,url:u,headers:d,schema:this.schemaName,body:c,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Yl.default=qy;var mr=Fe&&Fe.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ke,"__esModule",{value:!0});ke.PostgrestError=ke.PostgrestBuilder=ke.PostgrestTransformBuilder=ke.PostgrestFilterBuilder=ke.PostgrestQueryBuilder=ke.PostgrestClient=void 0;const xf=mr(Yl);ke.PostgrestClient=xf.default;const bf=mr(Hi);ke.PostgrestQueryBuilder=bf.default;const kf=mr(ps);ke.PostgrestFilterBuilder=kf.default;const _f=mr(Vi);ke.PostgrestTransformBuilder=_f.default;const Sf=mr(Yi);ke.PostgrestBuilder=Sf.default;const jf=mr(Gi);ke.PostgrestError=jf.default;var Ky=ke.default={PostgrestClient:xf.default,PostgrestQueryBuilder:bf.default,PostgrestFilterBuilder:kf.default,PostgrestTransformBuilder:_f.default,PostgrestBuilder:Sf.default,PostgrestError:jf.default};const{PostgrestClient:Jy,PostgrestQueryBuilder:kw,PostgrestFilterBuilder:_w,PostgrestTransformBuilder:Sw,PostgrestBuilder:jw,PostgrestError:Ew}=Ky;class Qy{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Xy="2.15.5",Zy=`realtime-js/${Xy}`,ev="1.0.0",Ra=1e4,tv=1e3,nv=100;var Dr;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Dr||(Dr={}));var ee;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ee||(ee={}));var Je;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Je||(Je={}));var La;(function(t){t.websocket="websocket"})(La||(La={}));var dn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(dn||(dn={}));class rv{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+s));o=o+s;const u=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:u,payload:c}}}class Ef{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var z;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(z||(z={}));const wc=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=sv(o,t,e,s),i),{})},sv=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?Nf(i,o):$a(o)},Nf=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return lv(e,n)}switch(t){case z.bool:return iv(e);case z.float4:case z.float8:case z.int2:case z.int4:case z.int8:case z.numeric:case z.oid:return ov(e);case z.json:case z.jsonb:return av(e);case z.timestamp:return uv(e);case z.abstime:case z.date:case z.daterange:case z.int4range:case z.int8range:case z.money:case z.reltime:case z.text:case z.time:case z.timestamptz:case z.timetz:case z.tsrange:case z.tstzrange:return $a(e);default:return $a(e)}},$a=t=>t,iv=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},ov=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},av=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},lv=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Nf(e,l))}return t},uv=t=>typeof t=="string"?t.replace(" ","T"):t,Cf=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class jo{constructor(e,n,r={},s=Ra){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var xc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(xc||(xc={}));class Fr{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Fr.syncState(this.state,s,i,o),this.pendingDiffs.forEach(u=>{this.state=Fr.syncDiff(this.state,u,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Fr.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},u={};return this.map(i,(c,d)=>{o[c]||(u[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(b=>b.presence_ref),y=h.map(b=>b.presence_ref),v=d.filter(b=>y.indexOf(b.presence_ref)<0),w=h.filter(b=>f.indexOf(b.presence_ref)<0);v.length>0&&(l[c]=v),w.length>0&&(u[c]=w)}else l[c]=d}),this.syncDiff(i,{joins:l,leaves:u},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,u)=>{var c;const d=(c=e[l])!==null&&c!==void 0?c:[];if(e[l]=this.cloneDeep(u),d.length>0){const h=e[l].map(y=>y.presence_ref),f=d.filter(y=>h.indexOf(y.presence_ref)<0);e[l].unshift(...f)}r(l,d,u)}),this.map(o,(l,u)=>{let c=e[l];if(!c)return;const d=u.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=c,s(l,c,u),c.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var bc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(bc||(bc={}));var zr;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(zr||(zr={}));var mt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(mt||(mt={}));class Gl{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ee.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new jo(this,Je.join,this.params,this.timeout),this.rejoinTimer=new Ef(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ee.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ee.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ee.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Je.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Fr(this),this.broadcastEndpointURL=Cf(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ee.closed){const{config:{broadcast:o,presence:l,private:u}}=this.params,c=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(y=>y.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[zr.PRESENCE]&&this.bindings[zr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:c,private:u};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(y=>e==null?void 0:e(mt.CHANNEL_ERROR,y)),this._onClose(()=>e==null?void 0:e(mt.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:y})=>{var v;if(this.socket.setAuth(),y===void 0){e==null||e(mt.SUBSCRIBED);return}else{const w=this.bindings.postgres_changes,b=(v=w==null?void 0:w.length)!==null&&v!==void 0?v:0,g=[];for(let p=0;p<b;p++){const m=w[p],{filter:{event:x,schema:k,table:E,filter:N}}=m,C=y&&y[p];if(C&&C.event===x&&C.schema===k&&C.table===E&&C.filter===N)g.push(Object.assign(Object.assign({},m),{id:C.id}));else{this.unsubscribe(),this.state=ee.errored,e==null||e(mt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=g,e&&e(mt.SUBSCRIBED);return}}).receive("error",y=>{this.state=ee.errored,e==null||e(mt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(y).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(mt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===ee.joined&&e===zr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,u;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((u=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ee.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Je.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new jo(this,Je.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ee.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new jo(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>nv){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:u,leave:c,join:d}=Je;if(r&&[l,u,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(y=>{var v,w,b;return((v=y.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(w=y.filter)===null||w===void 0?void 0:w.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(y=>y.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(y=>{var v,w,b,g,p,m;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in y){const x=y.id,k=(v=y.filter)===null||v===void 0?void 0:v.event;return x&&((w=n.ids)===null||w===void 0?void 0:w.includes(x))&&(k==="*"||(k==null?void 0:k.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const x=(p=(g=y==null?void 0:y.filter)===null||g===void 0?void 0:g.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return x==="*"||x===((m=n==null?void 0:n.event)===null||m===void 0?void 0:m.toLocaleLowerCase())}else return y.type.toLocaleLowerCase()===o}).map(y=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:w,table:b,commit_timestamp:g,type:p,errors:m}=v;f=Object.assign(Object.assign({},{schema:w,table:b,commit_timestamp:g,eventType:p,new:{},old:{},errors:m}),this._getPayloadRecords(v))}y.callback(f,r)})}_isClosed(){return this.state===ee.closed}_isJoined(){return this.state===ee.joined}_isJoining(){return this.state===ee.joining}_isLeaving(){return this.state===ee.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Gl.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Je.close,{},e)}_onError(e){this._on(Je.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ee.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=wc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=wc(e.columns,e.old_record)),n}}const Eo=()=>{},Rs={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},cv=[1e3,2e3,5e3,1e4],dv=1e4,hv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class fv{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ra,this.transport=null,this.heartbeatIntervalMs=Rs.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Eo,this.ref=0,this.reconnectTimer=null,this.logger=Eo,this.conn=null,this.sendBuffer=[],this.serializer=new rv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>ms(()=>Promise.resolve().then(()=>fr),void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${La.websocket}`,this.httpEndpoint=Cf(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Qy.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:ev}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Dr.connecting:return dn.Connecting;case Dr.open:return dn.Open;case Dr.closing:return dn.Closing;default:return dn.Closed}}isConnected(){return this.connectionState()===dn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Gl(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var u;(u=this.conn)===null||u===void 0||u.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(tv,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},Rs.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",u=i.status||"";this.log("receive",`${u} ${r} ${s} ${l}`.trim(),i),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Je.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([hv],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Zy};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Je.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Ef(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Rs.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,l,u,c,d;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Ra,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:Rs.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:Eo,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:h=>cv[h-1]||dv,this.encode=(c=e==null?void 0:e.encode)!==null&&c!==void 0?c:(h,f)=>f(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class ql extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function te(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class mv extends ql{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ua extends ql{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var pv=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};const Tf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ms(()=>Promise.resolve().then(()=>fr),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},gv=()=>pv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ms(()=>Promise.resolve().then(()=>fr),void 0)).Response:Response}),Ma=t=>{if(Array.isArray(t))return t.map(n=>Ma(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Ma(r)}),e},yv=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var Sn=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};const No=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),vv=(t,e,n)=>Sn(void 0,void 0,void 0,function*(){const r=yield gv();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new mv(No(s),i,o))}).catch(s=>{e(new Ua(No(s),s))}):e(new Ua(No(t),t))}),wv=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(yv(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function gs(t,e,n,r,s,i){return Sn(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,wv(e,r,s,i)).then(u=>{if(!u.ok)throw u;return r!=null&&r.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>vv(u,l,r))})})}function Si(t,e,n,r){return Sn(this,void 0,void 0,function*(){return gs(t,"GET",e,n,r)})}function it(t,e,n,r,s){return Sn(this,void 0,void 0,function*(){return gs(t,"POST",e,r,s,n)})}function Da(t,e,n,r,s){return Sn(this,void 0,void 0,function*(){return gs(t,"PUT",e,r,s,n)})}function xv(t,e,n,r){return Sn(this,void 0,void 0,function*(){return gs(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Pf(t,e,n,r,s){return Sn(this,void 0,void 0,function*(){return gs(t,"DELETE",e,r,s,n)})}var me=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};const bv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},kc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class kv{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Tf(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return me(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},kc),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const u=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),u&&i.append("metadata",this.encodeMetadata(u))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,u&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield(e=="PUT"?Da:it)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:c,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(te(i))return{data:null,error:i};throw i}})}upload(e,n,r){return me(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return me(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let u;const c=Object.assign({upsert:kc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(u=new FormData,u.append("cacheControl",c.cacheControl),u.append("",r)):typeof FormData<"u"&&r instanceof FormData?(u=r,u.append("cacheControl",c.cacheControl)):(u=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield Da(this.fetch,l.toString(),u,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(te(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(e,n){return me(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield it(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new ql("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}update(e,n,r){return me(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return me(this,void 0,void 0,function*(){try{return{data:yield it(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}})}copy(e,n,r){return me(this,void 0,void 0,function*(){try{return{data:{path:(yield it(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return me(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield it(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return me(this,void 0,void 0,function*(){try{const s=yield it(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}})}download(e,n){return me(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Si(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(te(l))return{data:null,error:l};throw l}})}info(e){return me(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Si(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Ma(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}exists(e){return me(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield xv(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r)&&r instanceof Ua){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});u!==""&&s.push(u);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${c}`)}}}remove(e){return me(this,void 0,void 0,function*(){try{return{data:yield Pf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}})}list(e,n,r){return me(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},bv),n),{prefix:e||""});return{data:yield it(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(te(s))return{data:null,error:s};throw s}})}listV2(e,n){return me(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield it(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const _v="2.12.1",Sv={"X-Client-Info":`storage-js/${_v}`};var Cn=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};class jv{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},Sv),n),this.fetch=Tf(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Cn(this,void 0,void 0,function*(){try{return{data:yield Si(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(te(e))return{data:null,error:e};throw e}})}getBucket(e){return Cn(this,void 0,void 0,function*(){try{return{data:yield Si(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Cn(this,void 0,void 0,function*(){try{return{data:yield it(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Cn(this,void 0,void 0,function*(){try{return{data:yield Da(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(te(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Cn(this,void 0,void 0,function*(){try{return{data:yield it(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Cn(this,void 0,void 0,function*(){try{return{data:yield Pf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(te(n))return{data:null,error:n};throw n}})}}class Ev extends jv{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new kv(this.url,this.headers,e,this.fetch)}}const Nv="2.57.4";let Cr="";typeof Deno<"u"?Cr="deno":typeof document<"u"?Cr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Cr="react-native":Cr="node";const Cv={"X-Client-Info":`supabase-js-${Cr}/${Nv}`},Tv={headers:Cv},Pv={schema:"public"},Av={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Ov={};var Iv=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};const Rv=t=>{let e;return t?e=t:typeof fetch>"u"?e=pf:e=fetch,(...n)=>e(...n)},Lv=()=>typeof Headers>"u"?gf:Headers,$v=(t,e,n)=>{const r=Rv(n),s=Lv();return(i,o)=>Iv(void 0,void 0,void 0,function*(){var l;const u=(l=yield e())!==null&&l!==void 0?l:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${u}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var Uv=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};function Mv(t){return t.endsWith("/")?t:t+"/"}function Dv(t,e){var n,r;const{db:s,auth:i,realtime:o,global:l}=t,{db:u,auth:c,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Uv(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function Fv(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Mv(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Af="2.71.1",In=30*1e3,Fa=3,Co=Fa*In,zv="http://localhost:9999",Bv="supabase.auth.token",Wv={"X-Client-Info":`gotrue-js/${Af}`},za="X-Supabase-Api-Version",Of={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Hv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Vv=10*60*1e3;class Kl extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function R(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Yv extends Kl{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Gv(t){return R(t)&&t.name==="AuthApiError"}class If extends Kl{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class tn extends Kl{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class Ct extends tn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function qv(t){return R(t)&&t.name==="AuthSessionMissingError"}class Ls extends tn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class $s extends tn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Us extends tn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Kv(t){return R(t)&&t.name==="AuthImplicitGrantRedirectError"}class _c extends tn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ba extends tn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function To(t){return R(t)&&t.name==="AuthRetryableFetchError"}class Sc extends tn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Wa extends tn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const ji="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),jc=` 	
\r=`.split(""),Jv=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<jc.length;e+=1)t[jc[e].charCodeAt(0)]=-2;for(let e=0;e<ji.length;e+=1)t[ji[e].charCodeAt(0)]=e;return t})();function Ec(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ji[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(ji[r]),e.queuedBits-=6}}function Rf(t,e,n){const r=Jv[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Nc(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Zv(o,r,n)};for(let o=0;o<t.length;o+=1)Rf(t.charCodeAt(o),s,i);return e.join("")}function Qv(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Xv(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Qv(r,e)}}function Zv(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function e0(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Rf(t.charCodeAt(s),n,r);return new Uint8Array(e)}function t0(t){const e=[];return Xv(t,n=>e.push(n)),new Uint8Array(e)}function n0(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Ec(s,n,r)),Ec(null,n,r),e.join("")}function r0(t){return Math.round(Date.now()/1e3)+t}function s0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ye=()=>typeof window<"u"&&typeof document<"u",on={tested:!1,writable:!1},Lf=()=>{if(!Ye())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(on.tested)return on.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),on.tested=!0,on.writable=!0}catch{on.tested=!0,on.writable=!1}return on.writable};function i0(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const $f=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ms(()=>Promise.resolve().then(()=>fr),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},o0=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Rn=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},an=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Et=async(t,e)=>{await t.removeItem(e)};class qi{constructor(){this.promise=new qi.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}qi.promiseConstructor=Promise;function Po(t){const e=t.split(".");if(e.length!==3)throw new Wa("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Hv.test(e[r]))throw new Wa("JWT not in base64url format");return{header:JSON.parse(Nc(e[0])),payload:JSON.parse(Nc(e[1])),signature:e0(e[2]),raw:{header:e[0],payload:e[1]}}}async function a0(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function l0(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function u0(t){return("0"+t.toString(16)).substr(-2)}function c0(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,u0).join("")}async function d0(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function h0(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await d0(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Tn(t,e,n=!1){const r=c0();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Rn(t,`${e}-code-verifier`,s);const i=await h0(r);return[i,r===i?"plain":"s256"]}const f0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function m0(t){const e=t.headers.get(za);if(!e||!e.match(f0))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function p0(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function g0(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const y0=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pn(t){if(!y0.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Ao(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Cc(t){return JSON.parse(JSON.stringify(t))}var v0=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const cn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),w0=[502,503,504];async function Tc(t){var e;if(!o0(t))throw new Ba(cn(t),0);if(w0.includes(t.status))throw new Ba(cn(t),t.status);let n;try{n=await t.json()}catch(i){throw new If(cn(i),i)}let r;const s=m0(t);if(s&&s.getTime()>=Of["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Sc(cn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new Ct}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Sc(cn(n),t.status,n.weak_password.reasons);throw new Yv(cn(n),t.status||500,r)}const x0=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function $(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[za]||(i[za]=Of["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=await b0(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(u):{data:Object.assign({},u),error:null}}async function b0(t,e,n,r,s,i){const o=x0(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(u){throw console.error(u),new Ba(cn(u),0)}if(l.ok||await Tc(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(u){await Tc(u)}}function ht(t){var e;let n=null;j0(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=r0(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Pc(t){const e=ht(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function It(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function k0(t){return{data:t,error:null}}function _0(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=v0(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},u=Object.assign({},o);return{data:{properties:l,user:u},error:null}}function S0(t){return t}function j0(t){return t.access_token&&t.refresh_token&&t.expires_in}const Oo=["global","local","others"];var E0=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class N0{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=$f(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Oo[0]){if(Oo.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Oo.join(", ")}`);try{return await $(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await $(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:It})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=E0(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await $(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:_0,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(R(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await $(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:It})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,u;try{const c={nextPage:null,lastPage:0,total:0},d=await $(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:S0});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,y=(u=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&u!==void 0?u:[];return y.length>0&&(y.forEach(v=>{const w=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);c[`${b}Page`]=w}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(R(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Pn(e);try{return await $(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:It})}catch(n){if(R(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Pn(e);try{return await $(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:It})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Pn(e);try{return await $(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:It})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Pn(e.userId);try{const{data:n,error:r}=await $(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(R(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Pn(e.userId),Pn(e.id);try{return{data:await $(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}}function Ac(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function C0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const An={debug:!!(globalThis&&Lf()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Uf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class T0 extends Uf{}async function P0(t,e,n){An.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),An.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){An.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{An.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw An.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new T0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(An.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}C0();const A0={url:zv,storageKey:Bv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Wv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Oc(t,e,n){return await n()}const On={};class as{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=as.nextInstanceID,as.nextInstanceID+=1,this.instanceID>0&&Ye()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},A0),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new N0({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=$f(s.fetch),this.lock=s.lock||Oc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ye()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=P0:this.lock=Oc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Lf()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ac(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Ac(this.memoryStorage)),Ye()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=On[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){On[this.storageKey]=Object.assign(Object.assign({},On[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=On[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){On[this.storageKey]=Object.assign(Object.assign({},On[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Af}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=i0(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ye()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Kv(i)){const u=(e=i.details)===null||e===void 0?void 0:e.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return R(n)?{error:n}:{error:new If("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:ht}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let y=null,v=null;this.flowType==="pkce"&&([y,v]=await Tn(this.storage,this.storageKey)),i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:y,code_challenge_method:v},xform:ht})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:ht})}else throw new $s("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const u=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(i){if(R(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Pc})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Pc})}else throw new $s("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Ls}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(R(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,l,u,c,d,h,f,y;let v,w;if("message"in e)v=e.message,w=e.signature;else{const{chain:b,wallet:g,statement:p,options:m}=e;let x;if(Ye())if(typeof g=="object")x=g;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))x=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(m!=null&&m.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=g}const k=new URL((n=m==null?void 0:m.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in x&&x.signIn){const E=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},m==null?void 0:m.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),p?{statement:p}:null));let N;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")N=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)N=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)v=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),w=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${k.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(r=m==null?void 0:m.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=m==null?void 0:m.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${m.signInWithSolana.notBefore}`]:[],...!((o=m==null?void 0:m.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${m.signInWithSolana.expirationTime}`]:[],...!((l=m==null?void 0:m.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${m.signInWithSolana.chainId}`]:[],...!((u=m==null?void 0:m.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${m.signInWithSolana.nonce}`]:[],...!((c=m==null?void 0:m.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${m.signInWithSolana.requestId}`]:[],...!((h=(d=m==null?void 0:m.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...m.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const E=await x.signMessage(new TextEncoder().encode(v),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");w=E}}try{const{data:b,error:g}=await $(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:n0(w)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:ht});if(g)throw g;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new Ls}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:g})}catch(b){if(R(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const n=await an(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await $(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:ht});if(await Et(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ls}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(R(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:ht}),{data:u,error:c}=l;return c?{data:{user:null,session:null},error:c}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new Ls}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:c})}catch(n){if(R(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:u}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Tn(this.storage,this.storageKey));const{error:h}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(r=u==null?void 0:u.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:u}=e,{data:c,error:d}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(i=u==null?void 0:u.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(o=u==null?void 0:u.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new $s("You must provide either an email or phone number.")}catch(l){if(R(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await $(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:ht});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const u=o.session,c=o.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:c,session:u},error:null}}catch(s){if(R(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await Tn(this.storage,this.storageKey)),await $(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:k0})}catch(i){if(R(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new Ct;const{error:s}=await $(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(R(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await $(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await $(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new $s("You must provide either an email or phone number and a type")}catch(n){if(R(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await an(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<Co:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await an(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=Ao()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(u,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:It}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Ct}:await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:It})})}catch(n){if(R(n))return qv(n)&&(await this._removeSession(),await Et(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new Ct;const o=s.session;let l=null,u=null;this.flowType==="pkce"&&e.email!=null&&([l,u]=await Tn(this.storage,this.storageKey));const{data:c,error:d}=await $(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:u}),jwt:o.access_token,xform:It});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(R(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Ct;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Po(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:u}=await this._callRefreshToken(e.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:u}=await this._getUser(e.access_token);if(u)throw u;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(R(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new Ct;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(R(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ye())throw new Us("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Us(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new _c("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Us("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new _c("No code detected.");const{data:p,error:m}=await this._exchangeCodeForSession(e.code);if(m)throw m;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:u,token_type:c}=e;if(!i||!l||!o||!c)throw new Us("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;u&&(f=parseInt(u));const y=f-d;y*1e3<=In&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:w,error:b}=await this._getUser(i);if(b)throw b;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:w.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(R(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await an(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Gv(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await Et(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=s0(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await Tn(this.storage,this.storageKey,!0));try{return await $(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(R(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(R(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,u,c,d;const{data:h,error:f}=i;if(f)throw f;const y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(u=e.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await $(this.fetch,"GET",y,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ye()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(R(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await $(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await l0(async s=>(s>0&&await a0(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await $(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:ht})),(s,i)=>{const o=200*Math.pow(2,s);return i&&To(i)&&Date.now()+o-r<In})}catch(r){if(this._debug(n,"error",r),R(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ye()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await an(this.storage,this.storageKey);if(s&&this.userStorage){let o=await an(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Rn(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:Ao()}else if(s&&!s.user&&!s.user){const o=await an(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await Et(this.storage,this.storageKey+"-user"),await Rn(this.storage,this.storageKey,s)):s.user=Ao()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<Co;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${Co}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),To(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new Ct;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new qi;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new Ct;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),R(i)){const o={session:null,error:i};return To(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(u){i.push(u)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Rn(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Cc(s);await Rn(this.storage,this.storageKey,i)}else{const s=Cc(n);await Rn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Et(this.storage,this.storageKey),await Et(this.storage,this.storageKey+"-code-verifier"),await Et(this.storage,this.storageKey+"-user"),this.userStorage&&await Et(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ye()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),In);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/In);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${In}ms, refresh threshold is ${Fa} ticks`),s<=Fa&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Uf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ye()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await Tn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await $(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:u,error:c}=await $(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(n){if(R(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await $(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(R(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await $(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(R(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Po(s.access_token);let l=null;o.aal&&(l=o.aal);let u=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(u="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+Vv>s)return r;const{data:i,error:o}=await $(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:y,error:v}=await this.getSession();if(v||!y.session)return{data:null,error:v};r=y.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:u}}=Po(r);n!=null&&n.allowExpired||p0(i.exp);const c=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:i,header:s,signature:o},error:null}}const d=g0(s.alg),h=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,t0(`${l}.${u}`)))throw new Wa("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(R(r))return{data:null,error:r};throw r}}}as.nextInstanceID=0;const O0=as;class I0 extends O0{constructor(e){super(e)}}var R0=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{c(r.next(d))}catch(h){o(h)}}function u(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(l,u)}c((r=r.apply(t,e||[])).next())})};class L0{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const l=Fv(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const u=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:Pv,realtime:Ov,auth:Object.assign(Object.assign({},Av),{storageKey:u}),global:Tv},d=Dv(r??{},c);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=$v(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Jy(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new Ev(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new Cy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return R0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:l,lock:u,debug:c},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new I0({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:u,debug:c,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new fv(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const $0=(t,e,n)=>new L0(t,e,n);function U0(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}U0()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Mf={}.VITE_SUPABASE_URL,Df={}.VITE_SUPABASE_ANON_KEY;if(!Mf)throw new Error("Missing environment variable: VITE_SUPABASE_URL");if(!Df)throw new Error("Missing environment variable: VITE_SUPABASE_ANON_KEY");const pe=$0(Mf,Df),Io="advisor_profile";class Ge{static storeAdvisorProfile(e){try{localStorage.setItem(Io,JSON.stringify(e))}catch(n){console.error("Failed to store advisor profile:",n)}}static getStoredAdvisorProfile(){try{const e=localStorage.getItem(Io);return e?JSON.parse(e):null}catch{return null}}static clearStoredAdvisorProfile(){try{localStorage.removeItem(Io)}catch{}}static async login(e){var n,r,s;try{const{data:i,error:o}=await pe.auth.signInWithPassword({email:e.email,password:e.password});if(o)return o.message.includes("Email not confirmed")?{success:!1,error:"Please check your email and click the confirmation link before logging in."}:{success:!1,error:o.message};if(!i.user)return{success:!1,error:"Login failed"};let l=await this.getAdvisorProfile(i.user.id);if(!l&&i.user.email_confirmed_at){console.log("Creating missing advisor profile for confirmed user:",i.user.id);const u=((n=i.user.user_metadata)==null?void 0:n.name)||((r=i.user.email)==null?void 0:r.split("@")[0])||"Advisor",c=((s=i.user.user_metadata)==null?void 0:s.company)||null,{data:d,error:h}=await pe.from("advisor_profiles").insert({user_id:i.user.id,name:u,company:c}).select().single();if(!h&&d)l={id:d.id,user_id:d.user_id,email:i.user.email,name:d.name,company:d.company,created_at:d.created_at},console.log("Created advisor profile successfully:",l);else return console.error("Failed to create advisor profile:",h),{success:!1,error:"Failed to create advisor profile"}}return l?(this.storeAdvisorProfile(l),{success:!0,advisor:l}):{success:!1,error:"Advisor profile not found and could not be created"}}catch(i){return console.error("Login error:",i),{success:!1,error:i instanceof Error?i.message:"Login failed"}}}static async signup(e){try{const{data:n,error:r}=await pe.auth.signUp({email:e.email,password:e.password,options:{emailRedirectTo:`${window.location.origin}/advisor/dashboard`,data:{name:e.name,company:e.company||null}}});if(r)return{success:!1,error:r.message};if(!n.user)return{success:!1,error:"Signup failed"};if(!n.session&&!n.user.email_confirmed_at)return{success:!1,error:"Account created but requires email confirmation. Please check your email and then login."};if(!n.session){console.log("No session from signup, attempting to sign in user...");const l=await this.login({email:e.email,password:e.password});return l.success?{success:!0,advisor:l.advisor}:{success:!1,error:l.error||"Account created but login failed"}}const{data:s,error:i}=await pe.from("advisor_profiles").insert({user_id:n.session.user.id,name:e.name,company:e.company||null}).select().single();if(i)return console.error("Profile creation error:",i),{success:!1,error:`Profile creation failed: ${i.message}`};const o={id:s.id,user_id:s.user_id,email:n.session.user.email,name:s.name,company:s.company,created_at:s.created_at};return this.storeAdvisorProfile(o),{success:!0,advisor:o}}catch(n){return console.error("Signup error:",n),{success:!1,error:n instanceof Error?n.message:"Signup failed"}}}static async resendConfirmationEmail(e){try{const{error:n}=await pe.auth.resend({type:"signup",email:e});return n?{success:!1,error:n.message}:{success:!0}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to resend email"}}}static async logout(){await pe.auth.signOut(),this.clearStoredAdvisorProfile()}static async getCurrentUser(){const{data:{session:e},error:n}=await pe.auth.getSession();return n||!e?null:e.user??null}static async getCurrentAdvisor(){try{const e=await this.getCurrentUser();if(!e)return null;const n=this.getStoredAdvisorProfile();if(n&&n.user_id===e.id)return n;const r=await this.getAdvisorProfile(e.id);return r&&this.storeAdvisorProfile(r),r}catch(e){return console.error("Error getting current advisor:",e),null}}static async isAuthenticated(){const{data:{session:e}}=await pe.auth.getSession();return!!e}static async getAdvisorProfile(e){try{console.log("Fetching advisor profile for userId:",e);const{data:n,error:r}=await pe.from("advisor_profiles").select("*").eq("user_id",e).single();if(console.log("Advisor profile query result:",{data:n,error:r}),r||!n)return(r==null?void 0:r.code)==="PGRST116"?(console.log("No advisor profile found (expected for new users)"),null):(console.log("No advisor profile found or error:",r),null);const s=await this.getCurrentUser();if(console.log("Current user for profile:",s==null?void 0:s.email),!s)return null;const i={id:n.id,user_id:n.user_id,email:s.email,name:n.name,company:n.company,created_at:n.created_at};return console.log("Returning advisor profile:",i),i}catch(n){return console.error("Error getting advisor profile:",n),null}}static async getAdvisorById(e){try{const{data:n,error:r}=await pe.from("advisor_profiles").select("*").eq("id",e).single();if(r||!n)return null;const{data:s}=await pe.auth.admin.getUserById(n.user_id);return s.user?{id:n.id,user_id:n.user_id,email:s.user.email,name:n.name,company:n.company,created_at:n.created_at}:null}catch(n){return console.error("Error getting advisor by ID:",n),null}}static onAuthStateChange(e){return pe.auth.onAuthStateChange(e)}}const Ff=_.createContext(void 0);function M0({children:t}){const[e,n]=_.useState(null),[r,s]=_.useState(!0);_.useEffect(()=>{let c=!0;(async()=>{try{const f=await Ge.getCurrentAdvisor();c&&n(f)}catch{c&&n(null)}finally{c&&s(!1)}})();const{data:{subscription:h}}=Ge.onAuthStateChange(async(f,y)=>{if(y!=null&&y.user)try{const v=await Ge.getAdvisorProfile(y.user.id);v?Ge.storeAdvisorProfile(v):Ge.clearStoredAdvisorProfile(),n(v)}catch{Ge.clearStoredAdvisorProfile(),n(null)}else Ge.clearStoredAdvisorProfile(),n(null);s(!1)});return()=>{c=!1,h.unsubscribe()}},[]);const u={advisor:e,isAuthenticated:!!e,isLoading:r,login:async c=>{const d=await Ge.login(c);return d.success&&d.advisor&&n(d.advisor),{success:d.success,error:d.error}},signup:async c=>{const d=await Ge.signup(c);return d.success&&d.advisor&&n(d.advisor),{success:d.success,error:d.error}},logout:async()=>{await Ge.logout(),n(null)}};return a.jsx(Ff.Provider,{value:u,children:t})}function Ki(){const t=_.useContext(Ff);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function Ro({children:t}){const{isAuthenticated:e,isLoading:n}=Ki(),r=St();return console.log("ProtectedRoute - isLoading:",n,"isAuthenticated:",e),n?a.jsx("div",{className:"min-h-screen professional-bg flex items-center justify-center",children:a.jsxs("div",{className:"modern-card text-center space-y-6",children:[a.jsx("div",{className:"w-20 h-20 mx-auto morph-shape bg-gradient-to-br from-primary-500 to-accent-500 flex items-center justify-center",children:a.jsx("div",{className:"w-10 h-10 border-4 border-white border-t-transparent rounded-full animate-spin"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Checking authentication..."}),a.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"Restoring your session..."})]})]})}):e?a.jsx(a.Fragment,{children:t}):a.jsx(uy,{to:"/advisor/login",state:{from:r},replace:!0})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var D0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),F=(t,e)=>{const n=_.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:u,...c},d)=>_.createElement("svg",{ref:d,...D0,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${F0(t)}`,l].join(" "),...c},[...e.map(([h,f])=>_.createElement(h,f)),...Array.isArray(u)?u:[u]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z0=F("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B0=F("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ic=F("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=F("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=F("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=F("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rc=F("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=F("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jl=F("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=F("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=F("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ei=F("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=F("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=F("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $c=F("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uc=F("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=F("Link2",[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q0=F("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=F("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=F("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ls=F("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mc=F("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J0=F("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=F("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=F("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=F("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tr=F("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ya=F("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=F("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function Z0(){return a.jsxs("div",{className:"min-h-screen professional-bg",children:[a.jsx("div",{className:"professional-header",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("img",{src:"https://media-cdn.igrad.com/IMAGE/Logos/White/iGradEnrich.png",alt:"iGrad Enrich",className:"h-10 w-auto static-element"}),a.jsx(Te,{to:"/advisor",className:"text-white hover:text-blue-100 transition-colors duration-200 text-sm font-medium",children:"Advisor Login"})]})})}),a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:a.jsxs("div",{className:"grid lg:grid-cols-2 gap-16 items-center",children:[a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsxs("h1",{className:"text-5xl lg:text-6xl font-bold text-gray-900 leading-tight",children:["Discover Your",a.jsx("span",{className:"block bg-gradient-to-r from-primary-600 to-accent-600 bg-clip-text text-transparent",children:"Money Personality"})]}),a.jsx("p",{className:"text-xl text-gray-700 leading-relaxed max-w-xl",children:"Unlock the emotional side of your financial decisions with our scientifically-designed assessment. Get personalized insights and actionable guidance in just 10 minutes."})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs(Te,{to:"/assessment",className:"btn-primary group",children:[a.jsx(Mt,{className:"w-5 h-5 mr-3"}),a.jsx("span",{children:"Start Assessment"}),a.jsx(Ic,{className:"w-5 h-5 ml-3 group-hover:translate-x-1 transition-transform"})]}),a.jsxs("button",{className:"btn-secondary",children:[a.jsx(ls,{className:"w-5 h-5 mr-3"}),a.jsx("span",{children:"Learn More"})]})]}),a.jsxs("div",{className:"flex items-center space-x-8 pt-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"professional-stat text-2xl font-bold",children:"500K+"}),a.jsx("div",{className:"text-gray-600 text-sm font-medium",children:"Assessments"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"professional-stat text-2xl font-bold",children:"95%"}),a.jsx("div",{className:"text-gray-600 text-sm font-medium",children:"Complete"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"professional-stat text-2xl font-bold",children:"10min"}),a.jsx("div",{className:"text-gray-600 text-sm font-medium",children:"Duration"})]})]})]}),a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"relative z-10",children:[a.jsx("div",{className:"modern-card",children:a.jsxs("div",{className:"text-center space-y-6",children:[a.jsx("div",{className:"w-20 h-20 mx-auto morph-shape bg-gradient-to-br from-primary-500 to-accent-500 flex items-center justify-center",children:a.jsx(Ut,{className:"w-10 h-10 text-white"})}),a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"42 Questions"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Scientifically designed to analyze your financial behaviors across five key dimensions"})]})}),a.jsx("div",{className:"absolute -top-4 -right-4 modern-card p-4",children:a.jsx(Va,{className:"w-8 h-8 text-primary-600"})}),a.jsx("div",{className:"absolute -bottom-4 -left-4 modern-card p-4",children:a.jsx(Ei,{className:"w-8 h-8 text-accent-600"})})]}),a.jsx("div",{className:"absolute inset-0 -z-10",children:a.jsx("div",{className:"w-72 h-72 bg-gradient-to-br from-primary-200/30 to-accent-200/30 rounded-full blur-3xl"})})]})]})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Why Take This Assessment?"}),a.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Get deep insights into your financial psychology with our research-backed approach"})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{icon:Ut,title:"Behavioral Science",description:"Based on behavioral economics research and validated psychological frameworks",color:"from-blue-500 to-indigo-600"},{icon:Q0,title:"Personalized Insights",description:"Detailed analysis of your strengths, challenges, and personalized action plans",color:"from-green-500 to-emerald-600"},{icon:ls,title:"Instant Results",description:"Comprehensive report available immediately after completion",color:"from-purple-500 to-pink-600"}].map((t,e)=>a.jsx("div",{className:"feature-card modern-card group hover:scale-105 transition-all duration-300",children:a.jsxs("div",{className:"text-center space-y-6",children:[a.jsx("div",{className:`w-16 h-16 mx-auto rounded-2xl bg-gradient-to-br ${t.color} flex items-center justify-center group-hover:rotate-12 transition-transform duration-300`,children:a.jsx(t.icon,{className:"w-8 h-8 text-white"})}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:t.title}),a.jsx("p",{className:"text-gray-600 leading-relaxed text-sm",children:t.description})]})},e))})]}),a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-20 text-center",children:a.jsxs("div",{className:"modern-card space-y-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900",children:"Ready to Discover Your Money Personality?"}),a.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:"Join over 500,000 people who have gained valuable insights into their financial behaviors"}),a.jsxs(Te,{to:"/assessment",className:"btn-primary inline-flex",children:[a.jsx(Mt,{className:"w-5 h-5 mr-3"}),a.jsx("span",{children:"Take Assessment Now"}),a.jsx(Ic,{className:"w-5 h-5 ml-3"})]})]})})]})}class Ms{static async sendAssessmentInvitation(e,n,r,s,i){try{const o=i||"there",l=await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({from:"Money Personality <onboarding@resend.dev>",to:[r],subject:`${e} is asking you to discover your Money Personality!`,html:`
          <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
            <div style="text-align: center; margin-bottom: 30px;">
              <img src="https://media-cdn.igrad.com/IMAGE/Logos/Color/iGradEnrich.png" alt="iGrad Enrich" style="height: 40px;">
            </div>
            
            <h2 style="color: #2563eb; text-align: center;">Discover Your Money Personality</h2>
            
            <p>Hi ${o},</p>
            
            <p><strong>${e}</strong> has invited you to take the Money Personality assessment to better understand your financial behaviors and decision-making patterns.</p>
            
            <p>This scientifically-designed assessment takes about 10 minutes and will help ${e} provide you with more personalized financial guidance.</p>
            
            <div style="text-align: center; margin: 30px 0;">
              <a href="${s}" style="background-color: #2563eb; color: white; padding: 15px 30px; text-decoration: none; border-radius: 8px; font-weight: bold; display: inline-block;">
                Take Assessment Now
              </a>
            </div>
            
            <p style="font-size: 14px; color: #666;">
              This assessment is completely confidential and your results will only be shared with ${e} to help them better serve your financial needs.
            </p>
            
            <p style="font-size: 14px; color: #666;">
              If you have any questions, please contact ${e} at ${n}.
            </p>
            
            <hr style="margin: 30px 0; border: none; border-top: 1px solid #eee;">
            
            <p style="font-size: 12px; color: #999; text-align: center;">
              This email was sent by iGrad Enrich Money Personality Assessment
            </p>
          </div>
          `})});if(!l.ok){const c=await l.text();return console.error("Email API error:",l.status,c),!1}const u=await l.json();return!0}catch(o){return console.error("Error sending assessment invitation:",o),!1}}static async sendCompletionNotification(e,n,r,s){try{const i=s||"Your client",o=await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({from:"Money Personality <onboarding@resend.dev>",to:[e],subject:`Money Personality Assessment Completed${s?` - ${s}`:""}`,html:`
          <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
            <div style="text-align: center; margin-bottom: 30px;">
              <img src="https://media-cdn.igrad.com/IMAGE/Logos/Color/iGradEnrich.png" alt="iGrad Enrich" style="height: 40px;">
            </div>
            
            <h2 style="color: #22c55e; text-align: center;">Assessment Completed! ✅</h2>
            
            <p>Hi ${n},</p>
            
            <p><strong>${i}</strong> (${r}) has completed their Money Personality assessment!</p>
            
            <p>You can now access their detailed results, including:</p>
            <ul>
              <li>Complete personality profile across 5 dimensions</li>
              <li>Behavioral strengths and challenges</li>
              <li>Personalized action plans</li>
              <li>AI-powered advisor recommendations</li>
            </ul>
            
            <div style="text-align: center; margin: 30px 0;">
              <a href="${window.location.origin}/advisor/dashboard" style="background-color: #22c55e; color: white; padding: 15px 30px; text-decoration: none; border-radius: 8px; font-weight: bold; display: inline-block;">
                View Dashboard
              </a>
            </div>
            
            <p style="font-size: 14px; color: #666;">
              Use these insights to provide more personalized financial guidance and build stronger client relationships.
            </p>
            
            <hr style="margin: 30px 0; border: none; border-top: 1px solid #eee;">
            
            <p style="font-size: 12px; color: #999; text-align: center;">
              This email was sent by iGrad Enrich Money Personality Assessment
            </p>
          </div>
          `})});if(!o.ok){const u=await o.text();return console.error("Email API error:",o.status,u),!1}const l=await o.json();return!0}catch(i){return console.error("Error sending completion notification:",i),!1}}static async sendFriendAssessmentInvitation(e,n,r,s,i,o){try{const l=await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({from:"Money Personality <onboarding@resend.dev>",to:[r],subject:`${e} invited you to discover your Money Personality`,html:`
          <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
            <div style="text-align: center; margin-bottom: 30px;">
              <img src="https://media-cdn.igrad.com/IMAGE/Logos/Color/iGradEnrich.png" alt="iGrad Enrich" style="height: 40px;">
            </div>

            <h2 style="color: #2563eb; text-align: center;">${e} wants to compare Money Personalities!</h2>

            <p>Hello there,</p>

            <p><strong>${e}</strong> would love for you to take the Money Personality assessment so you can explore how your perspectives on money work together as ${i.toLowerCase()}.</p>

            ${o?`<p style="background-color: #eff6ff; padding: 16px; border-radius: 8px;">${o}</p>`:""}

            <p>The assessment only takes about 10 minutes. Once you are finished, you'll both receive a compatibility breakdown that highlights strengths, watch-outs, and conversation starters tailored to your results.</p>

            <div style="text-align: center; margin: 30px 0;">
              <a href="${s}" style="background-color: #2563eb; color: white; padding: 15px 30px; text-decoration: none; border-radius: 8px; font-weight: bold; display: inline-block;">
                Take Assessment Now
              </a>
            </div>

            <p style="font-size: 14px; color: #666;">Questions? You can reply directly to ${n}.</p>

            <hr style="margin: 30px 0; border: none; border-top: 1px solid #eee;">

            <p style="font-size: 12px; color: #999; text-align: center;">
              This email was sent by iGrad Enrich Money Personality Assessment
            </p>
          </div>
          `})});if(!l.ok){const u=await l.text();return console.error("Email API error:",l.status,u),!1}return await l.json(),!0}catch(l){return console.error("Error sending friend assessment invitation:",l),!1}}static async sendFriendCompletionNotification(e,n,r,s){try{const i=s.alignmentHighlights.slice(0,2).map(u=>`<li>${u}</li>`).join(""),o=s.potentialFriction.slice(0,2).map(u=>`<li>${u}</li>`).join(""),l=await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({from:"Money Personality <onboarding@resend.dev>",to:[e],subject:`${r} finished the Money Personality assessment!`,html:`
          <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
            <div style="text-align: center; margin-bottom: 30px;">
              <img src="https://media-cdn.igrad.com/IMAGE/Logos/Color/iGradEnrich.png" alt="iGrad Enrich" style="height: 40px;">
            </div>

            <h2 style="color: #16a34a; text-align: center;">Compatibility insights are ready</h2>

            <p>Hi ${n},</p>

            <p><strong>${r}</strong> just completed the Money Personality assessment. Here's a preview of your compatibility results:</p>

            <p style="font-weight: bold;">Score: ${s.compatibilityScore} (${s.compatibilityLabel})</p>
            <p>${s.summary}</p>

            ${i?`<h3>Shared strengths</h3><ul>${i}</ul>`:""}
            ${o?`<h3>Conversation opportunities</h3><ul>${o}</ul>`:""}

            <div style="text-align: center; margin: 30px 0;">
              <a href="${window.location.origin}/dashboard" style="background-color: #2563eb; color: white; padding: 15px 30px; text-decoration: none; border-radius: 8px; font-weight: bold; display: inline-block;">
                View Full Compatibility Insights
              </a>
            </div>

            <p style="font-size: 14px; color: #666;">Keep the momentum going by scheduling a quick money check-in together.</p>

            <hr style="margin: 30px 0; border: none; border-top: 1px solid #eee;">

            <p style="font-size: 12px; color: #999; text-align: center;">
              This email was sent by iGrad Enrich Money Personality Assessment
            </p>
          </div>
          `})});if(!l.ok){const u=await l.text();return console.error("Email API error:",l.status,u),!1}return await l.json(),!0}catch(i){return console.error("Error sending friend completion notification:",i),!1}}}const Dc="ymp_user_id";function Fc(){if(typeof window>"u")return"server";let t=localStorage.getItem(Dc);return t||(t=`user_${Math.random().toString(36).slice(2,8)}${Date.now().toString(36)}`,localStorage.setItem(Dc,t)),t}const ew={Focus:{label:"Financial Focus",conversationStarter:"Decide how much structure versus spontaneity you both need in your monthly spending plan.",bandLanguage:{high:"structure-loving planners",medium:"balanced planners",low:"spontaneous spenders"}},Emotions:{label:"Emotional Relationship with Money",conversationStarter:"Share the money situations that bring you the most stress and what helps you feel supported.",bandLanguage:{high:"deep feelers who track every dollar",medium:"steady navigators",low:"easygoing optimists"}},Outlook:{label:"Financial Outlook",conversationStarter:"Set aside time to dream about long-term goals and compare what “security” means to each of you.",bandLanguage:{high:"big-picture optimists",medium:"practical realists",low:"healthy skeptics"}},Influence:{label:"Decision-Making Style",conversationStarter:"Discuss who you turn to for financial advice and how comfortable you are making solo decisions.",bandLanguage:{high:"collaborative decision-makers",medium:"selectively social planners",low:"independent navigators"}},Bonus:{label:"Lifestyle & Change Orientation",conversationStarter:"Agree on how often you want to try something new versus keep to proven routines with money.",bandLanguage:{high:"change-seeking adventurers",medium:"flexible explorers",low:"steady traditionalists"}}},zc=["Focus","Emotions","Outlook","Influence","Bonus"];function Bc(t){return typeof t!="number"?"medium":t>=45?"high":t>=32?"medium":"low"}function tw(t){return t>=70?"High Alignment":t>=45?"Balanced Blend":"Growth Opportunity"}function nw(t){return t.length===0?"":t.length===1?t[0]:t.length===2?`${t[0]} and ${t[1]}`:`${t.slice(0,-1).join(", ")}, and ${t[t.length-1]}`}function rw(t,e){const n=t.personalityScores||{},r=e.personalityScores||{},s=Array.from(new Set(t.personalities.filter(w=>e.personalities.includes(w)))),i=[],o=[],l=[],u=[];let c=0;zc.forEach(w=>{const b=ew[w],g=n[w],p=r[w],m=Bc(g),x=Bc(p),k=b.bandLanguage[m],E=b.bandLanguage[x],N=Math.abs((g||0)-(p||0));c+=N;const C=Math.abs(["low","medium","high"].indexOf(m)-["low","medium","high"].indexOf(x));C===0?o.push(`You both operate as ${k} when it comes to ${b.label.toLowerCase()}, keeping decisions feeling natural for each other.`):C===1?(i.push(`${b.label}: You naturally show up as ${k}, while your partner brings ${E}, giving you a healthy mix of structure and flexibility.`),u.push(b.conversationStarter)):(l.push(`${b.label} styles are quite different—one of you shows up as ${k} while the other is more of a ${E}. Create shared guardrails so both styles feel respected.`),u.push(b.conversationStarter))});const d=54,h=Math.max(5,Math.min(100,Math.round(100-c/(zc.length*d)*100))),f=tw(h),y=[];y.push(`Your Money Personalities create a ${f.toLowerCase()} dynamic with a compatibility score of ${h}.`),s.length>0&&y.push(`You both strongly identify with ${nw(s)}, giving you common ground to build from.`),o.length>0&&y.push("Several core money habits line up naturally, helping day-to-day coordination feel easier."),l.length>0&&y.push("There are also a few areas where you will benefit from intentional conversations to avoid frustration.");const v=y.join(" ");return{compatibilityScore:h,compatibilityLabel:f,summary:v,sharedTraits:s,complementaryDynamics:i,alignmentHighlights:o,potentialFriction:l,conversationStarters:Array.from(new Set(u)).slice(0,5)}}class Pe{static generateAssessmentId(){return"assess_"+Math.random().toString(36).substr(2,9)+Date.now().toString(36)}static generateAssessmentLink(e){return`${window.location.origin}/assessment?advisor=${e}`}static generateFriendAssessmentId(){return"friend_"+Math.random().toString(36).substr(2,9)+Date.now().toString(36)}static generateFriendAssessmentLink(e){return`${window.location.origin}/assessment?share=${e}`}static async shareAssessmentWithFriend(e,n,r,s,i,o,l){try{if(!i)return{success:!1,error:"Your profile is required before sharing the assessment."};const u=Fc(),c=this.generateFriendAssessmentId(),d=this.generateFriendAssessmentLink(c),h={id:c,sharerId:u,sharerName:e,sharerEmail:n,recipientEmail:r,recipientName:l,relationship:s,personalNote:o,status:"sent",sentAt:new Date,assessmentLink:d,sharerProfile:i};if(this.saveFriendAssessment(h),!await Ms.sendFriendAssessmentInvitation(e,n,r,d,s,o))throw new Error("Failed to send invitation email");return{success:!0,shareId:c}}catch(u){return console.error("Error sharing assessment with friend:",u),{success:!1,error:u instanceof Error?u.message:"Unknown error occurred"}}}static async shareAssessment(e,n,r,s){try{const i=await Ge.getCurrentAdvisor();if(!i||i.email!==n)return{success:!1,error:"Unauthorized: Please log in again"};const o=this.generateAssessmentId(),l=this.generateAssessmentLink(o),u={id:o,advisorName:e,advisorEmail:n,clientEmail:r,clientName:s,status:"sent",sentAt:new Date,assessmentLink:l};if(this.saveAssessment(u),!await Ms.sendAssessmentInvitation(e,n,r,s,l))throw new Error("Failed to send email invitation");return{success:!0,assessmentId:o}}catch(i){return console.error("Error sharing assessment:",i),{success:!1,error:i instanceof Error?i.message:"Unknown error occurred"}}}static async completeAssessment(e,n){try{console.log("🔄 Starting assessment completion for ID:",e);const r=this.getAssessment(e);if(!r)throw console.error("❌ Assessment not found:",e),new Error(`Assessment not found: ${e}`);console.log("✅ Found assessment:",r);const s=JSON.parse(localStorage.getItem("assessmentAnswers")||"[]"),{error:i}=await pe.from("assessment_results").insert({assessment_id:e,advisor_email:r.advisorEmail,client_email:r.clientEmail,client_name:r.clientName,answers:s,profile:n});if(i)throw console.error("❌ Failed to save assessment results to database:",i),new Error(`Failed to save results: ${i.message}`);console.log("✅ Assessment results saved to database");const o={...r,status:"completed",completedAt:new Date,results:n};console.log("💾 Saving updated assessment:",o),this.saveAssessment(o);const l=this.getAssessment(e);console.log("🔍 Verification - saved assessment:",l),console.log("📡 Dispatching storage event for dashboard refresh"),window.dispatchEvent(new StorageEvent("storage",{key:this.STORAGE_KEY,newValue:localStorage.getItem(this.STORAGE_KEY),storageArea:localStorage})),window.dispatchEvent(new CustomEvent("localStorageUpdate"));try{console.log("📧 Sending completion notification to advisor:",r.advisorEmail),await Ms.sendCompletionNotification(r.advisorEmail,r.advisorName,r.clientEmail,r.clientName),console.log("✅ Email notification sent successfully")}catch(u){console.error("❌ Email notification failed (but continuing):",u)}return console.log("🎉 Assessment completion successful"),!0}catch(r){return console.error("Error completing assessment:",r),!1}}static async completeFriendAssessment(e,n){try{const r=this.getFriendAssessment(e);if(!r)throw new Error("Shared assessment not found");const s=rw(r.sharerProfile,n),i={...r,status:"completed",completedAt:new Date,recipientProfile:n,compatibility:s};this.saveFriendAssessment(i),window.dispatchEvent(new StorageEvent("storage",{key:this.FRIEND_STORAGE_KEY,newValue:localStorage.getItem(this.FRIEND_STORAGE_KEY),storageArea:localStorage})),window.dispatchEvent(new CustomEvent("localStorageUpdate"));try{await Ms.sendFriendCompletionNotification(r.sharerEmail,r.sharerName,r.recipientEmail,s)}catch(o){console.error("Error sending friend completion notification:",o)}return!0}catch(r){return console.error("Error completing friend assessment:",r),!1}}static async getAssessmentResultsForAdvisor(e){try{const{data:n,error:r}=await pe.from("assessment_results").select("*").eq("advisor_email",e).order("completed_at",{ascending:!1});return r?(console.error("Error fetching assessment results:",r),[]):n||[]}catch(n){return console.error("Error getting assessment results for advisor:",n),[]}}static async getAssessmentResult(e){try{const{data:n,error:r}=await pe.from("assessment_results").select("*").eq("assessment_id",e).single();return r?(console.error("Error fetching assessment result:",r),null):n}catch(n){return console.error("Error getting assessment result:",n),null}}static getAssessment(e){try{const n=this.getAllAssessments();return console.log("Looking for assessment ID:",e,"in assessments:",n.map(r=>r.id)),n.find(r=>r.id===e)||null}catch(n){return console.error("Error getting assessment:",n),null}}static getAllAssessments(){try{const e=localStorage.getItem(this.STORAGE_KEY),n=e?JSON.parse(e):[];return console.log("getAllAssessments returning:",n),n}catch(e){return console.error("Error getting assessments:",e),[]}}static getAllFriendAssessments(){try{const e=localStorage.getItem(this.FRIEND_STORAGE_KEY);return(e?JSON.parse(e):[]).map(r=>({...r,sentAt:r.sentAt?new Date(r.sentAt):void 0,completedAt:r.completedAt?new Date(r.completedAt):void 0}))}catch(e){return console.error("Error getting friend assessments:",e),[]}}static saveAssessment(e){try{const n=this.getAllAssessments(),r=n.findIndex(i=>i.id===e.id);r>=0?(n[r]=e,console.log("📝 Updated existing assessment at index:",r,e)):(n.push(e),console.log("➕ Added new assessment, total count:",n.length,e)),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(n)),console.log("💾 Saved assessments to localStorage - total:",n.length);const s=localStorage.getItem(this.STORAGE_KEY);if(s){const i=JSON.parse(s);console.log("✅ Save verification successful - count:",i.length)}else console.error("❌ Save verification failed - no data in localStorage")}catch(n){console.error("Error saving assessment:",n)}}static saveFriendAssessment(e){try{const n=this.getAllFriendAssessments(),r=n.findIndex(s=>s.id===e.id);r>=0?n[r]=e:n.push(e),localStorage.setItem(this.FRIEND_STORAGE_KEY,JSON.stringify(n))}catch(n){console.error("Error saving friend assessment:",n)}}static getAssessmentsForAdvisor(e){try{const n=this.getAllAssessments();console.log("Getting assessments for advisor:",e),console.log("All assessments:",n);const r=n.filter(s=>s.advisorEmail===e);return console.log("Filtered assessments for advisor:",r),r}catch(n){return console.error("Error getting advisor assessments:",n),[]}}static getFriendAssessmentsForUser(){try{const e=Fc();return this.getAllFriendAssessments().filter(r=>r.sharerId===e)}catch(e){return console.error("Error getting friend assessments for user:",e),[]}}static getFriendAssessment(e){try{return this.getAllFriendAssessments().find(r=>r.id===e)||null}catch(n){return console.error("Error getting friend assessment:",n),null}}}Ji(Pe,"STORAGE_KEY","advisor_assessments"),Ji(Pe,"FRIEND_STORAGE_KEY","friend_assessments");function Wc(){const{advisor:t}=Ki(),[e,n]=_.useState(!1),[r,s]=_.useState(!1),[i,o]=_.useState(""),[l,u]=_.useState({advisorName:(t==null?void 0:t.name)||"",advisorEmail:(t==null?void 0:t.email)||"",clientEmail:"",clientName:""}),c=h=>{u({...l,[h.target.name]:h.target.value})},d=async h=>{h.preventDefault(),n(!0),o(""),s(!1);const f=await Pe.shareAssessment(l.advisorName,l.advisorEmail,l.clientEmail,l.clientName||void 0);n(!1),f.success?(s(!0),u({advisorName:(t==null?void 0:t.name)||"",advisorEmail:(t==null?void 0:t.email)||"",clientEmail:"",clientName:""})):o(f.error||"Failed to share assessment")};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50",children:[a.jsx("div",{className:"bg-primary-600 shadow-sm",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("img",{src:"https://media-cdn.igrad.com/IMAGE/Logos/White/iGradEnrich.png",alt:"iGrad Enrich",className:"h-8 w-auto"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Te,{to:"/advisor/dashboard",className:"text-primary-100 hover:text-white transition-colors duration-200 text-sm font-medium",children:"Dashboard"}),a.jsx(Te,{to:"/",className:"text-primary-100 hover:text-white transition-colors duration-200 text-sm font-medium",children:"For Individuals"})]})]})})}),a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsxs("h1",{className:"text-5xl font-bold text-gray-900 mb-6",children:["Discover Your Client's",a.jsx("span",{className:"text-blue-600",children:" Money Personality"})]}),a.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:"Unlock the emotional side of your clients' financial decisions. Understand their behavioral patterns, build deeper trust, and provide more personalized financial guidance with our proven assessment."})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-16 text-center",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("div",{className:"text-3xl font-bold text-blue-600 mb-2",children:"500K+"}),a.jsx("div",{className:"text-gray-600",children:"Assessments Completed"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:"95%"}),a.jsx("div",{className:"text-gray-600",children:"Completion Rate"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[a.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-2",children:"10 min"}),a.jsx("div",{className:"text-gray-600",children:"Average Time"})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-8 mb-16",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Ha,{className:"w-8 h-8 text-blue-600"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Share Assessment with Client"}),a.jsx("p",{className:"text-gray-600",children:"Send a personalized invitation to your client to complete their Money Personality assessment"})]}),r&&a.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Jl,{className:"w-5 h-5 text-green-600"}),a.jsx("p",{className:"text-green-800 font-medium",children:"Assessment invitation sent successfully!"})]}),a.jsx("p",{className:"text-green-700 text-sm mt-1",children:"Your client will receive an email with the assessment link."})]}),i&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("p",{className:"text-red-800 font-medium",children:["Error: ",i]})}),a.jsxs("form",{onSubmit:d,className:"space-y-6",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"advisorName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name *"}),a.jsx("input",{type:"text",id:"advisorName",name:"advisorName",required:!0,readOnly:!0,value:l.advisorName,onChange:c,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-gray-50",placeholder:"John Smith"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"advisorEmail",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Email *"}),a.jsx("input",{type:"email",id:"advisorEmail",name:"advisorEmail",required:!0,readOnly:!0,value:l.advisorEmail,onChange:c,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-gray-50",placeholder:"john@advisorfirm.com"})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"clientEmail",className:"block text-sm font-medium text-gray-700 mb-2",children:"Client Email *"}),a.jsx("input",{type:"email",id:"clientEmail",name:"clientEmail",required:!0,value:l.clientEmail,onChange:c,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"client@email.com"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"clientName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Client Name (Optional)"}),a.jsx("input",{type:"text",id:"clientName",name:"clientName",value:l.clientName,onChange:c,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Jane Doe"})]})]}),a.jsx("div",{className:"text-center",children:a.jsx("button",{type:"submit",disabled:e,className:`inline-flex items-center px-8 py-4 rounded-lg font-semibold text-lg transition-colors duration-200 ${e?"bg-gray-400 text-white cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:e?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin w-5 h-5 mr-3 border-2 border-white border-t-transparent rounded-full"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Ha,{className:"w-5 h-5 mr-3"}),"Share Assessment"]})})})]})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-white rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4 shadow-sm",children:a.jsx(Ut,{className:"w-8 h-8 text-blue-600"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Behavioral Analysis"}),a.jsx("p",{className:"text-gray-600",children:"42 scientifically-designed questions reveal your client's financial personality across five key dimensions."})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-white rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4 shadow-sm",children:a.jsx(ls,{className:"w-8 h-8 text-green-600"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"AI-Powered Insights"}),a.jsx("p",{className:"text-gray-600",children:"Get detailed advisor-specific recommendations on how to communicate and work effectively with each client."})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-white rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4 shadow-sm",children:a.jsx(Ya,{className:"w-8 h-8 text-purple-600"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Deeper Client Relationships"}),a.jsx("p",{className:"text-gray-600",children:"Build trust and rapport by understanding the emotional drivers behind your clients' financial decisions."})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-12",children:"How It Works"}),a.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 text-white rounded-full flex items-center justify-center mx-auto mb-4 font-bold text-lg",children:"1"}),a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Share Assessment"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Send personalized invitation to your client via email"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 text-white rounded-full flex items-center justify-center mx-auto mb-4 font-bold text-lg",children:"2"}),a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Client Completes"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Client takes 10-minute assessment at their convenience"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 text-white rounded-full flex items-center justify-center mx-auto mb-4 font-bold text-lg",children:"3"}),a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Get Notified"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Receive email notification when assessment is complete"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-600 text-white rounded-full flex items-center justify-center mx-auto mb-4 font-bold text-lg",children:"4"}),a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Access Insights"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Review detailed results and AI-powered advisor recommendations"})]})]})]})]})]})}function sw(){var p,m;const t=hr(),e=St(),{login:n,signup:r,resendConfirmationEmail:s}=Ki(),[i,o]=_.useState(!1),[l,u]=_.useState(!1),[c,d]=_.useState(""),[h,f]=_.useState(""),[y,v]=_.useState({email:"",password:"",name:"",company:""}),w=((m=(p=e.state)==null?void 0:p.from)==null?void 0:m.pathname)||"/advisor/dashboard",b=x=>{v({...y,[x.target.name]:x.target.value}),d(""),f("")},g=async x=>{x.preventDefault(),u(!0),d(""),f("");try{if(i){if(!y.name.trim()){d("Name is required"),u(!1);return}const k=await r({email:y.email,password:y.password,name:y.name,company:y.company||void 0});k.success?(f("Account created successfully! Redirecting..."),setTimeout(()=>t(w),1500)):d(k.error||"Signup failed")}else{const k=await n({email:y.email,password:y.password});k.success?(f("Login successful! Redirecting..."),setTimeout(()=>t(w),1e3)):d(k.error||"Login failed")}}catch{d("An unexpected error occurred. Please try again.")}finally{u(!1)}};return a.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-green-50",children:[a.jsx("div",{className:"bg-primary-600 shadow-sm",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(Te,{to:"/",children:a.jsx("img",{src:"https://media-cdn.igrad.com/IMAGE/Logos/White/iGradEnrich.png",alt:"iGrad Enrich",className:"h-8 w-auto"})}),a.jsx(Te,{to:"/",className:"text-primary-100 hover:text-white transition-colors duration-200 text-sm font-medium",children:"For Individuals"})]})})}),a.jsx("div",{className:"flex items-center justify-center py-16 px-4",children:a.jsx("div",{className:"max-w-md w-full",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-200 p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 bg-blue-50 rounded-full flex items-center justify-center mx-auto mb-4",children:a.jsx(Tr,{className:"w-8 h-8 text-blue-600"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:i?"Create Advisor Account":"Advisor Login"}),a.jsx("p",{className:"text-gray-600",children:i?"Join thousands of advisors using Money Personality assessments":"Access your client assessments and insights"})]}),c&&a.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(z0,{className:"w-5 h-5 text-red-600"}),a.jsx("p",{className:"text-red-800 text-sm",children:c})]})}),h&&a.jsx("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(Jl,{className:"w-5 h-5 text-green-600"}),a.jsx("p",{className:"text-green-800 text-sm",children:h})]})}),a.jsxs("form",{onSubmit:g,className:"space-y-6",children:[i&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-2",children:"Full Name *"}),a.jsx("input",{type:"text",id:"name",name:"name",required:i,value:y.name,onChange:b,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"John Smith"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700 mb-2",children:"Company (Optional)"}),a.jsx("input",{type:"text",id:"company",name:"company",value:y.company,onChange:b,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Your Financial Firm"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email Address *"}),a.jsxs("div",{className:"relative",children:[a.jsx(Ha,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:y.email,onChange:b,className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"advisor@firm.com"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password *"}),a.jsxs("div",{className:"relative",children:[a.jsx(q0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),a.jsx("input",{type:"password",id:"password",name:"password",required:!0,value:y.password,onChange:b,minLength:6,className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"••••••••"})]}),i&&a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Minimum 6 characters"})]}),a.jsx("button",{type:"submit",disabled:l,className:`w-full flex items-center justify-center px-4 py-3 rounded-lg font-semibold transition-colors duration-200 ${l?"bg-gray-400 text-white cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"}`,children:l?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin w-5 h-5 mr-3 border-2 border-white border-t-transparent rounded-full"}),i?"Creating Account...":"Signing In..."]}):i?"Create Account":"Sign In"})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("button",{onClick:()=>{o(!i),d(""),f(""),v({email:"",password:"",name:"",company:""})},className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:i?"Already have an account? Sign In":"Don't have an account? Sign Up"})}),!i&&a.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:a.jsxs("p",{className:"text-blue-800 text-sm",children:[a.jsx("strong",{children:"New User?"})," Create an account to get started with the Money Personality assessment platform."]})}),a.jsx("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg",children:a.jsxs("p",{className:"text-blue-800 text-sm",children:[a.jsx("strong",{children:"Demo Account:"})," For testing, you can use email ",a.jsx("code",{children:"test@advisor.com"})," with password ",a.jsx("code",{children:"password123"})]})}),a.jsx("div",{className:"mt-4 p-4 bg-amber-50 rounded-lg",children:a.jsxs("p",{className:"text-amber-800 text-sm",children:[a.jsx("strong",{children:"Note:"})," You may need to confirm your email after signup. Check your inbox and click the confirmation link, then return here to login."]})})]})})})]})}function iw(){const{advisor:t,logout:e}=Ki(),[n,r]=_.useState([]),[s,i]=_.useState([]),[o,l]=_.useState(!0),u=()=>{if(t){const w=Pe.getAssessmentsForAdvisor(t.email);r(w)}},c=async()=>{if(t){const w=await Pe.getAssessmentResultsForAdvisor(t.email);i(w)}};_.useEffect(()=>{u(),c(),l(!1)},[t]),_.useEffect(()=>{const w=g=>{console.log("📡 Storage event detected:",g.key),g.key==="advisor_assessments"&&(console.log("🔄 Refreshing assessments due to storage change"),u(),c())};window.addEventListener("storage",w);const b=()=>{console.log("🔄 Custom storage event - refreshing assessments"),u(),c()};return window.addEventListener("localStorageUpdate",b),window.removeEventListener("localStorageUpdate",b),()=>window.removeEventListener("storage",w)},[t]);const d=()=>{e()},h=w=>{window.open(`/dashboard?advisor=${w}`,"_blank")};if(o)return a.jsx("div",{className:"min-h-screen professional-bg flex items-center justify-center",children:a.jsxs("div",{className:"modern-card text-center space-y-6",children:[a.jsx("div",{className:"w-20 h-20 mx-auto morph-shape bg-gradient-to-br from-primary-500 to-accent-500 flex items-center justify-center",children:a.jsx("div",{className:"w-10 h-10 border-4 border-white border-t-transparent rounded-full animate-spin"})}),a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Loading Dashboard..."})]})});const f=s,y=n.filter(w=>w.status==="sent"),v=n.length;return a.jsxs("div",{className:"min-h-screen professional-bg",children:[a.jsx("div",{className:"professional-header",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(Te,{to:"/",children:a.jsx("img",{src:"https://media-cdn.igrad.com/IMAGE/Logos/White/iGradEnrich.png",alt:"iGrad Enrich",className:"h-8 w-auto"})}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"text-white text-sm",children:["Welcome, ",t==null?void 0:t.name]}),a.jsxs("button",{onClick:d,className:"flex items-center space-x-2 text-primary-100 hover:text-white transition-colors duration-200 text-sm",children:[a.jsx(K0,{className:"w-4 h-4"}),a.jsx("span",{children:"Logout"})]})]})]})})}),a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsx("div",{className:"modern-card mb-8",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Welcome back, ",t==null?void 0:t.name,"!"]}),a.jsx("p",{className:"text-gray-600",children:"Manage your client assessments and view results from your dashboard."})]}),a.jsxs(Te,{to:"/advisor/share",className:"btn-primary",children:[a.jsx(Mc,{className:"w-5 h-5 mr-2"}),"Share New Assessment"]})]})}),a.jsxs("div",{className:"grid md:grid-cols-4 gap-6 mb-8",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Total Clients"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:v})]}),a.jsx(Ya,{className:"w-8 h-8 text-blue-600"})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completed"}),a.jsx("p",{className:"text-2xl font-bold text-green-600",children:f.length})]}),a.jsx(Jl,{className:"w-8 h-8 text-green-600"})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),a.jsx("p",{className:"text-2xl font-bold text-orange-600",children:y.length})]}),a.jsx(Ei,{className:"w-8 h-8 text-orange-600"})]})}),a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-600",children:"Completion Rate"}),a.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[v>0?Math.round(f.length/v*100):0,"%"]})]}),a.jsx(H0,{className:"w-8 h-8 text-purple-600"})]})})]}),a.jsxs("div",{className:"modern-card",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Completed Assessments"}),f.length===0&&a.jsx(Te,{to:"/advisor/share",className:"text-blue-600 hover:text-blue-700 text-sm font-medium",children:"Share your first assessment →"})]}),f.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Ya,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No completed assessments yet"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Once clients complete their assessments, their results will appear here."}),a.jsxs(Te,{to:"/advisor/share",className:"btn-primary",children:[a.jsx(Mc,{className:"w-5 h-5 mr-2"}),"Share Assessment"]})]}):a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Client"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Personality Types"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Completed"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:f.map(w=>{var b,g,p,m;return a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"py-4 px-4",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:w.client_name||"Anonymous Client"}),a.jsx("div",{className:"text-sm text-gray-600",children:w.client_email})]})}),a.jsx("td",{className:"py-4 px-4",children:a.jsxs("div",{className:"flex flex-wrap gap-1",children:[(g=(b=w.profile)==null?void 0:b.personalities)==null?void 0:g.slice(0,2).map((x,k)=>a.jsx("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:x},k)),((m=(p=w.profile)==null?void 0:p.personalities)==null?void 0:m.length)>2&&a.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-600",children:["+",w.profile.personalities.length-2," more"]})]})}),a.jsx("td",{className:"py-4 px-4 text-sm text-gray-600",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Rc,{className:"w-4 h-4 mr-2"}),new Date(w.completed_at).toLocaleDateString()]})}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("button",{onClick:()=>h(w.assessment_id),className:"text-blue-600 hover:text-blue-700 p-1",title:"View Results",children:a.jsx(Y0,{className:"w-4 h-4"})})})})]},w.id)})})]})})]}),y.length>0&&a.jsxs("div",{className:"modern-card mt-8",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Pending Assessments"}),a.jsxs("span",{className:"text-sm text-gray-500",children:[y.length," waiting for completion"]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{className:"border-b border-gray-200",children:a.jsxs("tr",{children:[a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Client"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Status"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Sent"}),a.jsx("th",{className:"text-left py-3 px-4 font-semibold text-gray-900",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-gray-200",children:y.map(w=>a.jsxs("tr",{className:"hover:bg-gray-50",children:[a.jsx("td",{className:"py-4 px-4",children:a.jsxs("div",{children:[a.jsx("div",{className:"font-medium text-gray-900",children:w.clientName||"Anonymous Client"}),a.jsx("div",{className:"text-sm text-gray-600",children:w.clientEmail})]})}),a.jsx("td",{className:"py-4 px-4",children:a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:[a.jsx(Ei,{className:"w-3 h-3 mr-1"}),"Pending"]})}),a.jsx("td",{className:"py-4 px-4 text-sm text-gray-600",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Rc,{className:"w-4 h-4 mr-2"}),new Date(w.sentAt).toLocaleDateString()]})}),a.jsx("td",{className:"py-4 px-4",children:a.jsx("div",{className:"flex items-center space-x-2",children:a.jsx("button",{onClick:()=>{navigator.clipboard.writeText(w.assessmentLink),alert("Assessment link copied to clipboard!")},className:"text-gray-600 hover:text-gray-700 p-1",title:"Copy Link",children:a.jsx(V0,{className:"w-4 h-4"})})})})]},w.id))})]})})]})]})]})}const ow=(t,e)=>t===Math.floor(e*.25)?"Excellent progress! You've completed the spending behavior section.":t===Math.floor(e*.5)?"Halfway there! Planning and goal-setting analysis complete.":t===Math.floor(e*.75)?"Almost finished! Decision-making patterns analyzed.":t===e-3?"Final stretch! Just a few more questions to go.":null;function aw({question:t,questionNumber:e,totalQuestions:n,value:r,onChange:s,onNext:i,onPrevious:o,canGoNext:l,canGoPrevious:u}){const c=ow(e,n),d=e/n*100;return a.jsxs("div",{className:"w-full max-w-3xl",children:[a.jsxs("div",{className:"mb-10",children:[a.jsxs("div",{className:"flex justify-between items-center text-sm font-medium text-gray-600 mb-4",children:[a.jsxs("span",{className:"flex items-center space-x-2",children:[a.jsx(X0,{className:"w-4 h-4 text-primary-600"}),a.jsxs("span",{children:["Question ",e," of ",n]})]}),a.jsxs("span",{className:"stat-number text-lg font-bold",children:[Math.round(d),"%"]})]}),a.jsx("div",{className:"relative",children:a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:a.jsx("div",{className:"progress-bar h-3 transition-all duration-500 ease-out",style:{width:`${d}%`}})})})]}),a.jsxs("div",{className:"modern-card space-y-8",children:[a.jsx("div",{className:"min-h-[120px] flex items-center justify-center",children:a.jsx("h2",{className:"text-2xl lg:text-3xl font-bold text-gray-900 text-center leading-relaxed",children:t})}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex justify-between text-sm font-medium text-gray-600 px-2",children:[a.jsx("span",{className:"bg-red-50 text-red-700 px-3 py-1 rounded-full",children:"Not at all"}),a.jsx("span",{className:"bg-green-50 text-green-700 px-3 py-1 rounded-full",children:"Very well"})]}),a.jsxs("div",{className:"relative px-2",children:[a.jsx("input",{type:"range",min:"1",max:"7",value:r,onChange:h=>s(parseInt(h.target.value)),className:"custom-slider w-full"}),a.jsx("div",{className:"flex justify-between text-xs text-gray-500 mt-3 px-1",children:[1,2,3,4,5,6,7].map(h=>a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-2 h-2 rounded-full mb-1 transition-colors duration-200 ${r===h?"bg-gradient-to-r from-primary-600 to-accent-600":"bg-gray-300"}`}),a.jsx("span",{className:`font-medium transition-colors duration-200 ${r===h?"text-primary-600":"text-gray-400"}`,children:h})]},h))})]}),a.jsx("div",{className:"text-center",children:a.jsxs("div",{className:"inline-flex items-center space-x-2 bg-gradient-to-r from-primary-50 to-accent-50 px-4 py-2 rounded-full border border-primary-200/50",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Your response:"}),a.jsx("span",{className:"stat-number text-xl font-bold",children:r})]})})]}),a.jsxs("div",{className:"flex justify-between items-center pt-4",children:[a.jsxs("button",{onClick:o,disabled:!u,className:`flex items-center space-x-2 px-6 py-3 rounded-full font-semibold transition-all duration-300 ${u?"btn-secondary hover:scale-105":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:[a.jsx(zf,{className:"w-5 h-5"}),a.jsx("span",{children:"Previous"})]}),a.jsxs("button",{onClick:i,disabled:!l,className:`flex items-center space-x-2 px-6 py-3 rounded-full font-semibold transition-all duration-300 ${l?"btn-primary hover:scale-105 group":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,children:[a.jsx("span",{children:e===n?"Complete Assessment":"Next Question"}),a.jsx(Bf,{className:`w-5 h-5 ${l?"group-hover:translate-x-1":""} transition-transform`})]})]})]}),c&&a.jsx("div",{className:"mt-6 modern-card border-l-4 border-gradient-to-b from-primary-500 to-accent-500",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"flex-shrink-0 mt-1",children:a.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-primary-500 to-accent-500 rounded-full animate-pulse"})}),a.jsx("p",{className:"text-gray-800 font-medium leading-relaxed",children:c})]})})]})}const lw={1:"Focus",2:"Focus",3:"Focus",4:"Focus",5:"Focus",6:"Focus",7:"Emotions",8:"Emotions",9:"Emotions",10:"Emotions",11:"Emotions",12:"Emotions",13:"Emotions",14:"Emotions",15:"Emotions",16:"Outlook",17:"Outlook",18:"Outlook",19:"Outlook",20:"Outlook",21:"Outlook",22:"Outlook",23:"Outlook",24:"Outlook",25:"Influence",26:"Influence",27:"Influence",28:"Influence",29:"Influence",30:"Influence",31:"Influence",32:"Influence",33:"Influence",34:"Bonus",35:"Bonus",36:"Bonus",37:"Bonus",38:"Bonus",39:"Bonus",40:"Bonus",41:"Bonus",42:"Bonus"},xe={EMOTIONS:{Apprehensive:{image:"https://igrad-smedia-igrad.netdna-ssl.com/IMAGE/Money-Personality/characters/emotions/apprehensive.svg",description:"Apprehensive financial types frequently worry about money. They may be financially strapped or navigating a temporary rough patch, or they may simply be anxious in general. They often second-guess their financial decisions and are constantly aware of how much (or how little) money they have. They live with an unhealthy fear of unexpected expenses or of losing control of their financial lives. On the other hand, when things are operating smoothly, they may thrive in planning and organization.",strengths:["You likely have an above-average understanding of financial principles and a keen awareness of your own financial situation and responsibilities.","You rarely waste money on frivolous things. You are not as susceptible as others to the temptations of tricky advertising or impulse purchases.","When making big decisions you tend to weigh your options and conduct thorough research; your decisions are generally practical and well-thought-out."],challenges:["Sometimes it's easier not to think about financial challenges or responsibilities. High levels of anxiety may lead you into this type of avoidance behavior.","Financial stress (real or imagined) may lead you to keep more money than necessary locked up in savings, therefore disregarding its investment potential.","You may not feel that you have the knowledge or the discipline to compare financial options and make the best decisions, even if you're fully capable."],actionPlans:[{title:"Put your financial life on autopilot.",description:`Sign up for online bill pay. If your bills are paid automatically each month you won't spend extra time thinking about them. You can also find tools to set up "push" notifications that will help you anticipate events in an orderly, structured manner and reduce anxiety.`},{title:"Engage in practical daydreaming.",description:"Use visualization techniques to imagine how small behavioral changes can have big effects. Then resolve to do just one measurable thing every day to improve your finances. Start with something simple, like making a daily contribution to a savings jar and watching it grow."},{title:"Write out your budget.",description:"Try tracking how much money you have coming in and out on a consistent basis with a budget and projecting it forward with best-case scenarios. You can hopefully ease your money worries with a sense of predictability and pattern."}],priority:2,groupNumber:1,orderBy:1},Cautious:{image:"https://igrad-smedia-igrad.netdna-ssl.com/IMAGE/Money-Personality/characters/emotions/cautious.svg",description:"Cautious financial types have a healthy level of anxiety about their finances. They think about money from time to time and it has a moderate impact on their life in general. While making financial decisions is not necessarily a pleasant activity, cautious types enjoy the feeling of having some money saved, and as a result they tend to be risk averse and avoid unnecessary expenditures. They often set goals that they are saving for, and they don t find it difficult to visualize those goals.",strengths:["You care about money, but it doesn't dominate your thinking. You strike a balance between controlling your finances and letting them control you.","You tend to avoid irresponsible debt and irresponsible financial behavior in general. While you may succumb to occasional splurges, your spending is mostly moderate.","You are generally well-prepared in the case of a financial set-back or emergency, both practically and emotionally. You tend to plan rather than panic."],challenges:["You may be slightly too analytical about money while ignoring some of the emotional aspects, such as how your financial restraint may impact your quality of life.","Being overly risk averse can limit your options, and excessive caution with your finances may actually stop your money from fully working in your favor.","You tend to enjoy routine in most aspects of life and may find it difficult to make big financial decisions that require you to step out of your comfort zone."],actionPlans:[{title:"Put people first.",description:"Prioritize the value of relationships and set aside a certain amount of money to improve your relationships with friends and family. Make that a similar priority to your other goals for a month and evaluate any resulting changes in your finances with an open mind."},{title:"Step out of your comfort zone.",description:"Responsible use of debt can actually be a good thing when it comes to realizing your major goals, such as buying a house. Try to look at the full picture when it comes to making an investment in the future and weigh the advantages of using debt if necessary."},{title:"Research.",description:"Sometimes caution can come from fear. If you're uncomfortable making a financial decision, do your homework and learn about the transaction. And if a friend or financial professional weighs in, be sure to rely on someone you trust and research their credentials."}],priority:3,groupNumber:2,orderBy:1},Relaxed:{image:"https://igrad-smedia-igrad.netdna-ssl.com/IMAGE/Money-Personality/characters/emotions/relaxed.svg",description:"Relaxed financial types don t worry much about money, and they tend to enjoy spending it. Going into debt is not a big issue for relaxed types, and they don t worry much about paying off those debts in the future. Their attitude might be  spend now and worry about it later.  Relaxed financial types may even be somewhat aloof when calculating the risks they are taking. On the other hand they may not focus on the amount of risk at all, but rather on how the process makes them feel in the here and now.",strengths:["You have no hang-ups about enjoying your hard-earned money. If you come across something you really want, you likely find a way to make it happen.","You can be generous with family and friends and easygoing in social situations where money is involved. You don't sweat the bill, and gift-giving may be a forte.","You tend to be more willing than other people to take risks, and not just financially. Others may see you as a thrill-seeker."],challenges:["You are more susceptible than others to the sway of tricky advertising or the temptation of impulse buying and may often waste money on frivolous purchases.","Your friends or family may begin to perceive you as careless or irresponsible with money, which could negatively impact those relationships.","Debt management is not something you usually think about when opening a line of credit. You may find yourself in debt without a plan to get out."],actionPlans:[{title:"Put your financial life on autopilot.",description:"Try signing up for online bill pay: if your bills are paid automatically each month, you won't need to switch gears or spend any extra time thinking about them. Just be sure to check your accounts every now and then to make sure things are operating smoothly."},{title:"Slow down; give yourself a moment to reconsider before you buy.",description:"Before making a spending decision (from impulse buy to major purchase), think through the implications of your decision. If it helps, take a walk around the store or up and down the street while you assess pros, cons, long-term effects, and how much you actually want it."},{title:"Give yourself an allowance.",description:"Evaluate your current accounts for stability. Then, if you can build into your budget a certain amount to spend on fun things each month, you'll be less likely to overspend. Consider putting aside a set amount of cash or using a prepaid debit card if that's easier."}],priority:1,groupNumber:3,orderBy:1}},OUTLOOK:{Confident:{image:"https://igrad-smedia-igrad.netdna-ssl.com/IMAGE/Money-Personality/characters/outlook/confident.svg",description:"Because people  don t know what they don t know  they tend to overestimate their ability to make good financial decisions. Confident types make decisions quickly and are efficient in most money matters. This can be a desirable skill and can have great effect. However, confident types may veer into dangerous territory if overly confident, as they can make decisions based on insufficient information or act hastily about other things in their lives (such as their jobs) that can impact their financial situation.",strengths:["Your confidence in your ability to handle money translates well into certain skills; you may excel in professions that require sales techniques and negotiations.","Once you've made up your mind, you don't often waver or second-guess yourself. You act on your words, so people view you as steadfast and reliable.","You're willing to take monetary risks for the chance of a big payoff. Call it luck or positioning, when there's luck to be had, you're more likely to have it."],challenges:["Most people don't incorporate all of the information available when making decisions, and you may be prone to discounting warning signs or red flags.","Too much confidence can create a lackadaisical attitude, so you might not be well prepared for setbacks, such as with proper insurance or an estate plan.","You may not have a realistic understanding of your capabilities when making money decisions, nor a realistic picture of the risks you are taking."],actionPlans:[{title:"Get grounded and assess your finances.",description:"Get grounded and take a realistic assessment of your finances for a complete and accurate picture of your net worth. Understand that there may be something you don't know or that you are not incorporating all of the alternative choices when making money decisions."},{title:"Consider all outcomes.",description:'Because taking risks is a part of everyday life, make sure you stop and think about any possible negative consequences, not just the positive. Look at "worst case scenarios" along with potential positive outcomes to help make better decisions, financial and otherwise.'},{title:"Use your confidence wisely.",description:"Be more careful with the risks you take and ask for a second opinion from someone you trust before taking larger risks. If you consult financial resources or professionals, combine their expertise with your own outlook for a hopeful yet grounded financial plan."}],priority:2,groupNumber:3,orderBy:2},Optimistic:{image:"https://igrad-smedia-igrad.netdna-ssl.com/IMAGE/Money-Personality/characters/outlook/optimistic.svg",description:"Optimistic financial types tend to be hopeful about the future and believe that things will work out somehow. In the general population, most people are overly optimistic about their futures as compared to the actual probabilities of positive events occurring. This positive outlook works well on a daily basis, but optimistic types may be caught off guard every now and then when things don't work out as hoped. Optimists also tend to associate with similar types of people, which can reinforce their behavior and attitudes.",strengths:["Your optimistic outlook can be a great asset when approaching debt management, credit repair, or other high stakes or potentially challenging tasks.",'You can have a "happy go lucky" or "go with the flow" attitude that makes you popular with other people. Money is not usually an obstacle to having fun.',"You prioritize happiness in life and are generally willing to spend money on positive experiences like entertainment, dining out, and vacations."],challenges:[`Since you have faith that everything will "work out," you may be caught off-guard when things don't go as hoped, even if you have a backup plan.`,"You may not make accurate assessments as to how the risks you take in life will work out. This can impact both yourself as well as those close to you.","Happiness in the short term can take precedence over happiness in the long term. Without grounding future plans in present reality, debt can become a problem."],actionPlans:[{title:"Get grounded and assess your finances.",description:"Gather all of your financial information together in one place: accounts, bills, debts, assets and create a budget. This should be a complete and current financial picture. Then project it forward a few years to be more mindful of your overall financial situation."},{title:"Consider all outcomes.",description:'Because taking risks is a part of everyday life, make sure you stop and think about any possible negative consequences, not just the positive. Look at "worst case scenarios" along with potential positive outcomes to help make better decisions, financial and otherwise.'},{title:"Use your optimism wisely.",description:"Be sure to incorporate long term strategies when thinking about what will make you and those close to you the happiest. If you consult financial resources or professionals, combine their expertise with your own outlook for a hopeful yet grounded financial plan."}],priority:3,groupNumber:1,orderBy:2},Skeptical:{image:"https://igrad-smedia-igrad.netdna-ssl.com/IMAGE/Money-Personality/characters/outlook/skeptical.svg",description:"Skeptical financial types are concerned about the future and don't always expect things to work out financially. Some level of skepticism is healthy, especially when finances are at stake, and these types are good at recognizing risks or scams and taking the appropriate precautions for protecting their assets. But too much skepticism can have a negative impact, such as causing miserly behavior or resentment in social relationships. It can also affect investment choices, causing skeptical types to assume too little risk.",strengths:["You don't expect things to happen automatically, so you are more likely and willing than other types to work hard to meet your financial goals.","You are usually conservative and moderate with money. You don't typically engage in wasteful behaviors or bite off more than you can chew.","You tend to be on guard and hold your cards close. As a result, you are no easy target and are not likely to be taken advantage of financially."],challenges:[`Some amount of concern can help to keep you grounded, but it can also be a downer. You may sometimes feel like "no matter what I do, I can't seem to get ahead."`,"Your skepticism may keep you from making progress; you are hesitant to take any financial risks, so your money might not be used to its full potential.","Being overly skeptical can make it difficult to accept advice. You may find it hard to trust people, and this may impact your personal relationships."],actionPlans:[{title:"Assess your finances realistically.",description:"Do a realistic assessment of your finances - perhaps you're in a better position than you thought. Give yourself credit for what you have accomplished and realize that most other people are in the same boat. If you have a budget, try to find potential for surplus."},{title:"List your goals, and don't hold back.",description:"Compartmentalize your money goals to address all of the important areas in life, such as basic needs, family and friends, and saving for the future. Make goals for each area and concrete plans to meet those goals. Work on those goals a little bit at a time."},{title:"Engage in tiny acts of trust.",description:"If you work with a financial professional, be open-minded to their advice and projections. Try to see the larger picture and understand that there may be information that you don't have."}],priority:1,groupNumber:2,orderBy:2}},FOCUS:{"Future Focused":{image:"https://igrad-smedia-igrad.netdna-ssl.com/IMAGE/Money-Personality/characters/focus/future-focused.svg",description:"Future-focused financial types usually have a set of goals and personal aspirations in place, with a solid understanding of at least the basic financial principles needed to achieve them. These goals tend to be specific and measurable; for instance, future-focused types are more likely than others to visualize what they would like to do in retirement rather than saying  I will figure it out when the time comes.  Future-focused types generally save more, and will often earmark the money they are saving for specific goals.",strengths:["You are driven and practical when it comes to your financial goals and personal aspirations, which can often lead to success in achieving them!","You understand the importance of having money saved for a rainy day, and you are generally prepared in the case of an emergency or a financial setback.",'In many situations, you are the type to "keep your eye on the prize." You are likely to be perceived as a hard-working and responsible person.'],challenges:["You can get overly caught up in thinking about the impact your present actions will have on the future, and so you don't always appreciate the present moment.","Having big dreams is applauded, but your chances of attaining them may be hampered by a disconnect between the dream and your everyday financial behavior.","Your tendency to think ahead may occasionally reach extremes, which can contribute to anxiety or might negatively impact other aspects of your life."],actionPlans:[{title:"Break big goals into smaller pieces.",description:"You probably already know your major financial goals, but have you assessed them on a smaller scale? Break your long-term goals into smaller, more measurable ones. Then assess whether these are feasible, and set up milestones to make sure you're staying on track."},{title:"Treat yourself.",description:"Saving money for the future is important, but are you neglecting the present? If spending money on immediate pleasures comes with a sense of guilt, you may not be enjoying your money as much as you should be. The solution is simple: within reason, treat yourself."},{title:"Reassess old standards.",description:"If you already have a savings account and retirement fund, take a closer look. When was the last time you assessed your savings needs or monthly 401(k) contribution? If it's been a while, reevaluate these figures in light of your current income and status."}],priority:1,groupNumber:2,orderBy:3},"Present Focused":{image:"https://igrad-smedia-igrad.netdna-ssl.com/IMAGE/Money-Personality/characters/focus/present-focused.svg",description:"As the term implies, present-focused people live for today and prefer to leave the future open-ended. This attitude can make for a refreshing lifestyle, yet it can also be fatalistic, in that a disregard for the future implies that everything will just  work out somehow.  Alternatively, present-focused types may be well aware of financial behaviors they should adopt, such as saving money, yet they give little thought to how their present actions impact their financial situation in the future.",strengths:["You tend to live in the moment and relish small pleasures. With few worries about the future, you live a mostly happy and optimistic life.","You can be good at small-scale budgeting, like making the best use of a set amount of money for a shopping trip, or stretching a dollar when you're in a pinch.","Since you are not overly concerned with your finances on a daily basis, you can be generous and easygoing in social situations where money is an issue."],challenges:["Your financial goals (if you have them) may be too vague or unrealistic. Or you might know what you want, but have trouble turning your goals into actions.","You can get caught up in the minutiae of everyday financial decisions and lose sight of the bigger picture. You may stress over unimportant details.","You may not have much money set aside for savings or in your retirement account, or if you do, not much thought is put into how it is invested."],actionPlans:[{title:"Embrace time value of money.",description:"If you're not familiar with the time value of money, look it up; if you're already a pro, calculate how much a given amount will be worth in five, ten, and twenty years. Even if you don't have surplus now, you'll see the benefits of putting money aside in the future."},{title:"Link goals and actions.",description:"Spend some time brainstorming about your future financial aspirations. Then define specific goals for the next month, next year, and the distant future. Compare these to a list of your current priorities. Then set up measurable milestones with actions to take now."},{title:"Prepare for emergencies.",description:"Are you prepared for a financial setback? If you haven't already done so, build up your emergency fund. Opinion varies, but in general experts recommend keeping 3-6 months worth of expenses at easy access. Check your accounts and make sure you have a comfortable amount."}],priority:2,groupNumber:1,orderBy:3}},INFLUENCE:{Independent:{image:"https://igrad-smedia-igrad.netdna-ssl.com/IMAGE/Money-Personality/characters/influence/independent.svg",description:'Independent financial types are typically self-reliant in life, which carries over into financial matters. They pride themselves on being independent thinkers, and may even be "lone wolves" in other aspects. Independent financial types may ask for advice from others, but will rely primarily on their own research and perhaps on the services of one or a few professional advisors when they need to make financial decisions. In some cases they may come from families where money was not an acceptable topic of conversation.',strengths:["You tend to work hard and are generally responsible with your money, which you spend on things you truly value. You view money as a just a means to an end.",`You aren't overly influenced by the opinions of others. You generally feel no pressure to conform, and do not identify with "keeping up with the Joneses."`,"You like to do your own research when making decisions, which builds your financial education and can streamline many otherwise complicated processes."],challenges:["Over-confidence in your own abilities may be an issue. You might have trouble delegating authority to others or trusting authority even when it is warranted.","You are not as concerned as others with maintaining norms or standards when it comes to financial matters, which can lead to misplaced funds or waste.","You don't necessarily care about money intrinsically, spending more when you have it, spending less when you don t. Resources might be tight sometimes."],actionPlans:[{title:"Honor your personality; ask questions.",description:"Watch that you are not eliminating potential sources of expert information when making financial decisions. Independent types may need to spend more time than others when learning something new to adequately research and become comfortable with the result."},{title:"Embrace your lone wolf.",description:"You've heard money-related rules (like housing costs should be a third of your income), but don't always abide by them. Go ahead and embrace this spirit, but do so in ways that won't affect your finances too drastically. Start small - try giving a server a huge tip!"},{title:"Give credence to professionals.",description:"Since you know your goals better than anyone, you're in the best position to decide how your money is spent. However, everyone can benefit from an objective point of view. Evaluate the sources of information that are already available to you, and give credit to experience."}],priority:4,groupNumber:2,orderBy:4},Social:{image:"https://igrad-smedia-igrad.netdna-ssl.com/IMAGE/Money-Personality/characters/influence/social.svg",description:"Social, outwardly focused people tend to rely heavily or even exclusively on the opinions of others   sometimes more than they know. They are not necessarily independent thinkers when it comes to money and will instead make certain decisions because their friends are making them, particularly those they trust the most. They may put friends' or family's needs ahead of their own. The size and composition of their families or social circles will impact their financial decisions and the degree of risk they are willing to assume.",strengths:["You can be excellent at making connections and networking, which is useful when working to find partners in business, or to develop your career.","You always take into account the opinions and wishes of those close to you when making money decisions; you are generally perceived as reliable and trustworthy.","You can be quite open-minded when learning something new and are generally comfortable trusting others to give you advice on financial matters."],challenges:["You can lose sight of your own priorities when faced with the needs and wants of others, so your financial picture is susceptible to inconsistency.","You tend to get caught up in trends, so rather than assessing your true desires, you may end up spending money on things you don't necessarily value.","You may find yourself in the middle of difficult discussions, debates, or stuck between dissenting opinions. Financial disagreements are especially stressful."],actionPlans:[{title:"Develop healthy skepticism.",description:"Be mindful of over-reliance on the opinions of others. It's not always a bad thing to look to others for advice, but be wary of who you listen to when it comes to financial matters. Do your own independent research to back up what others have told you."},{title:"Assert your opinions.",description:"Deferring to others to make decisions can leave you feeling resentful. You know your goals and money needs better than anyone, you are in the best position to decide how your money is spent. Guidance is fine, but be sure your decisions are ultimately your own."},{title:"Use your social nature effectively.",description:"Hold regular conversations with people included in your financial picture to make sure everyone is involved and informed. Determine if there are any decisions that can be made autonomously, then delegate assignments or control of those decisions to yourself and others."}],priority:2,groupNumber:1,orderBy:4},Elusive:{image:"https://igrad-smedia-igrad.netdna-ssl.com/IMAGE/Money-Personality/characters/influence/elusive.svg",description:"Elusive financial types avoid making decisions when it comes to money matters. Financial topics may not be of much interest to them, or they may feel unqualified, or some combination of the two. Whether they are intimidated by financial matters or simply prone to avoidance in making decisions in any sphere of their lives, elusive financial types generally leave decisions to other people. They may also self-identify as dependent or needing help in other aspects of their lives.",strengths:["You tend to value time over money, and a decreased focus on money matters means you have more time and energy for things that are truly important to you.","You may already have a trusted friend or advisor to make decisions for you, but if not, you likely have no trouble finding help when you need it.","In social settings you are adept at steering the conversation away from touchy topics; people in your social circle may see you as a peacemaker."],challenges:["Researching how to handle finances may seem boring, overwhelming, or otherwise unpleasant; you are more likely than others to be lacking in financial literacy.","Your own wants and needs may get overlooked, as the source or person you trust to make financial decisions may not be making optimal decisions for you.","Avoidance can have negative consequences; you may not be fully prepared to deal with unexpected setbacks or emergency situations when you need to."],actionPlans:[{title:"Gain skills and confidence simultaneously.",description:"To combat the feeling that you are unqualified to make financial decisions, seek out sources of financial literacy education that approach difficult topics in a manner that feels right to you. Consider articles, videos, games, and content that is conversational in tone."},{title:"Assert your opinions.",description:"Deferring to others can result in feeling a lack of control or resentment. You know your goals and money needs better than anyone, so you are in the best position to decide how your money is spent. Guidance is fine, but be sure your decisions are ultimately your own."},{title:"Empower yourself with money.",description:"If making big decisions is uncomfortable for you, start with low stakes. Test out an independent spirit by making an impromptu financial decision - just be sure it won't affect your finances too drastically. Start small - try giving a server a huge tip!"}],priority:3,groupNumber:3,orderBy:4}},BONUS:{Organized:{image:"https://igrad-smedia-igrad.netdna-ssl.com/IMAGE/Money-Personality/characters/bonus/organizer.svg",description:"Organizers tend to be the people in their families or social circles who manage the finances, and they achieve a great deal of satisfaction from keeping tabs on their own or their household s financial situation. They are also likely to monitor items such as insurance policies and to be up to date on the details of their financial lives. Organizers may enjoy reading or discussing financial topics, comparing notes, and applying what they've learned to their own financial situation.",strengths:["You have an idea of the state of your finances at all times and rarely make costly financial blunders such as overdrawing an account or missing a bill payment.","If you are tempted by tricky advertising or an impulse purchase, you tend to recognize it before your spending gets too far out of hand.","You are likely to take your career or academic pursuits very seriously, and you enjoy making progress. You have the makings of an excellent employee."],challenges:["You can become overly miserly about money matters. Spending money on anything unnecessary can sometimes be challenging for you and may even cause anxiety.","Generally, you appreciate measurable aspects of your finances, like your credit score, but you can also obsess over the number and lose sight of the purpose.","Being overly organized can impact your ability to take suitable risks. You hesitate to act without a plan, which can be a detriment when time is of the essence."],actionPlans:[{title:"Buddy up and organize your worries away.",description:"There's no point in denying your organized nature, so why not share? Aim your focus at a particularly disorganized friend and help him get his finances in order. Your systematic methods and his relaxed approach may just teach each other a thing or two."},{title:"Guard against potential threats.",description:"If you find yourself fixating on certain aspects of your financial situation that are beyond your immediate control, implement methods to alleviate the burden. To guard your credit, for example, obtain credit and identity theft insurance for peace of mind."},{title:"Stick to a schedule.",description:"Set up a schedule (for instance on the first and 15th of the month) for monitoring your finances and stick to it. Avoid overly obsessive monitoring of accounts. Allow online banking and other financial websites to do most of the work for you; then try to relax."}],priority:1,groupNumber:1,orderBy:5},"Fun Seeking":{image:"https://igrad-smedia-igrad.netdna-ssl.com/IMAGE/Money-Personality/characters/bonus/fun-seeker.svg",description:"Fun-seekers see money as a means for enjoying life. They tend to be hedonists to a certain degree, who will spend money just because they enjoy the process. They have been know to use terms such as  retail therapy,   YOLO, and  treat yo'self.  Financial responsibility is not high on the fun-seekers' list of concerns, so these types are most likely to incur large amounts of debt. And beware, even other types have been known to fall into fun-seeker behavior if they come across a large sum of money.",strengths:["You tend to enjoy life to the fullest. You are likely quite popular and have a number of like-minded friends who will indulge your fun-seeking nature.","If you are tempted by tricky advertising or an impulse purchase, you tend to recognize it before your spending gets too far out of hand.","You are an excellent shopper and always know where to find the most interesting things. You take pride in your possessions and generally love to share."],challenges:["The social bonding process of shopping or other costly activities can have long term implications and financial effects. Credit card debt may be a problem.","You prefer to spend money on enjoyable activities rather than putting it away for a rainy day, so you might have less money saved than you should.","Online purchases can be your downfall when it comes to reining in spending. You tend to get caught up in the act without much regard to the consequences."],actionPlans:[{title:"Take the impulse out of purchasing.",description:"Every time you start to make an impulse purchase, imagine the item in your life. Picture yourself using it in different circumstances. Does it feel realistic or forced? Think of what else you might use that money on. Then reevaluate - do you still want it?"},{title:"Anticipate big savings.",description:'If the idea of saving money bores you, link it to an actual payoff. Think of a financial goal that excites you, and put aside a set amount each month toward that goal. This can be a "vacation jar" on your kitchen counter or a "new car" savings account at the bank.'},{title:"Use checks and balances online.",description:"When shopping online, place all your purchases on a wish list or in a shopping cart and leave them there. Read a few product reviews. Then step away from the computer and give yourself a day or two to think about whether or not you really want those items."}],priority:3,groupNumber:3,orderBy:5},"Change Seeking":{image:"https://igrad-smedia-igrad.netdna-ssl.com/IMAGE/Money-Personality/characters/bonus/change-seeker.svg",description:"Change-seekers are quickly bored with the status quo and are constantly looking for the next adventure in life.",strengths:["You are likely willing to take suitable risks with your money. This has potential for major gains when making ambitious financial decisions or investments.","If you are tempted by tricky advertising or an impulse purchase, you tend to recognize it before your spending gets too far out of hand.","You value experiences greatly, and it's likely you have a wealth of stories to share about your travels to far off places or reviews of cultural events."],challenges:["You might have a habit of making spontaneous decisions without thinking about the costs involved. Current and future expenses sometimes shock you.","You prefer to spend money on enjoyable activities rather than putting it away for a rainy day, so you might have less money saved than you should.","While looking forward to the next big thing, you might not be taking into account all of the implications or financial effects that come with transition."],actionPlans:[{title:"Budget for spontaneity.",description:"It might feel dull to avoid taking risks altogether, so if your budget allows, each month set aside a modest amount of cash in an envelope to be used however you like, whenever you're feeling spontaneous. But there's a rule: once it's gone, it's gone."},{title:"View savings as future experiences.",description:'If the idea of saving money bores you, link it to an actual experience. Think of a financial goal that excites you, and put aside a set amount each month toward that goal. This can be a "restaurant jar" on your countertop or a "vacation" savings account at the bank.'},{title:"Zoom out.",description:"Try to take a holistic view. Always be aware of how the current adventure can impact your ability to have adventures down the road. Before you make a major change (such as a new job or moving to a new location), carefully list all the associated costs you can think of."}],priority:2,groupNumber:2,orderBy:5}}};function Hc(t){const e={Focus:[],Emotions:[],Outlook:[],Influence:[],Bonus:[]};t.forEach((d,h)=>{const f=h+1,y=lw[f];y&&e[y].push(d)});const n={};Object.keys(e).forEach(d=>{const h=e[d];h.length>0&&(n[d]=h.reduce((f,y)=>f+y,0))});const r=[],s=[];n.Focus>=24?(r.push("Future Focused"),s.push(xe.FOCUS["Future Focused"])):(r.push("Present Focused"),s.push(xe.FOCUS["Present Focused"]));const o=n.Emotions;o>=45?(r.push("Apprehensive"),s.push(xe.EMOTIONS.Apprehensive)):o>=27?(r.push("Cautious"),s.push(xe.EMOTIONS.Cautious)):(r.push("Relaxed"),s.push(xe.EMOTIONS.Relaxed));const l=n.Outlook;l>=45?(r.push("Optimistic"),s.push(xe.OUTLOOK.Optimistic)):l>=32?(r.push("Confident"),s.push(xe.OUTLOOK.Confident)):(r.push("Skeptical"),s.push(xe.OUTLOOK.Skeptical));const u=n.Influence;u>=40?(r.push("Social"),s.push(xe.INFLUENCE.Social)):u>=27?(r.push("Independent"),s.push(xe.INFLUENCE.Independent)):(r.push("Elusive"),s.push(xe.INFLUENCE.Elusive));const c=n.Bonus;return c>=45?(r.push("Change Seeking"),s.push(xe.BONUS["Change Seeking"])):c>=32?(r.push("Fun Seeking"),s.push(xe.BONUS["Fun Seeking"])):(r.push("Organized"),s.push(xe.BONUS.Organized)),{emotions:0,outlook:0,focus:0,influence:0,riskTolerance:0,personalities:r,personalityScores:n,personalityData:s}}const uw="https://mcpbackendai.openai.azure.com/openai/deployments/gpt-4.1/chat/completions?api-version=2025-01-01-preview",cw="37IFUAn8JDo4Y9pD8P1jQwq9UCRR8eMvTcZVFA9vyEhJWNibRSvdJQQJ99BGACYeBjFXJ3w3AAABACOGHT7I";async function dw(t,e){var n,r,s;try{const i=`You are a financial advisor assistant. Based on the client's money personality assessment results, provide a professional summary that would be helpful for a financial advisor to understand their client better.

Client Profile:
- Primary Personality Types: ${t.personalities.join(", ")}
- Personality Descriptions: ${((n=t.descriptions)==null?void 0:n.join("; "))||""}

Assessment Responses: ${e.join(", ")}

Provide a concise professional summary in **markdown format** (2-3 paragraphs) that highlights:
1. Key personality traits and financial behaviors
2. Potential challenges or concerns to be aware of
3. Recommended communication and advisory approaches
4. Areas where this client might need extra support or guidance

Write this as a professional advisor briefing using markdown formatting with headers, bullet points, and emphasis where appropriate.`,o=await fetch(uw,{method:"POST",headers:{"Content-Type":"application/json","api-key":cw},body:JSON.stringify({messages:[{role:"system",content:i},{role:"user",content:"Please provide an advisor summary for this client."}],max_tokens:500,temperature:.7})});if(!o.ok)throw new Error(`HTTP error! status: ${o.status}`);return((s=(r=(await o.json()).choices[0])==null?void 0:r.message)==null?void 0:s.content)||"Unable to generate advisor summary at this time."}catch(i){return console.error("AI Advisor Summary Error:",i),"This is a prototype - AI advisor summary would appear here in the final version."}}const Ds=["I often spend money without considering whether it could be put to better use elsewhere.","I don't really think too much about the future – whatever is going to happen will happen.","I am too busy worrying about today to really plan far in advance.","I am saving as much money as I possibly can.","I am willing to make sacrifices now to put more money in my savings account.","I have specific plans for how I will achieve my goals.","I feel panicky when an unexpected expense arises.","I worry about money all the time.","I can become distressed when making decisions involving money.","I would rather save money than spend it.","I try to avoid going into debt whenever possible.","I usually think carefully about making a new purchase.","It feels good to spend money on myself.","I usually make decisions very quickly.","I tend to buy things I hadn't planned to buy.","I usually get depressed after making a financial decision.","I expect my financial situation will always stay the same or get worse.","If I am not careful, people will try to take advantage of me.","If I got a juicy stock tip, I would invest some money, as long as it fit into my budget.","When hit with an unexpected financial setback, I know I'll find a way to work it out.","I know if I needed to quit my job I would be OK.","I only purchase car insurance because it's required, not because I'll ever need it.","When I play the lottery or gamble, it's because I believe I will beat the odds.","I tend to be better than most people at most things.","I often rely on my friends or family for financial advice.","I enjoy buying really nice gifts for people.","I would spend outside of my budget in order to join friends or family at an expensive restaurant.","I am in a better position than anyone else to make decisions about my finances.","It is annoying when others tell me how I should spend my money.","Most of the time I tend to make financial decisions without receiving any advice.","I am comfortable letting someone else in my life make all of the major financial decisions.","I avoid talking about money because I feel that people will judge me.","I tend to avoid thinking about money.","I always know the balance in my checking account.","I have all of my important documents (such as insurance policies) carefully stored where I can find them.","Paying my bills on time each month gives me a good feeling.","I would quit a job without having another job if I was unhappy.","I tend to get bored easily.","I feel that life is an adventure.","I believe money is meant to be enjoyed.","Going shopping makes me feel better.","I would go on vacation and put it all on a credit card."];function hw(){const t=hr(),[e]=mf(),[n,r]=_.useState(0),[s,i]=_.useState(new Array(Ds.length).fill(4)),[o,l]=_.useState(!1),[u,c]=_.useState(null),[d,h]=_.useState(null),[f,y]=_.useState(null),[v,w]=_.useState(null);_.useEffect(()=>{const m=e.get("advisor"),x=e.get("share");if(m){const k=Pe.getAssessment(m);k&&(c(m),h({name:k.advisorName,email:k.advisorEmail}))}else if(x){const k=Pe.getFriendAssessment(x);k&&(y(x),w({sharerName:k.sharerName,relationship:k.relationship,personalNote:k.personalNote}))}},[e]);const b=m=>{const x=[...s];x[n]=m,i(x)},g=async()=>{if(n<Ds.length-1)r(n+1);else{l(!0);try{const m=Hc(s);localStorage.setItem("userProfile",JSON.stringify(m)),localStorage.setItem("assessmentAnswers",JSON.stringify(s)),u?(console.log("Completing advisor assessment:",u),await Pe.completeAssessment(u,m)||console.error("Failed to mark assessment as completed, but continuing...")):f?(console.log("Completing shared assessment:",f),await Pe.completeFriendAssessment(f,m)||console.error("Failed to mark friend assessment as completed, but continuing...")):console.log("No advisor or share ID - individual assessment");let x="";!u&&!f&&(console.log("Generating AI advisor summary..."),x=await dw(m,s),x&&localStorage.setItem("advisorSummary",x)),setTimeout(()=>t("/dashboard"),100)}catch(m){console.error("Assessment completion error:",m);const x=Hc(s);localStorage.setItem("userProfile",JSON.stringify(x)),localStorage.setItem("assessmentAnswers",JSON.stringify(s)),setTimeout(()=>t("/dashboard"),100)}}},p=()=>{n>0&&r(n-1)};return o?a.jsx("div",{className:"min-h-screen animated-bg flex items-center justify-center",children:a.jsxs("div",{className:"modern-card text-center space-y-6 max-w-md",children:[a.jsx("div",{className:"w-20 h-20 mx-auto morph-shape bg-gradient-to-br from-primary-500 to-accent-500 flex items-center justify-center",children:a.jsx(Ut,{className:"w-10 h-10 text-white animate-pulse"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Analyzing Your Results"}),a.jsx("p",{className:"text-gray-600 leading-relaxed text-sm",children:"Our AI is processing your responses and creating your personalized money personality profile..."}),a.jsx("div",{className:"flex justify-center space-x-1",children:[0,1,2].map(m=>a.jsx("div",{className:"w-3 h-3 bg-primary-500 rounded-full animate-bounce",style:{animationDelay:`${m*.2}s`}},m))})]})}):a.jsxs("div",{className:"min-h-screen professional-bg",children:[a.jsx("div",{className:"professional-header",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("img",{src:"https://media-cdn.igrad.com/IMAGE/Logos/White/iGradEnrich.png",alt:"iGrad Enrich",className:"h-10 w-auto static-element"}),(d||v)&&a.jsxs("div",{className:"flex items-center space-x-4",children:[d&&a.jsxs("div",{className:"flex items-center space-x-2 text-white",children:[a.jsx(Mt,{className:"w-4 h-4"}),a.jsxs("span",{className:"text-sm font-medium",children:["Shared by ",d.name]})]}),v&&a.jsxs("div",{className:"flex items-center space-x-2 text-white",children:[a.jsx(Mt,{className:"w-4 h-4"}),a.jsxs("span",{className:"text-sm font-medium",children:["Partner invite from ",v.sharerName]})]})]})]})})}),d&&a.jsx("div",{className:"bg-blue-50 border-b border-blue-200",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:a.jsx("div",{className:"text-center",children:a.jsxs("p",{className:"text-blue-800 font-medium leading-relaxed",children:[a.jsx("strong",{children:d.name})," has invited you to discover your Money Personality! This assessment will help them understand your financial behaviors and provide more personalized guidance tailored to your unique personality."]})})})}),v&&a.jsx("div",{className:"bg-emerald-50 border-b border-emerald-200",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:a.jsxs("div",{className:"text-center space-y-2",children:[a.jsxs("p",{className:"text-emerald-900 font-medium leading-relaxed",children:[a.jsx("strong",{children:v.sharerName})," invited you to take the Money Personality assessment so you can explore how your financial styles work together as ",v.relationship.toLowerCase(),"."]}),a.jsx("p",{className:"text-emerald-800 text-sm",children:"Once you both finish, you'll unlock a compatibility breakdown with strengths, watch-outs, and suggested conversation starters."}),v.personalNote&&a.jsx("p",{className:"text-emerald-700 text-sm italic",children:v.personalNote})]})})}),a.jsx("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:a.jsx("div",{className:"flex justify-center",children:a.jsx(aw,{question:Ds[n],questionNumber:n+1,totalQuestions:Ds.length,value:s[n],onChange:b,onNext:g,onPrevious:p,canGoNext:!0,canGoPrevious:n>0})})})]})}function Lo({children:t}){const e=St(),n=[{path:"/dashboard",label:"Dashboard"}];return a.jsxs("div",{className:"min-h-screen professional-bg",children:[a.jsx("nav",{className:"professional-header",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsx("div",{className:"flex justify-between items-center h-16",children:a.jsxs("div",{className:"flex items-center space-x-8",children:[a.jsx(Te,{to:"/",className:"hover:opacity-80 transition-opacity duration-200 static-element",children:a.jsx("img",{src:"https://media-cdn.igrad.com/IMAGE/Logos/White/iGradEnrich.png",alt:"iGrad Enrich",className:"h-8 w-auto"})}),a.jsx("div",{className:"hidden md:flex space-x-6",children:n.map(r=>a.jsx(Te,{to:r.path,className:`text-white hover:text-blue-100 transition-colors duration-200 text-sm font-medium ${e.pathname===r.path?"text-white":""}`,children:r.label},r.path))})]})})})}),a.jsx("main",{children:t})]})}const fw=t=>t.replace(/^### (.*$)/gm,"<h3>$1</h3>").replace(/^## (.*$)/gm,"<h2>$1</h2>").replace(/^# (.*$)/gm,"<h1>$1</h1>").replace(/\*\*(.*?)\*\*/g,"<strong>$1</strong>").replace(/\*(.*?)\*/g,"<em>$1</em>").replace(/^- (.*$)/gm,"<li>$1</li>").split(`

`).map(e=>e.startsWith("<h")||e.startsWith("<li")?e:e.trim()?`<p>${e}</p>`:"").join(`
`);function mw(){const t=hr(),[e]=mf(),[n,r]=_.useState(null),[s,i]=_.useState(""),[o,l]=_.useState(1),[u,c]=_.useState(!0),[d,h]=_.useState(!1),[f,y]=_.useState(null),[v,w]=_.useState([]),[b,g]=_.useState(()=>({sharerName:typeof window<"u"&&localStorage.getItem("friendShareName")||"",sharerEmail:typeof window<"u"&&localStorage.getItem("friendShareEmail")||"",friendEmail:"",friendName:"",relationship:"Partner or Spouse",personalNote:""})),[p,m]=_.useState(!1),[x,k]=_.useState(null),[E,N]=_.useState(null);_.useEffect(()=>{const S=e.get("advisor");S?Y(S):L()},[t,e]);const C=()=>{const S=Pe.getFriendAssessmentsForUser();w(S),N(A=>{if(A&&S.some(He=>He.id===A))return A;const O=S.find(He=>He.status==="completed");return O?O.id:null})};_.useEffect(()=>{const S=O=>{O.key==="friend_assessments"&&C()},A=()=>{C()};return window.addEventListener("storage",S),window.addEventListener("localStorageUpdate",A),()=>{window.removeEventListener("storage",S),window.removeEventListener("localStorageUpdate",A)}},[]);const Y=async S=>{try{const A=await Pe.getAssessmentResult(S);if(A){r(A.profile),h(!0);const O=Pe.getAssessment(S);O&&y({name:O.advisorName,email:O.advisorEmail})}else{t("/");return}}catch(A){console.error("Error loading assessment result:",A),t("/");return}c(!1)},L=()=>{const S=localStorage.getItem("userProfile"),A=localStorage.getItem("advisorSummary");if(!S){t("/");return}try{const O=JSON.parse(S);r(O),i(A||""),C(),c(!1)}catch(O){console.error("Error parsing saved profile:",O),t("/");return}},se=S=>{const{name:A,value:O}=S.target;g(He=>({...He,[A]:O}))},nn=async S=>{if(S.preventDefault(),!n){k({type:"error",message:"Complete the assessment first to share it with someone else."});return}if(!b.sharerName||!b.sharerEmail||!b.friendEmail){k({type:"error",message:"Please add your name, email, and who you want to invite."});return}m(!0),k(null);const A=await Pe.shareAssessmentWithFriend(b.sharerName,b.sharerEmail,b.friendEmail,b.relationship,n,b.personalNote||void 0,b.friendName||void 0);m(!1),A.success?(k({type:"success",message:"Invitation sent! Your partner will receive an email with the link."}),g(O=>({...O,friendEmail:"",friendName:"",personalNote:""})),typeof window<"u"&&(localStorage.setItem("friendShareName",b.sharerName),localStorage.setItem("friendShareEmail",b.sharerEmail)),C()):k({type:"error",message:A.error||"Unable to send the invitation. Please try again."})},rn=async S=>{try{await navigator.clipboard.writeText(S),k({type:"info",message:"Invitation link copied to your clipboard."})}catch(A){console.error("Clipboard copy failed:",A),k({type:"error",message:"Unable to copy the link. Please try manually copying it."})}};v.filter(S=>S.status==="sent");const jn=v.filter(S=>S.status==="completed");if(u)return a.jsx(Lo,{children:a.jsx("div",{className:"min-h-screen professional-bg flex items-center justify-center",children:a.jsxs("div",{className:"modern-card text-center space-y-6",children:[a.jsx("div",{className:"w-20 h-20 mx-auto morph-shape bg-gradient-to-br from-primary-500 to-accent-500 flex items-center justify-center",children:a.jsx(Ut,{className:"w-10 h-10 text-white animate-pulse"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Analyzing Your Results"}),a.jsx("p",{className:"text-gray-600",children:"Creating your personalized money personality profile..."})]})})});if(!n)return a.jsx(Lo,{children:a.jsx("div",{className:"min-h-screen professional-bg flex items-center justify-center",children:a.jsxs("div",{className:"modern-card text-center space-y-6",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Assessment Not Found"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Please complete the assessment to see your results."}),a.jsx("button",{onClick:()=>t("/assessment"),className:"btn-primary",children:"Take Assessment"})]})})});const ut=[{id:1,title:"Your Profile",icon:Tr,content:a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("div",{className:"w-24 h-24 mx-auto morph-shape bg-gradient-to-br from-primary-500 to-accent-500 flex items-center justify-center mb-6",children:a.jsx(Tr,{className:"w-12 h-12 text-white"})}),a.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"Your Money Personality®"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Understanding the psychology behind your financial decisions"})]}),a.jsxs("div",{className:"grid gap-8",children:[a.jsxs("div",{className:"modern-card space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Va,{className:"w-6 h-6 text-primary-600"}),a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"The Purpose"})]}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Your financial wellness goes beyond numbers in your bank account. It involves goal-setting, decision-making under pressure, and navigating complex choices. This behavioral assessment reveals the unique psychological patterns that drive your money decisions."}),a.jsx("div",{className:"bg-gradient-to-r from-primary-50 to-accent-50 p-6 rounded-xl border border-primary-100",children:a.jsx("p",{className:"text-gray-600 text-sm italic",children:"Remember: Your financial personality may evolve over time based on life experiences. This analysis provides insights for self-improvement and should complement, not replace, professional financial advice."})})]}),a.jsxs("div",{className:"modern-card space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Ut,{className:"w-6 h-6 text-accent-600"}),a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"The Science"})]}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:"This groundbreaking analysis represents the first behavioral finance assessment of its kind in financial wellness programs. Developed in collaboration with experts led by a Ph.D. in Behavioral Economics, it translates complex psychological research into practical, actionable insights about your financial personality."})]}),a.jsxs("div",{className:"modern-card space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Uc,{className:"w-6 h-6 text-yellow-600"}),a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Your Analysis"})]}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Based on your responses, our advanced analysis engine evaluated your financial behaviors across multiple psychological dimensions. You'll discover your dominant personality traits, natural strengths, potential challenges, and personalized strategies to optimize your financial decision-making."}),a.jsx("div",{className:"bg-gradient-to-r from-yellow-50 to-orange-50 p-6 rounded-xl border border-yellow-200",children:a.jsx("p",{className:"text-gray-800 font-medium",children:"Explore each section to unlock insights about different aspects of your money personality!"})})]})]})]})}];n.personalityData&&Array.isArray(n.personalityData)&&n.personalityData.forEach((S,A)=>{var En,nt,sn;const O=n.personalities[A],ct=(Le=>["Future Focused","Present Focused"].includes(Le)?"Focus":["Apprehensive","Cautious","Relaxed"].includes(Le)?"Emotions":["Confident","Optimistic","Skeptical"].includes(Le)?"Outlook":["Independent","Social","Elusive"].includes(Le)?"Influence":["Organized","Fun Seeking","Change Seeking"].includes(Le)?"Bonus":"Personality")(O);ut.push({id:ut.length+1,title:`${ct}: ${O}`,icon:Tr,content:a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("div",{className:"w-24 h-24 mx-auto morph-shape bg-gradient-to-br from-primary-500 to-accent-500 flex items-center justify-center mb-6",children:a.jsx(Tr,{className:"w-12 h-12 text-white"})}),a.jsx("h2",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Your Money Personality®"}),a.jsx("p",{className:"text-lg text-gray-600 max-w-2xl mx-auto",children:O}),d&&f&&a.jsx("div",{className:"modern-card border-l-4 border-primary-500 mb-8",children:a.jsxs("p",{className:"text-primary-800 font-medium",children:[a.jsx("strong",{children:f.name})," will receive notification of your completed assessment and can use these insights to provide more personalized financial guidance."]})})]}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"modern-card space-y-4",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-900 flex items-center space-x-3",children:[a.jsx(ls,{className:"w-6 h-6 text-primary-600"}),a.jsx("span",{children:"What This Means"})]}),a.jsx("p",{className:"text-gray-700 leading-relaxed text-lg",children:S.description})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"modern-card border-l-4 border-green-500",children:[a.jsxs("h3",{className:"text-xl font-bold text-green-700 mb-6 flex items-center space-x-2",children:[a.jsx(W0,{className:"w-6 h-6"}),a.jsx("span",{children:"Your Strengths"})]}),a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["When you're ",O,", you excel at:"]}),a.jsx("div",{className:"space-y-4",children:((En=S.strengths)==null?void 0:En.map((Le,dt)=>a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-green-100 flex items-center justify-center mt-0.5",children:a.jsx("span",{className:"text-green-600 font-bold text-sm",children:dt+1})}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:Le})]},dt)))||[]})]}),a.jsxs("div",{className:"modern-card border-l-4 border-orange-500",children:[a.jsxs("h3",{className:"text-xl font-bold text-orange-700 mb-6 flex items-center space-x-2",children:[a.jsx(Va,{className:"w-6 h-6"}),a.jsx("span",{children:"Growth Areas"})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Areas for mindful attention:"}),a.jsx("div",{className:"space-y-4",children:((nt=S.challenges)==null?void 0:nt.map((Le,dt)=>a.jsxs("div",{className:"flex space-x-3",children:[a.jsx("div",{className:"flex-shrink-0 w-6 h-6 rounded-full bg-orange-100 flex items-center justify-center mt-0.5",children:a.jsx("span",{className:"text-orange-600 font-bold text-sm",children:dt+1})}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:Le})]},dt)))||[]})]})]}),a.jsxs("div",{className:"modern-card",children:[a.jsxs("h3",{className:"text-2xl font-bold text-primary-700 mb-6 flex items-center space-x-3",children:[a.jsx(Uc,{className:"w-6 h-6"}),a.jsx("span",{children:"Personalized Action Plan"})]}),a.jsxs("p",{className:"text-sm text-gray-600 mb-6",children:["Strategies tailored for your ",O," personality:"]}),a.jsx("div",{className:"space-y-8",children:((sn=S.actionPlans)==null?void 0:sn.map((Le,dt)=>{var Ql;return a.jsxs("div",{className:"relative",children:[a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("div",{className:"flex-shrink-0 w-12 h-12 rounded-xl bg-gradient-to-br from-primary-500 to-accent-500 flex items-center justify-center",children:a.jsx("span",{className:"text-white font-bold text-lg",children:dt+1})}),a.jsxs("div",{className:"space-y-2",children:[a.jsx("h4",{className:"text-lg font-bold text-gray-900",children:Le.title}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:Le.description})]})]}),dt<((Ql=S.actionPlans)==null?void 0:Ql.length)-1&&a.jsx("div",{className:"ml-6 mt-4 h-8 w-0.5 bg-gradient-to-b from-primary-200 to-transparent"})]},dt)}))||[]})]})]})]})})}),!d&&s&&ut.push({id:ut.length+1,title:"AI Advisor Insights",icon:Ut,content:a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"text-center mb-10",children:[a.jsx("div",{className:"w-24 h-24 mx-auto morph-shape bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center mb-6",children:a.jsx(Ut,{className:"w-12 h-12 text-white"})}),a.jsx("h2",{className:"text-4xl font-bold text-gray-900 mb-4",children:"AI Financial Advisor Summary"}),a.jsx("p",{className:"text-xl text-gray-600 max-w-2xl mx-auto",children:"Professional insights for your financial advisor based on your personality assessment"})]}),a.jsx("div",{className:"modern-card",children:a.jsx("div",{className:"prose prose-lg max-w-none [&>h1]:text-3xl [&>h1]:font-bold [&>h1]:text-gray-900 [&>h1]:mb-6 [&>h2]:text-2xl [&>h2]:font-bold [&>h2]:text-gray-900 [&>h2]:mb-4 [&>h3]:text-xl [&>h3]:font-semibold [&>h3]:text-gray-900 [&>h3]:mb-3 [&>p]:text-gray-700 [&>p]:mb-4 [&>p]:leading-relaxed [&>ul]:mb-4 [&>ul]:pl-6 [&>li]:mb-3 [&>li]:text-gray-700 [&>strong]:font-semibold [&>strong]:text-gray-900",dangerouslySetInnerHTML:{__html:fw(s)}})})]})});const tt=ut.find(S=>S.id===o),We=ut.length,T={success:"bg-emerald-50 border-emerald-200 text-emerald-700",error:"bg-red-50 border-red-200 text-red-700",info:"bg-blue-50 border-blue-200 text-blue-700"},I={success:a.jsx(Lc,{className:"w-5 h-5 text-emerald-600"}),error:a.jsx(B0,{className:"w-5 h-5 text-red-600"}),info:a.jsx(Mt,{className:"w-5 h-5 text-blue-600"})};return a.jsx(Lo,{children:a.jsx("div",{className:"min-h-screen professional-bg",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[a.jsxs("div",{className:"modern-card mb-8",children:[a.jsxs("div",{className:"flex justify-between items-center text-sm font-medium text-gray-600 mb-4",children:[a.jsxs("span",{children:["Chapter ",o," of ",We]}),a.jsxs("span",{className:"stat-number text-lg font-bold",children:[Math.round(o/We*100),"%"]})]}),a.jsx("div",{className:"relative",children:a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:a.jsx("div",{className:"progress-bar h-3 transition-all duration-500",style:{width:`${o/We*100}%`}})})})]}),a.jsxs("div",{className:"flex justify-between items-center mb-8",children:[a.jsxs("button",{onClick:()=>l(Math.max(1,o-1)),disabled:o===1,className:`flex items-center space-x-2 px-6 py-3 rounded-full font-semibold transition-all duration-300 ${o===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"btn-secondary hover:scale-105"}`,children:[a.jsx(zf,{className:"w-5 h-5"}),a.jsx("span",{children:"Previous"})]}),a.jsx("div",{className:"text-center",children:a.jsx("h1",{className:"text-2xl font-bold text-gray-900 flex items-center justify-center space-x-3",children:tt&&a.jsxs(a.Fragment,{children:[a.jsx(tt.icon,{className:"w-8 h-8 text-primary-600"}),a.jsx("span",{children:tt.title})]})})}),a.jsxs("button",{onClick:()=>l(Math.min(We,o+1)),disabled:o===We,className:`flex items-center space-x-2 px-6 py-3 rounded-full font-semibold transition-all duration-300 ${o===We?"bg-gray-100 text-gray-400 cursor-not-allowed":"btn-primary hover:scale-105 group"}`,children:[a.jsx("span",{children:"Next"}),a.jsx(Bf,{className:`w-5 h-5 ${o!==We?"group-hover:translate-x-1":""} transition-transform`})]})]}),!d&&n&&a.jsxs("div",{className:"modern-card mb-8",children:[a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6 mb-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-rose-500 to-pink-500 flex items-center justify-center",children:a.jsx($c,{className:"w-6 h-6 text-white"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Couples Compatibility Center"}),a.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"Invite a partner, spouse, or close friend to compare Money Personalities and unlock AI-powered compatibility insights."})]})]}),jn.length>0&&a.jsxs("div",{className:"flex items-center space-x-2 bg-emerald-50 border border-emerald-100 text-emerald-700 px-4 py-2 rounded-lg text-sm font-medium",children:[a.jsx(Mt,{className:"w-4 h-4"}),a.jsxs("span",{children:[jn.length," compatibility insight",jn.length>1?"s":""," ready"]})]})]}),x&&a.jsx("div",{className:`mb-6 rounded-xl border px-4 py-3 text-sm ${T[x.type]}`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[I[x.type],a.jsx("p",{className:"leading-relaxed",children:x.message})]})}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[a.jsxs("form",{onSubmit:nn,className:"space-y-5",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"sharerName",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Your Name *"}),a.jsx("input",{id:"sharerName",name:"sharerName",type:"text",required:!0,value:b.sharerName,onChange:se,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Jordan Lee"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"sharerEmail",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Your Email *"}),a.jsx("input",{id:"sharerEmail",name:"sharerEmail",type:"email",required:!0,value:b.sharerEmail,onChange:se,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"you@email.com"})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"friendName",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Their Name (optional)"}),a.jsx("input",{id:"friendName",name:"friendName",type:"text",value:b.friendName,onChange:se,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Taylor"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"friendEmail",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Their Email *"}),a.jsx("input",{id:"friendEmail",name:"friendEmail",type:"email",required:!0,value:b.friendEmail,onChange:se,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"partner@email.com"})]})]}),a.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:a.jsxs("div",{children:[a.jsx("label",{htmlFor:"relationship",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Relationship Focus"}),a.jsxs("select",{id:"relationship",name:"relationship",value:b.relationship,onChange:se,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",children:[a.jsx("option",{children:"Partner or Spouse"}),a.jsx("option",{children:"Friend"}),a.jsx("option",{children:"Family Member"}),a.jsx("option",{children:"Accountability Buddy"})]})]})}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"personalNote",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Add a personal note (optional)"}),a.jsx("textarea",{id:"personalNote",name:"personalNote",value:b.personalNote,onChange:se,rows:3,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"I thought it would be fun to compare our money personalities before our next planning night!"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[a.jsx("p",{className:"text-xs text-gray-500",children:"We send a branded email with your name and a secure link. Completion notifications return here automatically."}),a.jsx("button",{type:"submit",disabled:p,className:`inline-flex items-center px-6 py-3 rounded-lg font-semibold text-white transition-colors ${p?"bg-gray-400 cursor-not-allowed":"bg-primary-600 hover:bg-primary-700"}`,children:p?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-3"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(J0,{className:"w-5 h-5 mr-2"}),"Share Assessment"]})})]})]}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gradient-to-r from-indigo-50 to-purple-50 border border-indigo-100 rounded-xl p-5",children:[a.jsx("h3",{className:"text-sm font-semibold text-indigo-700 uppercase tracking-wide",children:"How the couple report works"}),a.jsxs("ul",{className:"mt-3 space-y-2 text-sm text-indigo-900 list-disc list-inside",children:[a.jsx("li",{children:"Your invitee receives a secure link to the Money Personality assessment."}),a.jsx("li",{children:"Once both assessments are complete, compatibility insights unlock automatically."}),a.jsx("li",{children:"You can revisit this dashboard anytime to review shared strengths and watch-outs."})]})]}),v.length===0?a.jsxs("div",{className:"border border-dashed border-gray-300 rounded-xl p-6 text-center text-sm text-gray-600",children:[a.jsx(Mt,{className:"w-6 h-6 text-primary-500 mx-auto mb-3"}),a.jsx("p",{children:"Ready to see how your Money Personalities complement each other? Send an invite to get started."})]}):a.jsx("div",{className:"space-y-4",children:v.map(S=>a.jsxs("div",{className:"border border-gray-200 rounded-xl p-5 bg-white shadow-sm",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-4",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs uppercase tracking-wide text-gray-500",children:S.relationship}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:S.recipientName||"Invitation in progress"}),a.jsx("p",{className:"text-sm text-gray-600",children:S.recipientEmail})]}),a.jsx("div",{className:"flex items-center space-x-2",children:S.status==="completed"?a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-emerald-100 text-emerald-700",children:[a.jsx(Lc,{className:"w-4 h-4 mr-1"}),"Completed"]}):a.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-amber-100 text-amber-700",children:[a.jsx(Ei,{className:"w-4 h-4 mr-1"}),"Waiting"]})})]}),a.jsxs("div",{className:"mt-3 flex flex-wrap items-center gap-3 text-xs text-gray-500 uppercase tracking-wide",children:[a.jsxs("span",{children:["Sent ",new Date(S.sentAt).toLocaleDateString()]}),S.status==="sent"&&a.jsxs("button",{type:"button",onClick:()=>rn(S.assessmentLink),className:"inline-flex items-center text-blue-600 hover:text-blue-700 font-semibold text-sm normal-case",children:[a.jsx(G0,{className:"w-4 h-4 mr-1"}),"Copy invite link"]}),S.status==="completed"&&S.compatibility&&a.jsxs("button",{type:"button",onClick:()=>N(A=>A===S.id?null:S.id),className:"inline-flex items-center text-primary-600 hover:text-primary-700 font-semibold text-sm normal-case",children:[a.jsx(Mt,{className:"w-4 h-4 mr-1"}),E===S.id?"Hide insights":"View insights"]})]}),S.status==="completed"&&S.compatibility&&E===S.id&&a.jsxs("div",{className:"mt-5 space-y-4 text-sm text-gray-700",children:[a.jsxs("div",{className:"flex items-center justify-between bg-emerald-50 border border-emerald-100 rounded-lg px-4 py-3",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-xs font-semibold text-emerald-700 uppercase tracking-wide",children:"Compatibility score"}),a.jsxs("p",{className:"text-2xl font-bold text-emerald-900",children:[S.compatibility.compatibilityScore,a.jsx("span",{className:"text-sm font-medium text-emerald-600 ml-2",children:S.compatibility.compatibilityLabel})]})]}),a.jsx($c,{className:"w-7 h-7 text-emerald-500"})]}),S.compatibility.sharedTraits.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Shared traits"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:S.compatibility.sharedTraits.map(A=>a.jsx("span",{className:"inline-flex items-center px-3 py-1 rounded-full bg-primary-100 text-primary-700 text-xs font-medium",children:A},A))})]}),a.jsx("p",{className:"leading-relaxed",children:S.compatibility.summary}),S.compatibility.alignmentHighlights.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Where you're in sync"}),a.jsx("ul",{className:"space-y-2 list-disc list-inside text-gray-600",children:S.compatibility.alignmentHighlights.slice(0,2).map((A,O)=>a.jsx("li",{children:A},O))})]}),S.compatibility.potentialFriction.length>0&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-900 mb-2",children:"Watch-outs"}),a.jsx("ul",{className:"space-y-2 list-disc list-inside text-gray-600",children:S.compatibility.potentialFriction.slice(0,2).map((A,O)=>a.jsx("li",{children:A},O))})]}),S.compatibility.conversationStarters.length>0&&a.jsxs("div",{className:"bg-blue-50 border border-blue-100 rounded-lg px-4 py-3",children:[a.jsx("p",{className:"text-sm font-semibold text-blue-700 mb-2",children:"Suggested conversation starters"}),a.jsx("ul",{className:"space-y-2 text-blue-800 list-disc list-inside",children:S.compatibility.conversationStarters.slice(0,3).map((A,O)=>a.jsx("li",{children:A},O))})]})]})]},S.id))})]})]})]}),a.jsx("div",{className:"modern-card mb-8",children:tt==null?void 0:tt.content}),a.jsxs("div",{className:"modern-card",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-6 flex items-center space-x-2",children:[a.jsx(ls,{className:"w-6 h-6 text-primary-600"}),a.jsx("span",{children:"All Chapters"})]}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:ut.map(S=>a.jsx("button",{onClick:()=>l(S.id),className:`chapter-nav p-4 text-left transition-all duration-300 ${o===S.id?"active":""}`,children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center transition-colors ${o===S.id?"bg-gradient-to-r from-primary-500 to-accent-500 text-white":"bg-gray-100 text-gray-600"}`,children:a.jsx(S.icon,{className:"w-5 h-5"})}),a.jsxs("div",{children:[a.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:S.title}),a.jsxs("div",{className:"text-xs text-gray-500",children:["Chapter ",S.id]})]})]})},S.id))})]})]})})})}function pw(){return a.jsx(M0,{children:a.jsx(wy,{children:a.jsxs(dy,{children:[a.jsx(Nt,{path:"/",element:a.jsx(Z0,{})}),a.jsx(Nt,{path:"/assessment",element:a.jsx(hw,{})}),a.jsx(Nt,{path:"/dashboard",element:a.jsx(mw,{})}),a.jsx(Nt,{path:"/advisor/login",element:a.jsx(sw,{})}),a.jsx(Nt,{path:"/advisor",element:a.jsx(Ro,{children:a.jsx(Wc,{})})}),a.jsx(Nt,{path:"/advisor/share",element:a.jsx(Ro,{children:a.jsx(Wc,{})})}),a.jsx(Nt,{path:"/advisor/dashboard",element:a.jsx(Ro,{children:a.jsx(iw,{})})})]})})})}$o.createRoot(document.getElementById("root")).render(a.jsx(td.StrictMode,{children:a.jsx(pw,{})}));
