var Og=Object.defineProperty;var Rg=(t,e,n)=>e in t?Og(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var se=(t,e,n)=>(Rg(t,typeof e!="symbol"?e+"":e,n),n),Lg=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var Pa=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)};var Mi=(t,e,n)=>(Lg(t,e,"access private method"),n);function $g(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var bt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Mg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Dg(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var df={exports:{}},ra={},hf={exports:{}},V={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bi=Symbol.for("react.element"),Ug=Symbol.for("react.portal"),zg=Symbol.for("react.fragment"),Fg=Symbol.for("react.strict_mode"),Bg=Symbol.for("react.profiler"),Wg=Symbol.for("react.provider"),Hg=Symbol.for("react.context"),qg=Symbol.for("react.forward_ref"),Gg=Symbol.for("react.suspense"),Yg=Symbol.for("react.memo"),Vg=Symbol.for("react.lazy"),id=Symbol.iterator;function Kg(t){return t===null||typeof t!="object"?null:(t=id&&t[id]||t["@@iterator"],typeof t=="function"?t:null)}var ff={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pf=Object.assign,mf={};function is(t,e,n){this.props=t,this.context=e,this.refs=mf,this.updater=n||ff}is.prototype.isReactComponent={};is.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};is.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function gf(){}gf.prototype=is.prototype;function Lc(t,e,n){this.props=t,this.context=e,this.refs=mf,this.updater=n||ff}var $c=Lc.prototype=new gf;$c.constructor=Lc;pf($c,is.prototype);$c.isPureReactComponent=!0;var od=Array.isArray,yf=Object.prototype.hasOwnProperty,Mc={current:null},vf={key:!0,ref:!0,__self:!0,__source:!0};function xf(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)yf.call(e,r)&&!vf.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:bi,type:t,key:i,ref:o,props:s,_owner:Mc.current}}function Qg(t,e){return{$$typeof:bi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Dc(t){return typeof t=="object"&&t!==null&&t.$$typeof===bi}function Jg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ad=/\/+/g;function Ia(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Jg(""+t.key):e.toString(36)}function uo(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case bi:case Ug:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Ia(o,0):r,od(s)?(n="",t!=null&&(n=t.replace(ad,"$&/")+"/"),uo(s,e,n,"",function(u){return u})):s!=null&&(Dc(s)&&(s=Qg(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ad,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",od(t))for(var l=0;l<t.length;l++){i=t[l];var c=r+Ia(i,l);o+=uo(i,e,n,c,s)}else if(c=Kg(t),typeof c=="function")for(t=c.call(t),l=0;!(i=t.next()).done;)i=i.value,c=r+Ia(i,l++),o+=uo(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Di(t,e,n){if(t==null)return t;var r=[],s=0;return uo(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Xg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Je={current:null},ho={transition:null},Zg={ReactCurrentDispatcher:Je,ReactCurrentBatchConfig:ho,ReactCurrentOwner:Mc};function wf(){throw Error("act(...) is not supported in production builds of React.")}V.Children={map:Di,forEach:function(t,e,n){Di(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Di(t,function(){e++}),e},toArray:function(t){return Di(t,function(e){return e})||[]},only:function(t){if(!Dc(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};V.Component=is;V.Fragment=zg;V.Profiler=Bg;V.PureComponent=Lc;V.StrictMode=Fg;V.Suspense=Gg;V.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Zg;V.act=wf;V.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=pf({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Mc.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)yf.call(e,c)&&!vf.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];r.children=l}return{$$typeof:bi,type:t.type,key:s,ref:i,props:r,_owner:o}};V.createContext=function(t){return t={$$typeof:Hg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Wg,_context:t},t.Consumer=t};V.createElement=xf;V.createFactory=function(t){var e=xf.bind(null,t);return e.type=t,e};V.createRef=function(){return{current:null}};V.forwardRef=function(t){return{$$typeof:qg,render:t}};V.isValidElement=Dc;V.lazy=function(t){return{$$typeof:Vg,_payload:{_status:-1,_result:t},_init:Xg}};V.memo=function(t,e){return{$$typeof:Yg,type:t,compare:e===void 0?null:e}};V.startTransition=function(t){var e=ho.transition;ho.transition={};try{t()}finally{ho.transition=e}};V.unstable_act=wf;V.useCallback=function(t,e){return Je.current.useCallback(t,e)};V.useContext=function(t){return Je.current.useContext(t)};V.useDebugValue=function(){};V.useDeferredValue=function(t){return Je.current.useDeferredValue(t)};V.useEffect=function(t,e){return Je.current.useEffect(t,e)};V.useId=function(){return Je.current.useId()};V.useImperativeHandle=function(t,e,n){return Je.current.useImperativeHandle(t,e,n)};V.useInsertionEffect=function(t,e){return Je.current.useInsertionEffect(t,e)};V.useLayoutEffect=function(t,e){return Je.current.useLayoutEffect(t,e)};V.useMemo=function(t,e){return Je.current.useMemo(t,e)};V.useReducer=function(t,e,n){return Je.current.useReducer(t,e,n)};V.useRef=function(t){return Je.current.useRef(t)};V.useState=function(t){return Je.current.useState(t)};V.useSyncExternalStore=function(t,e,n){return Je.current.useSyncExternalStore(t,e,n)};V.useTransition=function(){return Je.current.useTransition()};V.version="18.3.1";hf.exports=V;var _=hf.exports;const bf=Mg(_),ey=$g({__proto__:null,default:bf},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty=_,ny=Symbol.for("react.element"),ry=Symbol.for("react.fragment"),sy=Object.prototype.hasOwnProperty,iy=ty.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,oy={key:!0,ref:!0,__self:!0,__source:!0};function kf(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)sy.call(e,r)&&!oy.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:ny,type:t,key:i,ref:o,props:s,_owner:iy.current}}ra.Fragment=ry;ra.jsx=kf;ra.jsxs=kf;df.exports=ra;var a=df.exports,kl={},_f={exports:{}},ft={},Sf={exports:{}},Ef={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,M){var U=j.length;j.push(M);e:for(;0<U;){var z=U-1>>>1,J=j[z];if(0<s(J,M))j[z]=M,j[U]=J,U=z;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var M=j[0],U=j.pop();if(U!==M){j[0]=U;e:for(var z=0,J=j.length,q=J>>>1;z<q;){var K=2*(z+1)-1,Q=j[K],xe=K+1,mt=j[xe];if(0>s(Q,U))xe<J&&0>s(mt,Q)?(j[z]=mt,j[xe]=U,z=xe):(j[z]=Q,j[K]=U,z=K);else if(xe<J&&0>s(mt,U))j[z]=mt,j[xe]=U,z=xe;else break e}}return M}function s(j,M){var U=j.sortIndex-M.sortIndex;return U!==0?U:j.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,v=!1,x=!1,b=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g(j){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=j)r(u),M.sortIndex=M.expirationTime,e(c,M);else break;M=n(u)}}function k(j){if(x=!1,g(j),!v)if(n(c)!==null)v=!0,Te(S);else{var M=n(u);M!==null&&R(k,M.startTime-j)}}function S(j,M){v=!1,x&&(x=!1,y(A),A=-1),p=!0;var U=f;try{for(g(M),h=n(c);h!==null&&(!(h.expirationTime>M)||j&&!H());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var J=z(h.expirationTime<=M);M=t.unstable_now(),typeof J=="function"?h.callback=J:h===n(c)&&r(c),g(M)}else r(c);h=n(c)}if(h!==null)var q=!0;else{var K=n(u);K!==null&&R(k,K.startTime-M),q=!1}return q}finally{h=null,f=U,p=!1}}var E=!1,N=null,A=-1,W=5,F=-1;function H(){return!(t.unstable_now()-F<W)}function Ne(){if(N!==null){var j=t.unstable_now();F=j;var M=!0;try{M=N(!0,j)}finally{M?Oe():(E=!1,N=null)}}else E=!1}var Oe;if(typeof m=="function")Oe=function(){m(Ne)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,mn=ke.port2;ke.port1.onmessage=Ne,Oe=function(){mn.postMessage(null)}}else Oe=function(){b(Ne,0)};function Te(j){N=j,E||(E=!0,Oe())}function R(j,M){A=b(function(){j(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,Te(S))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var M=3;break;default:M=f}var U=f;f=M;try{return j()}finally{f=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,M){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var U=f;f=j;try{return M()}finally{f=U}},t.unstable_scheduleCallback=function(j,M,U){var z=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?z+U:z):U=z,j){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=U+J,j={id:d++,callback:M,priorityLevel:j,startTime:U,expirationTime:J,sortIndex:-1},U>z?(j.sortIndex=U,e(u,j),n(c)===null&&j===n(u)&&(x?(y(A),A=-1):x=!0,R(k,U-z))):(j.sortIndex=J,e(c,j),v||p||(v=!0,Te(S))),j},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(j){var M=f;return function(){var U=f;f=M;try{return j.apply(this,arguments)}finally{f=U}}}})(Ef);Sf.exports=Ef;var ay=Sf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly=_,ht=ay;function T(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jf=new Set,ei={};function hr(t,e){Jr(t,e),Jr(t+"Capture",e)}function Jr(t,e){for(ei[t]=e,t=0;t<e.length;t++)jf.add(e[t])}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_l=Object.prototype.hasOwnProperty,cy=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ld={},cd={};function uy(t){return _l.call(cd,t)?!0:_l.call(ld,t)?!1:cy.test(t)?cd[t]=!0:(ld[t]=!0,!1)}function dy(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function hy(t,e,n,r){if(e===null||typeof e>"u"||dy(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Xe(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Me={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Me[t]=new Xe(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Me[e]=new Xe(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Me[t]=new Xe(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Me[t]=new Xe(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Me[t]=new Xe(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Me[t]=new Xe(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Me[t]=new Xe(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Me[t]=new Xe(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Me[t]=new Xe(t,5,!1,t.toLowerCase(),null,!1,!1)});var Uc=/[\-:]([a-z])/g;function zc(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Uc,zc);Me[e]=new Xe(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Uc,zc);Me[e]=new Xe(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Uc,zc);Me[e]=new Xe(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Me[t]=new Xe(t,1,!1,t.toLowerCase(),null,!1,!1)});Me.xlinkHref=new Xe("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Me[t]=new Xe(t,1,!1,t.toLowerCase(),null,!0,!0)});function Fc(t,e,n,r){var s=Me.hasOwnProperty(e)?Me[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(hy(e,n,s,r)&&(n=null),r||s===null?uy(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var fn=ly.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ui=Symbol.for("react.element"),Pr=Symbol.for("react.portal"),Ir=Symbol.for("react.fragment"),Bc=Symbol.for("react.strict_mode"),Sl=Symbol.for("react.profiler"),Nf=Symbol.for("react.provider"),Tf=Symbol.for("react.context"),Wc=Symbol.for("react.forward_ref"),El=Symbol.for("react.suspense"),jl=Symbol.for("react.suspense_list"),Hc=Symbol.for("react.memo"),kn=Symbol.for("react.lazy"),Af=Symbol.for("react.offscreen"),ud=Symbol.iterator;function xs(t){return t===null||typeof t!="object"?null:(t=ud&&t[ud]||t["@@iterator"],typeof t=="function"?t:null)}var pe=Object.assign,Oa;function Rs(t){if(Oa===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Oa=e&&e[1]||""}return`
`+Oa+t}var Ra=!1;function La(t,e){if(!t||Ra)return"";Ra=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Ra=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Rs(t):""}function fy(t){switch(t.tag){case 5:return Rs(t.type);case 16:return Rs("Lazy");case 13:return Rs("Suspense");case 19:return Rs("SuspenseList");case 0:case 2:case 15:return t=La(t.type,!1),t;case 11:return t=La(t.type.render,!1),t;case 1:return t=La(t.type,!0),t;default:return""}}function Nl(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ir:return"Fragment";case Pr:return"Portal";case Sl:return"Profiler";case Bc:return"StrictMode";case El:return"Suspense";case jl:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Tf:return(t.displayName||"Context")+".Consumer";case Nf:return(t._context.displayName||"Context")+".Provider";case Wc:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Hc:return e=t.displayName||null,e!==null?e:Nl(t.type)||"Memo";case kn:e=t._payload,t=t._init;try{return Nl(t(e))}catch{}}return null}function py(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nl(e);case 8:return e===Bc?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Un(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cf(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function my(t){var e=Cf(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zi(t){t._valueTracker||(t._valueTracker=my(t))}function Pf(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Cf(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function So(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Tl(t,e){var n=e.checked;return pe({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function dd(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Un(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function If(t,e){e=e.checked,e!=null&&Fc(t,"checked",e,!1)}function Al(t,e){If(t,e);var n=Un(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Cl(t,e.type,n):e.hasOwnProperty("defaultValue")&&Cl(t,e.type,Un(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hd(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Cl(t,e,n){(e!=="number"||So(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ls=Array.isArray;function Wr(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Un(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Pl(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(T(91));return pe({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fd(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(T(92));if(Ls(n)){if(1<n.length)throw Error(T(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Un(n)}}function Of(t,e){var n=Un(e.value),r=Un(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function pd(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Rf(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Il(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Rf(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fi,Lf=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fi=Fi||document.createElement("div"),Fi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ti(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var zs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gy=["Webkit","ms","Moz","O"];Object.keys(zs).forEach(function(t){gy.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),zs[e]=zs[t]})});function $f(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||zs.hasOwnProperty(t)&&zs[t]?(""+e).trim():e+"px"}function Mf(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=$f(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var yy=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ol(t,e){if(e){if(yy[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(T(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(T(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(T(61))}if(e.style!=null&&typeof e.style!="object")throw Error(T(62))}}function Rl(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ll=null;function qc(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $l=null,Hr=null,qr=null;function md(t){if(t=Si(t)){if(typeof $l!="function")throw Error(T(280));var e=t.stateNode;e&&(e=la(e),$l(t.stateNode,t.type,e))}}function Df(t){Hr?qr?qr.push(t):qr=[t]:Hr=t}function Uf(){if(Hr){var t=Hr,e=qr;if(qr=Hr=null,md(t),e)for(t=0;t<e.length;t++)md(e[t])}}function zf(t,e){return t(e)}function Ff(){}var $a=!1;function Bf(t,e,n){if($a)return t(e,n);$a=!0;try{return zf(t,e,n)}finally{$a=!1,(Hr!==null||qr!==null)&&(Ff(),Uf())}}function ni(t,e){var n=t.stateNode;if(n===null)return null;var r=la(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(T(231,e,typeof n));return n}var Ml=!1;if(cn)try{var ws={};Object.defineProperty(ws,"passive",{get:function(){Ml=!0}}),window.addEventListener("test",ws,ws),window.removeEventListener("test",ws,ws)}catch{Ml=!1}function vy(t,e,n,r,s,i,o,l,c){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(d){this.onError(d)}}var Fs=!1,Eo=null,jo=!1,Dl=null,xy={onError:function(t){Fs=!0,Eo=t}};function wy(t,e,n,r,s,i,o,l,c){Fs=!1,Eo=null,vy.apply(xy,arguments)}function by(t,e,n,r,s,i,o,l,c){if(wy.apply(this,arguments),Fs){if(Fs){var u=Eo;Fs=!1,Eo=null}else throw Error(T(198));jo||(jo=!0,Dl=u)}}function fr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Wf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gd(t){if(fr(t)!==t)throw Error(T(188))}function ky(t){var e=t.alternate;if(!e){if(e=fr(t),e===null)throw Error(T(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return gd(s),t;if(i===r)return gd(s),e;i=i.sibling}throw Error(T(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(T(189))}}if(n.alternate!==r)throw Error(T(190))}if(n.tag!==3)throw Error(T(188));return n.stateNode.current===n?t:e}function Hf(t){return t=ky(t),t!==null?qf(t):null}function qf(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=qf(t);if(e!==null)return e;t=t.sibling}return null}var Gf=ht.unstable_scheduleCallback,yd=ht.unstable_cancelCallback,_y=ht.unstable_shouldYield,Sy=ht.unstable_requestPaint,ye=ht.unstable_now,Ey=ht.unstable_getCurrentPriorityLevel,Gc=ht.unstable_ImmediatePriority,Yf=ht.unstable_UserBlockingPriority,No=ht.unstable_NormalPriority,jy=ht.unstable_LowPriority,Vf=ht.unstable_IdlePriority,sa=null,Ht=null;function Ny(t){if(Ht&&typeof Ht.onCommitFiberRoot=="function")try{Ht.onCommitFiberRoot(sa,t,void 0,(t.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:Cy,Ty=Math.log,Ay=Math.LN2;function Cy(t){return t>>>=0,t===0?32:31-(Ty(t)/Ay|0)|0}var Bi=64,Wi=4194304;function $s(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function To(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=$s(l):(i&=o,i!==0&&(r=$s(i)))}else o=n&~s,o!==0?r=$s(o):i!==0&&(r=$s(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ot(e),s=1<<n,r|=t[n],e&=~s;return r}function Py(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Iy(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Ot(i),l=1<<o,c=s[o];c===-1?(!(l&n)||l&r)&&(s[o]=Py(l,e)):c<=e&&(t.expiredLanes|=l),i&=~l}}function Ul(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Kf(){var t=Bi;return Bi<<=1,!(Bi&4194240)&&(Bi=64),t}function Ma(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ki(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ot(e),t[e]=n}function Oy(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Ot(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Yc(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ot(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var te=0;function Qf(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Jf,Vc,Xf,Zf,ep,zl=!1,Hi=[],Cn=null,Pn=null,In=null,ri=new Map,si=new Map,Sn=[],Ry="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vd(t,e){switch(t){case"focusin":case"focusout":Cn=null;break;case"dragenter":case"dragleave":Pn=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":ri.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":si.delete(e.pointerId)}}function bs(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Si(e),e!==null&&Vc(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Ly(t,e,n,r,s){switch(e){case"focusin":return Cn=bs(Cn,t,e,n,r,s),!0;case"dragenter":return Pn=bs(Pn,t,e,n,r,s),!0;case"mouseover":return In=bs(In,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return ri.set(i,bs(ri.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,si.set(i,bs(si.get(i)||null,t,e,n,r,s)),!0}return!1}function tp(t){var e=tr(t.target);if(e!==null){var n=fr(e);if(n!==null){if(e=n.tag,e===13){if(e=Wf(n),e!==null){t.blockedOn=e,ep(t.priority,function(){Xf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function fo(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Fl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ll=r,n.target.dispatchEvent(r),Ll=null}else return e=Si(n),e!==null&&Vc(e),t.blockedOn=n,!1;e.shift()}return!0}function xd(t,e,n){fo(t)&&n.delete(e)}function $y(){zl=!1,Cn!==null&&fo(Cn)&&(Cn=null),Pn!==null&&fo(Pn)&&(Pn=null),In!==null&&fo(In)&&(In=null),ri.forEach(xd),si.forEach(xd)}function ks(t,e){t.blockedOn===e&&(t.blockedOn=null,zl||(zl=!0,ht.unstable_scheduleCallback(ht.unstable_NormalPriority,$y)))}function ii(t){function e(s){return ks(s,t)}if(0<Hi.length){ks(Hi[0],t);for(var n=1;n<Hi.length;n++){var r=Hi[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Cn!==null&&ks(Cn,t),Pn!==null&&ks(Pn,t),In!==null&&ks(In,t),ri.forEach(e),si.forEach(e),n=0;n<Sn.length;n++)r=Sn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Sn.length&&(n=Sn[0],n.blockedOn===null);)tp(n),n.blockedOn===null&&Sn.shift()}var Gr=fn.ReactCurrentBatchConfig,Ao=!0;function My(t,e,n,r){var s=te,i=Gr.transition;Gr.transition=null;try{te=1,Kc(t,e,n,r)}finally{te=s,Gr.transition=i}}function Dy(t,e,n,r){var s=te,i=Gr.transition;Gr.transition=null;try{te=4,Kc(t,e,n,r)}finally{te=s,Gr.transition=i}}function Kc(t,e,n,r){if(Ao){var s=Fl(t,e,n,r);if(s===null)Ya(t,e,r,Co,n),vd(t,r);else if(Ly(s,t,e,n,r))r.stopPropagation();else if(vd(t,r),e&4&&-1<Ry.indexOf(t)){for(;s!==null;){var i=Si(s);if(i!==null&&Jf(i),i=Fl(t,e,n,r),i===null&&Ya(t,e,r,Co,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Ya(t,e,r,null,n)}}var Co=null;function Fl(t,e,n,r){if(Co=null,t=qc(r),t=tr(t),t!==null)if(e=fr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Wf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Co=t,null}function np(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ey()){case Gc:return 1;case Yf:return 4;case No:case jy:return 16;case Vf:return 536870912;default:return 16}default:return 16}}var Nn=null,Qc=null,po=null;function rp(){if(po)return po;var t,e=Qc,n=e.length,r,s="value"in Nn?Nn.value:Nn.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return po=s.slice(t,1<r?1-r:void 0)}function mo(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qi(){return!0}function wd(){return!1}function pt(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?qi:wd,this.isPropagationStopped=wd,this}return pe(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qi)},persist:function(){},isPersistent:qi}),e}var os={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jc=pt(os),_i=pe({},os,{view:0,detail:0}),Uy=pt(_i),Da,Ua,_s,ia=pe({},_i,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xc,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==_s&&(_s&&t.type==="mousemove"?(Da=t.screenX-_s.screenX,Ua=t.screenY-_s.screenY):Ua=Da=0,_s=t),Da)},movementY:function(t){return"movementY"in t?t.movementY:Ua}}),bd=pt(ia),zy=pe({},ia,{dataTransfer:0}),Fy=pt(zy),By=pe({},_i,{relatedTarget:0}),za=pt(By),Wy=pe({},os,{animationName:0,elapsedTime:0,pseudoElement:0}),Hy=pt(Wy),qy=pe({},os,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gy=pt(qy),Yy=pe({},os,{data:0}),kd=pt(Yy),Vy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ky={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jy(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Qy[t])?!!e[t]:!1}function Xc(){return Jy}var Xy=pe({},_i,{key:function(t){if(t.key){var e=Vy[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=mo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ky[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xc,charCode:function(t){return t.type==="keypress"?mo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?mo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Zy=pt(Xy),ev=pe({},ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_d=pt(ev),tv=pe({},_i,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xc}),nv=pt(tv),rv=pe({},os,{propertyName:0,elapsedTime:0,pseudoElement:0}),sv=pt(rv),iv=pe({},ia,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ov=pt(iv),av=[9,13,27,32],Zc=cn&&"CompositionEvent"in window,Bs=null;cn&&"documentMode"in document&&(Bs=document.documentMode);var lv=cn&&"TextEvent"in window&&!Bs,sp=cn&&(!Zc||Bs&&8<Bs&&11>=Bs),Sd=String.fromCharCode(32),Ed=!1;function ip(t,e){switch(t){case"keyup":return av.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function op(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Or=!1;function cv(t,e){switch(t){case"compositionend":return op(e);case"keypress":return e.which!==32?null:(Ed=!0,Sd);case"textInput":return t=e.data,t===Sd&&Ed?null:t;default:return null}}function uv(t,e){if(Or)return t==="compositionend"||!Zc&&ip(t,e)?(t=rp(),po=Qc=Nn=null,Or=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sp&&e.locale!=="ko"?null:e.data;default:return null}}var dv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jd(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dv[t.type]:e==="textarea"}function ap(t,e,n,r){Df(r),e=Po(e,"onChange"),0<e.length&&(n=new Jc("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ws=null,oi=null;function hv(t){vp(t,0)}function oa(t){var e=$r(t);if(Pf(e))return t}function fv(t,e){if(t==="change")return e}var lp=!1;if(cn){var Fa;if(cn){var Ba="oninput"in document;if(!Ba){var Nd=document.createElement("div");Nd.setAttribute("oninput","return;"),Ba=typeof Nd.oninput=="function"}Fa=Ba}else Fa=!1;lp=Fa&&(!document.documentMode||9<document.documentMode)}function Td(){Ws&&(Ws.detachEvent("onpropertychange",cp),oi=Ws=null)}function cp(t){if(t.propertyName==="value"&&oa(oi)){var e=[];ap(e,oi,t,qc(t)),Bf(hv,e)}}function pv(t,e,n){t==="focusin"?(Td(),Ws=e,oi=n,Ws.attachEvent("onpropertychange",cp)):t==="focusout"&&Td()}function mv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return oa(oi)}function gv(t,e){if(t==="click")return oa(e)}function yv(t,e){if(t==="input"||t==="change")return oa(e)}function vv(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Lt=typeof Object.is=="function"?Object.is:vv;function ai(t,e){if(Lt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!_l.call(e,s)||!Lt(t[s],e[s]))return!1}return!0}function Ad(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Cd(t,e){var n=Ad(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ad(n)}}function up(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?up(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function dp(){for(var t=window,e=So();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=So(t.document)}return e}function eu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function xv(t){var e=dp(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&up(n.ownerDocument.documentElement,n)){if(r!==null&&eu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Cd(n,i);var o=Cd(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var wv=cn&&"documentMode"in document&&11>=document.documentMode,Rr=null,Bl=null,Hs=null,Wl=!1;function Pd(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Wl||Rr==null||Rr!==So(r)||(r=Rr,"selectionStart"in r&&eu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Hs&&ai(Hs,r)||(Hs=r,r=Po(Bl,"onSelect"),0<r.length&&(e=new Jc("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Rr)))}function Gi(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Lr={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionend:Gi("Transition","TransitionEnd")},Wa={},hp={};cn&&(hp=document.createElement("div").style,"AnimationEvent"in window||(delete Lr.animationend.animation,delete Lr.animationiteration.animation,delete Lr.animationstart.animation),"TransitionEvent"in window||delete Lr.transitionend.transition);function aa(t){if(Wa[t])return Wa[t];if(!Lr[t])return t;var e=Lr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in hp)return Wa[t]=e[n];return t}var fp=aa("animationend"),pp=aa("animationiteration"),mp=aa("animationstart"),gp=aa("transitionend"),yp=new Map,Id="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fn(t,e){yp.set(t,e),hr(e,[t])}for(var Ha=0;Ha<Id.length;Ha++){var qa=Id[Ha],bv=qa.toLowerCase(),kv=qa[0].toUpperCase()+qa.slice(1);Fn(bv,"on"+kv)}Fn(fp,"onAnimationEnd");Fn(pp,"onAnimationIteration");Fn(mp,"onAnimationStart");Fn("dblclick","onDoubleClick");Fn("focusin","onFocus");Fn("focusout","onBlur");Fn(gp,"onTransitionEnd");Jr("onMouseEnter",["mouseout","mouseover"]);Jr("onMouseLeave",["mouseout","mouseover"]);Jr("onPointerEnter",["pointerout","pointerover"]);Jr("onPointerLeave",["pointerout","pointerover"]);hr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));hr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));hr("onBeforeInput",["compositionend","keypress","textInput","paste"]);hr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));hr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));hr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ms="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_v=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ms));function Od(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,by(r,e,void 0,t),t.currentTarget=null}function vp(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==i&&s.isPropagationStopped())break e;Od(s,l,u),i=c}else for(o=0;o<r.length;o++){if(l=r[o],c=l.instance,u=l.currentTarget,l=l.listener,c!==i&&s.isPropagationStopped())break e;Od(s,l,u),i=c}}}if(jo)throw t=Dl,jo=!1,Dl=null,t}function ae(t,e){var n=e[Vl];n===void 0&&(n=e[Vl]=new Set);var r=t+"__bubble";n.has(r)||(xp(e,t,2,!1),n.add(r))}function Ga(t,e,n){var r=0;e&&(r|=4),xp(n,t,r,e)}var Yi="_reactListening"+Math.random().toString(36).slice(2);function li(t){if(!t[Yi]){t[Yi]=!0,jf.forEach(function(n){n!=="selectionchange"&&(_v.has(n)||Ga(n,!1,t),Ga(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yi]||(e[Yi]=!0,Ga("selectionchange",!1,e))}}function xp(t,e,n,r){switch(np(e)){case 1:var s=My;break;case 4:s=Dy;break;default:s=Kc}n=s.bind(null,e,n,t),s=void 0,!Ml||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Ya(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;l!==null;){if(o=tr(l),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}l=l.parentNode}}r=r.return}Bf(function(){var u=i,d=qc(n),h=[];e:{var f=yp.get(t);if(f!==void 0){var p=Jc,v=t;switch(t){case"keypress":if(mo(n)===0)break e;case"keydown":case"keyup":p=Zy;break;case"focusin":v="focus",p=za;break;case"focusout":v="blur",p=za;break;case"beforeblur":case"afterblur":p=za;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Fy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=nv;break;case fp:case pp:case mp:p=Hy;break;case gp:p=sv;break;case"scroll":p=Uy;break;case"wheel":p=ov;break;case"copy":case"cut":case"paste":p=Gy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=_d}var x=(e&4)!==0,b=!x&&t==="scroll",y=x?f!==null?f+"Capture":null:f;x=[];for(var m=u,g;m!==null;){g=m;var k=g.stateNode;if(g.tag===5&&k!==null&&(g=k,y!==null&&(k=ni(m,y),k!=null&&x.push(ci(m,k,g)))),b)break;m=m.return}0<x.length&&(f=new p(f,v,null,n,d),h.push({event:f,listeners:x}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&n!==Ll&&(v=n.relatedTarget||n.fromElement)&&(tr(v)||v[un]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=u,v=v?tr(v):null,v!==null&&(b=fr(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(x=bd,k="onMouseLeave",y="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(x=_d,k="onPointerLeave",y="onPointerEnter",m="pointer"),b=p==null?f:$r(p),g=v==null?f:$r(v),f=new x(k,m+"leave",p,n,d),f.target=b,f.relatedTarget=g,k=null,tr(d)===u&&(x=new x(y,m+"enter",v,n,d),x.target=g,x.relatedTarget=b,k=x),b=k,p&&v)t:{for(x=p,y=v,m=0,g=x;g;g=br(g))m++;for(g=0,k=y;k;k=br(k))g++;for(;0<m-g;)x=br(x),m--;for(;0<g-m;)y=br(y),g--;for(;m--;){if(x===y||y!==null&&x===y.alternate)break t;x=br(x),y=br(y)}x=null}else x=null;p!==null&&Rd(h,f,p,x,!1),v!==null&&b!==null&&Rd(h,b,v,x,!0)}}e:{if(f=u?$r(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var S=fv;else if(jd(f))if(lp)S=yv;else{S=mv;var E=pv}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(S=gv);if(S&&(S=S(t,u))){ap(h,S,n,d);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&Cl(f,"number",f.value)}switch(E=u?$r(u):window,t){case"focusin":(jd(E)||E.contentEditable==="true")&&(Rr=E,Bl=u,Hs=null);break;case"focusout":Hs=Bl=Rr=null;break;case"mousedown":Wl=!0;break;case"contextmenu":case"mouseup":case"dragend":Wl=!1,Pd(h,n,d);break;case"selectionchange":if(wv)break;case"keydown":case"keyup":Pd(h,n,d)}var N;if(Zc)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Or?ip(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(sp&&n.locale!=="ko"&&(Or||A!=="onCompositionStart"?A==="onCompositionEnd"&&Or&&(N=rp()):(Nn=d,Qc="value"in Nn?Nn.value:Nn.textContent,Or=!0)),E=Po(u,A),0<E.length&&(A=new kd(A,t,null,n,d),h.push({event:A,listeners:E}),N?A.data=N:(N=op(n),N!==null&&(A.data=N)))),(N=lv?cv(t,n):uv(t,n))&&(u=Po(u,"onBeforeInput"),0<u.length&&(d=new kd("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:u}),d.data=N))}vp(h,e)})}function ci(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Po(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=ni(t,n),i!=null&&r.unshift(ci(t,i,s)),i=ni(t,e),i!=null&&r.push(ci(t,i,s))),t=t.return}return r}function br(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Rd(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,c=l.alternate,u=l.stateNode;if(c!==null&&c===r)break;l.tag===5&&u!==null&&(l=u,s?(c=ni(n,i),c!=null&&o.unshift(ci(n,c,l))):s||(c=ni(n,i),c!=null&&o.push(ci(n,c,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Sv=/\r\n?/g,Ev=/\u0000|\uFFFD/g;function Ld(t){return(typeof t=="string"?t:""+t).replace(Sv,`
`).replace(Ev,"")}function Vi(t,e,n){if(e=Ld(e),Ld(t)!==e&&n)throw Error(T(425))}function Io(){}var Hl=null,ql=null;function Gl(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Yl=typeof setTimeout=="function"?setTimeout:void 0,jv=typeof clearTimeout=="function"?clearTimeout:void 0,$d=typeof Promise=="function"?Promise:void 0,Nv=typeof queueMicrotask=="function"?queueMicrotask:typeof $d<"u"?function(t){return $d.resolve(null).then(t).catch(Tv)}:Yl;function Tv(t){setTimeout(function(){throw t})}function Va(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),ii(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);ii(e)}function On(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Md(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var as=Math.random().toString(36).slice(2),Ft="__reactFiber$"+as,ui="__reactProps$"+as,un="__reactContainer$"+as,Vl="__reactEvents$"+as,Av="__reactListeners$"+as,Cv="__reactHandles$"+as;function tr(t){var e=t[Ft];if(e)return e;for(var n=t.parentNode;n;){if(e=n[un]||n[Ft]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Md(t);t!==null;){if(n=t[Ft])return n;t=Md(t)}return e}t=n,n=t.parentNode}return null}function Si(t){return t=t[Ft]||t[un],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $r(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(T(33))}function la(t){return t[ui]||null}var Kl=[],Mr=-1;function Bn(t){return{current:t}}function le(t){0>Mr||(t.current=Kl[Mr],Kl[Mr]=null,Mr--)}function oe(t,e){Mr++,Kl[Mr]=t.current,t.current=e}var zn={},We=Bn(zn),it=Bn(!1),or=zn;function Xr(t,e){var n=t.type.contextTypes;if(!n)return zn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function ot(t){return t=t.childContextTypes,t!=null}function Oo(){le(it),le(We)}function Dd(t,e,n){if(We.current!==zn)throw Error(T(168));oe(We,e),oe(it,n)}function wp(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(T(108,py(t)||"Unknown",s));return pe({},n,r)}function Ro(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||zn,or=We.current,oe(We,t),oe(it,it.current),!0}function Ud(t,e,n){var r=t.stateNode;if(!r)throw Error(T(169));n?(t=wp(t,e,or),r.__reactInternalMemoizedMergedChildContext=t,le(it),le(We),oe(We,t)):le(it),oe(it,n)}var sn=null,ca=!1,Ka=!1;function bp(t){sn===null?sn=[t]:sn.push(t)}function Pv(t){ca=!0,bp(t)}function Wn(){if(!Ka&&sn!==null){Ka=!0;var t=0,e=te;try{var n=sn;for(te=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}sn=null,ca=!1}catch(s){throw sn!==null&&(sn=sn.slice(t+1)),Gf(Gc,Wn),s}finally{te=e,Ka=!1}}return null}var Dr=[],Ur=0,Lo=null,$o=0,yt=[],vt=0,ar=null,on=1,an="";function Jn(t,e){Dr[Ur++]=$o,Dr[Ur++]=Lo,Lo=t,$o=e}function kp(t,e,n){yt[vt++]=on,yt[vt++]=an,yt[vt++]=ar,ar=t;var r=on;t=an;var s=32-Ot(r)-1;r&=~(1<<s),n+=1;var i=32-Ot(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,on=1<<32-Ot(e)+s|n<<s|r,an=i+t}else on=1<<i|n<<s|r,an=t}function tu(t){t.return!==null&&(Jn(t,1),kp(t,1,0))}function nu(t){for(;t===Lo;)Lo=Dr[--Ur],Dr[Ur]=null,$o=Dr[--Ur],Dr[Ur]=null;for(;t===ar;)ar=yt[--vt],yt[vt]=null,an=yt[--vt],yt[vt]=null,on=yt[--vt],yt[vt]=null}var dt=null,ut=null,ue=!1,It=null;function _p(t,e){var n=xt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function zd(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dt=t,ut=On(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dt=t,ut=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ar!==null?{id:on,overflow:an}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=xt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,dt=t,ut=null,!0):!1;default:return!1}}function Ql(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jl(t){if(ue){var e=ut;if(e){var n=e;if(!zd(t,e)){if(Ql(t))throw Error(T(418));e=On(n.nextSibling);var r=dt;e&&zd(t,e)?_p(r,n):(t.flags=t.flags&-4097|2,ue=!1,dt=t)}}else{if(Ql(t))throw Error(T(418));t.flags=t.flags&-4097|2,ue=!1,dt=t}}}function Fd(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dt=t}function Ki(t){if(t!==dt)return!1;if(!ue)return Fd(t),ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Gl(t.type,t.memoizedProps)),e&&(e=ut)){if(Ql(t))throw Sp(),Error(T(418));for(;e;)_p(t,e),e=On(e.nextSibling)}if(Fd(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(T(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ut=On(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ut=null}}else ut=dt?On(t.stateNode.nextSibling):null;return!0}function Sp(){for(var t=ut;t;)t=On(t.nextSibling)}function Zr(){ut=dt=null,ue=!1}function ru(t){It===null?It=[t]:It.push(t)}var Iv=fn.ReactCurrentBatchConfig;function Ss(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(T(309));var r=n.stateNode}if(!r)throw Error(T(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(T(284));if(!n._owner)throw Error(T(290,t))}return t}function Qi(t,e){throw t=Object.prototype.toString.call(e),Error(T(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Bd(t){var e=t._init;return e(t._payload)}function Ep(t){function e(y,m){if(t){var g=y.deletions;g===null?(y.deletions=[m],y.flags|=16):g.push(m)}}function n(y,m){if(!t)return null;for(;m!==null;)e(y,m),m=m.sibling;return null}function r(y,m){for(y=new Map;m!==null;)m.key!==null?y.set(m.key,m):y.set(m.index,m),m=m.sibling;return y}function s(y,m){return y=Mn(y,m),y.index=0,y.sibling=null,y}function i(y,m,g){return y.index=g,t?(g=y.alternate,g!==null?(g=g.index,g<m?(y.flags|=2,m):g):(y.flags|=2,m)):(y.flags|=1048576,m)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function l(y,m,g,k){return m===null||m.tag!==6?(m=nl(g,y.mode,k),m.return=y,m):(m=s(m,g),m.return=y,m)}function c(y,m,g,k){var S=g.type;return S===Ir?d(y,m,g.props.children,k,g.key):m!==null&&(m.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===kn&&Bd(S)===m.type)?(k=s(m,g.props),k.ref=Ss(y,m,g),k.return=y,k):(k=ko(g.type,g.key,g.props,null,y.mode,k),k.ref=Ss(y,m,g),k.return=y,k)}function u(y,m,g,k){return m===null||m.tag!==4||m.stateNode.containerInfo!==g.containerInfo||m.stateNode.implementation!==g.implementation?(m=rl(g,y.mode,k),m.return=y,m):(m=s(m,g.children||[]),m.return=y,m)}function d(y,m,g,k,S){return m===null||m.tag!==7?(m=ir(g,y.mode,k,S),m.return=y,m):(m=s(m,g),m.return=y,m)}function h(y,m,g){if(typeof m=="string"&&m!==""||typeof m=="number")return m=nl(""+m,y.mode,g),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ui:return g=ko(m.type,m.key,m.props,null,y.mode,g),g.ref=Ss(y,null,m),g.return=y,g;case Pr:return m=rl(m,y.mode,g),m.return=y,m;case kn:var k=m._init;return h(y,k(m._payload),g)}if(Ls(m)||xs(m))return m=ir(m,y.mode,g,null),m.return=y,m;Qi(y,m)}return null}function f(y,m,g,k){var S=m!==null?m.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:l(y,m,""+g,k);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Ui:return g.key===S?c(y,m,g,k):null;case Pr:return g.key===S?u(y,m,g,k):null;case kn:return S=g._init,f(y,m,S(g._payload),k)}if(Ls(g)||xs(g))return S!==null?null:d(y,m,g,k,null);Qi(y,g)}return null}function p(y,m,g,k,S){if(typeof k=="string"&&k!==""||typeof k=="number")return y=y.get(g)||null,l(m,y,""+k,S);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ui:return y=y.get(k.key===null?g:k.key)||null,c(m,y,k,S);case Pr:return y=y.get(k.key===null?g:k.key)||null,u(m,y,k,S);case kn:var E=k._init;return p(y,m,g,E(k._payload),S)}if(Ls(k)||xs(k))return y=y.get(g)||null,d(m,y,k,S,null);Qi(m,k)}return null}function v(y,m,g,k){for(var S=null,E=null,N=m,A=m=0,W=null;N!==null&&A<g.length;A++){N.index>A?(W=N,N=null):W=N.sibling;var F=f(y,N,g[A],k);if(F===null){N===null&&(N=W);break}t&&N&&F.alternate===null&&e(y,N),m=i(F,m,A),E===null?S=F:E.sibling=F,E=F,N=W}if(A===g.length)return n(y,N),ue&&Jn(y,A),S;if(N===null){for(;A<g.length;A++)N=h(y,g[A],k),N!==null&&(m=i(N,m,A),E===null?S=N:E.sibling=N,E=N);return ue&&Jn(y,A),S}for(N=r(y,N);A<g.length;A++)W=p(N,y,A,g[A],k),W!==null&&(t&&W.alternate!==null&&N.delete(W.key===null?A:W.key),m=i(W,m,A),E===null?S=W:E.sibling=W,E=W);return t&&N.forEach(function(H){return e(y,H)}),ue&&Jn(y,A),S}function x(y,m,g,k){var S=xs(g);if(typeof S!="function")throw Error(T(150));if(g=S.call(g),g==null)throw Error(T(151));for(var E=S=null,N=m,A=m=0,W=null,F=g.next();N!==null&&!F.done;A++,F=g.next()){N.index>A?(W=N,N=null):W=N.sibling;var H=f(y,N,F.value,k);if(H===null){N===null&&(N=W);break}t&&N&&H.alternate===null&&e(y,N),m=i(H,m,A),E===null?S=H:E.sibling=H,E=H,N=W}if(F.done)return n(y,N),ue&&Jn(y,A),S;if(N===null){for(;!F.done;A++,F=g.next())F=h(y,F.value,k),F!==null&&(m=i(F,m,A),E===null?S=F:E.sibling=F,E=F);return ue&&Jn(y,A),S}for(N=r(y,N);!F.done;A++,F=g.next())F=p(N,y,A,F.value,k),F!==null&&(t&&F.alternate!==null&&N.delete(F.key===null?A:F.key),m=i(F,m,A),E===null?S=F:E.sibling=F,E=F);return t&&N.forEach(function(Ne){return e(y,Ne)}),ue&&Jn(y,A),S}function b(y,m,g,k){if(typeof g=="object"&&g!==null&&g.type===Ir&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case Ui:e:{for(var S=g.key,E=m;E!==null;){if(E.key===S){if(S=g.type,S===Ir){if(E.tag===7){n(y,E.sibling),m=s(E,g.props.children),m.return=y,y=m;break e}}else if(E.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===kn&&Bd(S)===E.type){n(y,E.sibling),m=s(E,g.props),m.ref=Ss(y,E,g),m.return=y,y=m;break e}n(y,E);break}else e(y,E);E=E.sibling}g.type===Ir?(m=ir(g.props.children,y.mode,k,g.key),m.return=y,y=m):(k=ko(g.type,g.key,g.props,null,y.mode,k),k.ref=Ss(y,m,g),k.return=y,y=k)}return o(y);case Pr:e:{for(E=g.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===g.containerInfo&&m.stateNode.implementation===g.implementation){n(y,m.sibling),m=s(m,g.children||[]),m.return=y,y=m;break e}else{n(y,m);break}else e(y,m);m=m.sibling}m=rl(g,y.mode,k),m.return=y,y=m}return o(y);case kn:return E=g._init,b(y,m,E(g._payload),k)}if(Ls(g))return v(y,m,g,k);if(xs(g))return x(y,m,g,k);Qi(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,m!==null&&m.tag===6?(n(y,m.sibling),m=s(m,g),m.return=y,y=m):(n(y,m),m=nl(g,y.mode,k),m.return=y,y=m),o(y)):n(y,m)}return b}var es=Ep(!0),jp=Ep(!1),Mo=Bn(null),Do=null,zr=null,su=null;function iu(){su=zr=Do=null}function ou(t){var e=Mo.current;le(Mo),t._currentValue=e}function Xl(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Yr(t,e){Do=t,su=zr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(st=!0),t.firstContext=null)}function kt(t){var e=t._currentValue;if(su!==t)if(t={context:t,memoizedValue:e,next:null},zr===null){if(Do===null)throw Error(T(308));zr=t,Do.dependencies={lanes:0,firstContext:t}}else zr=zr.next=t;return e}var nr=null;function au(t){nr===null?nr=[t]:nr.push(t)}function Np(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,au(e)):(n.next=s.next,s.next=n),e.interleaved=n,dn(t,r)}function dn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var _n=!1;function lu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tp(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ln(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Rn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,X&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,dn(t,n)}return s=r.interleaved,s===null?(e.next=e,au(r)):(e.next=s.next,s.next=e),r.interleaved=e,dn(t,n)}function go(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yc(t,n)}}function Wd(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Uo(t,e,n,r){var s=t.updateQueue;_n=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,o===null?i=u:o.next=u,o=c;var d=t.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==o&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(i!==null){var h=s.baseState;o=0,d=u=c=null,l=i;do{var f=l.lane,p=l.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=t,x=l;switch(f=e,p=n,x.tag){case 1:if(v=x.payload,typeof v=="function"){h=v.call(p,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=x.payload,f=typeof v=="function"?v.call(p,h,f):v,f==null)break e;h=pe({},h,f);break e;case 2:_n=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[l]:f.push(l))}else p={eventTime:p,lane:f,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=h):d=d.next=p,o|=f;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;f=l,l=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(d===null&&(c=h),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);cr|=o,t.lanes=o,t.memoizedState=h}}function Hd(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(T(191,s));s.call(r)}}}var Ei={},qt=Bn(Ei),di=Bn(Ei),hi=Bn(Ei);function rr(t){if(t===Ei)throw Error(T(174));return t}function cu(t,e){switch(oe(hi,e),oe(di,t),oe(qt,Ei),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Il(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Il(e,t)}le(qt),oe(qt,e)}function ts(){le(qt),le(di),le(hi)}function Ap(t){rr(hi.current);var e=rr(qt.current),n=Il(e,t.type);e!==n&&(oe(di,t),oe(qt,n))}function uu(t){di.current===t&&(le(qt),le(di))}var de=Bn(0);function zo(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Qa=[];function du(){for(var t=0;t<Qa.length;t++)Qa[t]._workInProgressVersionPrimary=null;Qa.length=0}var yo=fn.ReactCurrentDispatcher,Ja=fn.ReactCurrentBatchConfig,lr=0,fe=null,Ee=null,Pe=null,Fo=!1,qs=!1,fi=0,Ov=0;function ze(){throw Error(T(321))}function hu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Lt(t[n],e[n]))return!1;return!0}function fu(t,e,n,r,s,i){if(lr=i,fe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yo.current=t===null||t.memoizedState===null?Mv:Dv,t=n(r,s),qs){i=0;do{if(qs=!1,fi=0,25<=i)throw Error(T(301));i+=1,Pe=Ee=null,e.updateQueue=null,yo.current=Uv,t=n(r,s)}while(qs)}if(yo.current=Bo,e=Ee!==null&&Ee.next!==null,lr=0,Pe=Ee=fe=null,Fo=!1,e)throw Error(T(300));return t}function pu(){var t=fi!==0;return fi=0,t}function Ut(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pe===null?fe.memoizedState=Pe=t:Pe=Pe.next=t,Pe}function _t(){if(Ee===null){var t=fe.alternate;t=t!==null?t.memoizedState:null}else t=Ee.next;var e=Pe===null?fe.memoizedState:Pe.next;if(e!==null)Pe=e,Ee=t;else{if(t===null)throw Error(T(310));Ee=t,t={memoizedState:Ee.memoizedState,baseState:Ee.baseState,baseQueue:Ee.baseQueue,queue:Ee.queue,next:null},Pe===null?fe.memoizedState=Pe=t:Pe=Pe.next=t}return Pe}function pi(t,e){return typeof e=="function"?e(t):e}function Xa(t){var e=_t(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=Ee,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,c=null,u=i;do{var d=u.lane;if((lr&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=h,o=r):c=c.next=h,fe.lanes|=d,cr|=d}u=u.next}while(u!==null&&u!==i);c===null?o=r:c.next=l,Lt(r,e.memoizedState)||(st=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,fe.lanes|=i,cr|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Za(t){var e=_t(),n=e.queue;if(n===null)throw Error(T(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Lt(i,e.memoizedState)||(st=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Cp(){}function Pp(t,e){var n=fe,r=_t(),s=e(),i=!Lt(r.memoizedState,s);if(i&&(r.memoizedState=s,st=!0),r=r.queue,mu(Rp.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Pe!==null&&Pe.memoizedState.tag&1){if(n.flags|=2048,mi(9,Op.bind(null,n,r,s,e),void 0,null),Ie===null)throw Error(T(349));lr&30||Ip(n,e,s)}return s}function Ip(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=fe.updateQueue,e===null?(e={lastEffect:null,stores:null},fe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Op(t,e,n,r){e.value=n,e.getSnapshot=r,Lp(e)&&$p(t)}function Rp(t,e,n){return n(function(){Lp(e)&&$p(t)})}function Lp(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Lt(t,n)}catch{return!0}}function $p(t){var e=dn(t,1);e!==null&&Rt(e,t,1,-1)}function qd(t){var e=Ut();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pi,lastRenderedState:t},e.queue=t,t=t.dispatch=$v.bind(null,fe,t),[e.memoizedState,t]}function mi(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=fe.updateQueue,e===null?(e={lastEffect:null,stores:null},fe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Mp(){return _t().memoizedState}function vo(t,e,n,r){var s=Ut();fe.flags|=t,s.memoizedState=mi(1|e,n,void 0,r===void 0?null:r)}function ua(t,e,n,r){var s=_t();r=r===void 0?null:r;var i=void 0;if(Ee!==null){var o=Ee.memoizedState;if(i=o.destroy,r!==null&&hu(r,o.deps)){s.memoizedState=mi(e,n,i,r);return}}fe.flags|=t,s.memoizedState=mi(1|e,n,i,r)}function Gd(t,e){return vo(8390656,8,t,e)}function mu(t,e){return ua(2048,8,t,e)}function Dp(t,e){return ua(4,2,t,e)}function Up(t,e){return ua(4,4,t,e)}function zp(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Fp(t,e,n){return n=n!=null?n.concat([t]):null,ua(4,4,zp.bind(null,e,t),n)}function gu(){}function Bp(t,e){var n=_t();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Wp(t,e){var n=_t();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&hu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Hp(t,e,n){return lr&21?(Lt(n,e)||(n=Kf(),fe.lanes|=n,cr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,st=!0),t.memoizedState=n)}function Rv(t,e){var n=te;te=n!==0&&4>n?n:4,t(!0);var r=Ja.transition;Ja.transition={};try{t(!1),e()}finally{te=n,Ja.transition=r}}function qp(){return _t().memoizedState}function Lv(t,e,n){var r=$n(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Gp(t))Yp(e,n);else if(n=Np(t,e,n,r),n!==null){var s=Ve();Rt(n,t,r,s),Vp(n,e,r)}}function $v(t,e,n){var r=$n(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gp(t))Yp(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,Lt(l,o)){var c=e.interleaved;c===null?(s.next=s,au(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=Np(t,e,s,r),n!==null&&(s=Ve(),Rt(n,t,r,s),Vp(n,e,r))}}function Gp(t){var e=t.alternate;return t===fe||e!==null&&e===fe}function Yp(t,e){qs=Fo=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Vp(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Yc(t,n)}}var Bo={readContext:kt,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},Mv={readContext:kt,useCallback:function(t,e){return Ut().memoizedState=[t,e===void 0?null:e],t},useContext:kt,useEffect:Gd,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,vo(4194308,4,zp.bind(null,e,t),n)},useLayoutEffect:function(t,e){return vo(4194308,4,t,e)},useInsertionEffect:function(t,e){return vo(4,2,t,e)},useMemo:function(t,e){var n=Ut();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ut();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Lv.bind(null,fe,t),[r.memoizedState,t]},useRef:function(t){var e=Ut();return t={current:t},e.memoizedState=t},useState:qd,useDebugValue:gu,useDeferredValue:function(t){return Ut().memoizedState=t},useTransition:function(){var t=qd(!1),e=t[0];return t=Rv.bind(null,t[1]),Ut().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=fe,s=Ut();if(ue){if(n===void 0)throw Error(T(407));n=n()}else{if(n=e(),Ie===null)throw Error(T(349));lr&30||Ip(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Gd(Rp.bind(null,r,i,t),[t]),r.flags|=2048,mi(9,Op.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Ut(),e=Ie.identifierPrefix;if(ue){var n=an,r=on;n=(r&~(1<<32-Ot(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=fi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Ov++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Dv={readContext:kt,useCallback:Bp,useContext:kt,useEffect:mu,useImperativeHandle:Fp,useInsertionEffect:Dp,useLayoutEffect:Up,useMemo:Wp,useReducer:Xa,useRef:Mp,useState:function(){return Xa(pi)},useDebugValue:gu,useDeferredValue:function(t){var e=_t();return Hp(e,Ee.memoizedState,t)},useTransition:function(){var t=Xa(pi)[0],e=_t().memoizedState;return[t,e]},useMutableSource:Cp,useSyncExternalStore:Pp,useId:qp,unstable_isNewReconciler:!1},Uv={readContext:kt,useCallback:Bp,useContext:kt,useEffect:mu,useImperativeHandle:Fp,useInsertionEffect:Dp,useLayoutEffect:Up,useMemo:Wp,useReducer:Za,useRef:Mp,useState:function(){return Za(pi)},useDebugValue:gu,useDeferredValue:function(t){var e=_t();return Ee===null?e.memoizedState=t:Hp(e,Ee.memoizedState,t)},useTransition:function(){var t=Za(pi)[0],e=_t().memoizedState;return[t,e]},useMutableSource:Cp,useSyncExternalStore:Pp,useId:qp,unstable_isNewReconciler:!1};function At(t,e){if(t&&t.defaultProps){e=pe({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Zl(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:pe({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var da={isMounted:function(t){return(t=t._reactInternals)?fr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ve(),s=$n(t),i=ln(r,s);i.payload=e,n!=null&&(i.callback=n),e=Rn(t,i,s),e!==null&&(Rt(e,t,s,r),go(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ve(),s=$n(t),i=ln(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Rn(t,i,s),e!==null&&(Rt(e,t,s,r),go(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ve(),r=$n(t),s=ln(n,r);s.tag=2,e!=null&&(s.callback=e),e=Rn(t,s,r),e!==null&&(Rt(e,t,r,n),go(e,t,r))}};function Yd(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!ai(n,r)||!ai(s,i):!0}function Kp(t,e,n){var r=!1,s=zn,i=e.contextType;return typeof i=="object"&&i!==null?i=kt(i):(s=ot(e)?or:We.current,r=e.contextTypes,i=(r=r!=null)?Xr(t,s):zn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=da,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Vd(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&da.enqueueReplaceState(e,e.state,null)}function ec(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},lu(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=kt(i):(i=ot(e)?or:We.current,s.context=Xr(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Zl(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&da.enqueueReplaceState(s,s.state,null),Uo(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ns(t,e){try{var n="",r=e;do n+=fy(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function el(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function tc(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var zv=typeof WeakMap=="function"?WeakMap:Map;function Qp(t,e,n){n=ln(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Ho||(Ho=!0,dc=r),tc(t,e)},n}function Jp(t,e,n){n=ln(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){tc(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){tc(t,e),typeof r!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Kd(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new zv;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=e0.bind(null,t,e,n),e.then(t,t))}function Qd(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Jd(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ln(-1,1),e.tag=2,Rn(n,e,1))),n.lanes|=1),t)}var Fv=fn.ReactCurrentOwner,st=!1;function Ye(t,e,n,r){e.child=t===null?jp(e,null,n,r):es(e,t.child,n,r)}function Xd(t,e,n,r,s){n=n.render;var i=e.ref;return Yr(e,s),r=fu(t,e,n,r,i,s),n=pu(),t!==null&&!st?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,hn(t,e,s)):(ue&&n&&tu(e),e.flags|=1,Ye(t,e,r,s),e.child)}function Zd(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Su(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,Xp(t,e,i,r,s)):(t=ko(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:ai,n(o,r)&&t.ref===e.ref)return hn(t,e,s)}return e.flags|=1,t=Mn(i,r),t.ref=e.ref,t.return=e,e.child=t}function Xp(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(ai(i,r)&&t.ref===e.ref)if(st=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(st=!0);else return e.lanes=t.lanes,hn(t,e,s)}return nc(t,e,n,r,s)}function Zp(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(Br,lt),lt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,oe(Br,lt),lt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,oe(Br,lt),lt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,oe(Br,lt),lt|=r;return Ye(t,e,s,n),e.child}function em(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function nc(t,e,n,r,s){var i=ot(n)?or:We.current;return i=Xr(e,i),Yr(e,s),n=fu(t,e,n,r,i,s),r=pu(),t!==null&&!st?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,hn(t,e,s)):(ue&&r&&tu(e),e.flags|=1,Ye(t,e,n,s),e.child)}function eh(t,e,n,r,s){if(ot(n)){var i=!0;Ro(e)}else i=!1;if(Yr(e,s),e.stateNode===null)xo(t,e),Kp(e,n,r),ec(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=kt(u):(u=ot(n)?or:We.current,u=Xr(e,u));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||c!==u)&&Vd(e,o,r,u),_n=!1;var f=e.memoizedState;o.state=f,Uo(e,r,o,s),c=e.memoizedState,l!==r||f!==c||it.current||_n?(typeof d=="function"&&(Zl(e,n,d,r),c=e.memoizedState),(l=_n||Yd(e,n,l,r,f,c,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=u,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Tp(t,e),l=e.memoizedProps,u=e.type===e.elementType?l:At(e.type,l),o.props=u,h=e.pendingProps,f=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=kt(c):(c=ot(n)?or:We.current,c=Xr(e,c));var p=n.getDerivedStateFromProps;(d=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==h||f!==c)&&Vd(e,o,r,c),_n=!1,f=e.memoizedState,o.state=f,Uo(e,r,o,s);var v=e.memoizedState;l!==h||f!==v||it.current||_n?(typeof p=="function"&&(Zl(e,n,p,r),v=e.memoizedState),(u=_n||Yd(e,n,u,r,f,v,c)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,v,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,v,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),o.props=r,o.state=v,o.context=c,r=u):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return rc(t,e,n,r,i,s)}function rc(t,e,n,r,s,i){em(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Ud(e,n,!1),hn(t,e,i);r=e.stateNode,Fv.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=es(e,t.child,null,i),e.child=es(e,null,l,i)):Ye(t,e,l,i),e.memoizedState=r.state,s&&Ud(e,n,!0),e.child}function tm(t){var e=t.stateNode;e.pendingContext?Dd(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Dd(t,e.context,!1),cu(t,e.containerInfo)}function th(t,e,n,r,s){return Zr(),ru(s),e.flags|=256,Ye(t,e,n,r),e.child}var sc={dehydrated:null,treeContext:null,retryLane:0};function ic(t){return{baseLanes:t,cachePool:null,transitions:null}}function nm(t,e,n){var r=e.pendingProps,s=de.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),oe(de,s&1),t===null)return Jl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=pa(o,r,0,null),t=ir(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=ic(n),e.memoizedState=sc,t):yu(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return Bv(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=Mn(s,c),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=Mn(l,i):(i=ir(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?ic(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=sc,r}return i=t.child,t=i.sibling,r=Mn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function yu(t,e){return e=pa({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ji(t,e,n,r){return r!==null&&ru(r),es(e,t.child,null,n),t=yu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Bv(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=el(Error(T(422))),Ji(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=pa({mode:"visible",children:r.children},s,0,null),i=ir(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&es(e,t.child,null,o),e.child.memoizedState=ic(o),e.memoizedState=sc,i);if(!(e.mode&1))return Ji(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(T(419)),r=el(i,r,void 0),Ji(t,e,o,r)}if(l=(o&t.childLanes)!==0,st||l){if(r=Ie,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,dn(t,s),Rt(r,t,s,-1))}return _u(),r=el(Error(T(421))),Ji(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=t0.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,ut=On(s.nextSibling),dt=e,ue=!0,It=null,t!==null&&(yt[vt++]=on,yt[vt++]=an,yt[vt++]=ar,on=t.id,an=t.overflow,ar=e),e=yu(e,r.children),e.flags|=4096,e)}function nh(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xl(t.return,e,n)}function tl(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function rm(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Ye(t,e,r.children,n),r=de.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&nh(t,n,e);else if(t.tag===19)nh(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(oe(de,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&zo(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),tl(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&zo(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}tl(e,!0,n,null,i);break;case"together":tl(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function xo(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function hn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),cr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(T(153));if(e.child!==null){for(t=e.child,n=Mn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Mn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Wv(t,e,n){switch(e.tag){case 3:tm(e),Zr();break;case 5:Ap(e);break;case 1:ot(e.type)&&Ro(e);break;case 4:cu(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;oe(Mo,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(oe(de,de.current&1),e.flags|=128,null):n&e.child.childLanes?nm(t,e,n):(oe(de,de.current&1),t=hn(t,e,n),t!==null?t.sibling:null);oe(de,de.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return rm(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),oe(de,de.current),r)break;return null;case 22:case 23:return e.lanes=0,Zp(t,e,n)}return hn(t,e,n)}var sm,oc,im,om;sm=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};oc=function(){};im=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,rr(qt.current);var i=null;switch(n){case"input":s=Tl(t,s),r=Tl(t,r),i=[];break;case"select":s=pe({},s,{value:void 0}),r=pe({},r,{value:void 0}),i=[];break;case"textarea":s=Pl(t,s),r=Pl(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Io)}Ol(n,r);var o;n=null;for(u in s)if(!r.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ei.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(l=s!=null?s[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(i=i||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ei.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ae("scroll",t),i||l===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};om=function(t,e,n,r){n!==r&&(e.flags|=4)};function Es(t,e){if(!ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Fe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Hv(t,e,n){var r=e.pendingProps;switch(nu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Fe(e),null;case 1:return ot(e.type)&&Oo(),Fe(e),null;case 3:return r=e.stateNode,ts(),le(it),le(We),du(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ki(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,It!==null&&(pc(It),It=null))),oc(t,e),Fe(e),null;case 5:uu(e);var s=rr(hi.current);if(n=e.type,t!==null&&e.stateNode!=null)im(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(T(166));return Fe(e),null}if(t=rr(qt.current),Ki(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Ft]=e,r[ui]=i,t=(e.mode&1)!==0,n){case"dialog":ae("cancel",r),ae("close",r);break;case"iframe":case"object":case"embed":ae("load",r);break;case"video":case"audio":for(s=0;s<Ms.length;s++)ae(Ms[s],r);break;case"source":ae("error",r);break;case"img":case"image":case"link":ae("error",r),ae("load",r);break;case"details":ae("toggle",r);break;case"input":dd(r,i),ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ae("invalid",r);break;case"textarea":fd(r,i),ae("invalid",r)}Ol(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&Vi(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&Vi(r.textContent,l,t),s=["children",""+l]):ei.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ae("scroll",r)}switch(n){case"input":zi(r),hd(r,i,!0);break;case"textarea":zi(r),pd(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Io)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Rf(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ft]=e,t[ui]=r,sm(t,e,!1,!1),e.stateNode=t;e:{switch(o=Rl(n,r),n){case"dialog":ae("cancel",t),ae("close",t),s=r;break;case"iframe":case"object":case"embed":ae("load",t),s=r;break;case"video":case"audio":for(s=0;s<Ms.length;s++)ae(Ms[s],t);s=r;break;case"source":ae("error",t),s=r;break;case"img":case"image":case"link":ae("error",t),ae("load",t),s=r;break;case"details":ae("toggle",t),s=r;break;case"input":dd(t,r),s=Tl(t,r),ae("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=pe({},r,{value:void 0}),ae("invalid",t);break;case"textarea":fd(t,r),s=Pl(t,r),ae("invalid",t);break;default:s=r}Ol(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var c=l[i];i==="style"?Mf(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Lf(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&ti(t,c):typeof c=="number"&&ti(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(ei.hasOwnProperty(i)?c!=null&&i==="onScroll"&&ae("scroll",t):c!=null&&Fc(t,i,c,o))}switch(n){case"input":zi(t),hd(t,r,!1);break;case"textarea":zi(t),pd(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Un(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Wr(t,!!r.multiple,i,!1):r.defaultValue!=null&&Wr(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Io)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Fe(e),null;case 6:if(t&&e.stateNode!=null)om(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(T(166));if(n=rr(hi.current),rr(qt.current),Ki(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ft]=e,(i=r.nodeValue!==n)&&(t=dt,t!==null))switch(t.tag){case 3:Vi(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Vi(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ft]=e,e.stateNode=r}return Fe(e),null;case 13:if(le(de),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ue&&ut!==null&&e.mode&1&&!(e.flags&128))Sp(),Zr(),e.flags|=98560,i=!1;else if(i=Ki(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(T(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(T(317));i[Ft]=e}else Zr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Fe(e),i=!1}else It!==null&&(pc(It),It=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||de.current&1?je===0&&(je=3):_u())),e.updateQueue!==null&&(e.flags|=4),Fe(e),null);case 4:return ts(),oc(t,e),t===null&&li(e.stateNode.containerInfo),Fe(e),null;case 10:return ou(e.type._context),Fe(e),null;case 17:return ot(e.type)&&Oo(),Fe(e),null;case 19:if(le(de),i=e.memoizedState,i===null)return Fe(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)Es(i,!1);else{if(je!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=zo(t),o!==null){for(e.flags|=128,Es(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return oe(de,de.current&1|2),e.child}t=t.sibling}i.tail!==null&&ye()>rs&&(e.flags|=128,r=!0,Es(i,!1),e.lanes=4194304)}else{if(!r)if(t=zo(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Es(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!ue)return Fe(e),null}else 2*ye()-i.renderingStartTime>rs&&n!==1073741824&&(e.flags|=128,r=!0,Es(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ye(),e.sibling=null,n=de.current,oe(de,r?n&1|2:n&1),e):(Fe(e),null);case 22:case 23:return ku(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?lt&1073741824&&(Fe(e),e.subtreeFlags&6&&(e.flags|=8192)):Fe(e),null;case 24:return null;case 25:return null}throw Error(T(156,e.tag))}function qv(t,e){switch(nu(e),e.tag){case 1:return ot(e.type)&&Oo(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ts(),le(it),le(We),du(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return uu(e),null;case 13:if(le(de),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(T(340));Zr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return le(de),null;case 4:return ts(),null;case 10:return ou(e.type._context),null;case 22:case 23:return ku(),null;case 24:return null;default:return null}}var Xi=!1,Be=!1,Gv=typeof WeakSet=="function"?WeakSet:Set,O=null;function Fr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){me(t,e,r)}else n.current=null}function ac(t,e,n){try{n()}catch(r){me(t,e,r)}}var rh=!1;function Yv(t,e){if(Hl=Ao,t=dp(),eu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==n||s!==0&&h.nodeType!==3||(l=o+s),h!==i||r!==0&&h.nodeType!==3||(c=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===n&&++u===s&&(l=o),f===i&&++d===r&&(c=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}n=l===-1||c===-1?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ql={focusedElem:t,selectionRange:n},Ao=!1,O=e;O!==null;)if(e=O,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,O=t;else for(;O!==null;){e=O;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var x=v.memoizedProps,b=v.memoizedState,y=e.stateNode,m=y.getSnapshotBeforeUpdate(e.elementType===e.type?x:At(e.type,x),b);y.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(T(163))}}catch(k){me(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,O=t;break}O=e.return}return v=rh,rh=!1,v}function Gs(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ac(e,n,i)}s=s.next}while(s!==r)}}function ha(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function lc(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function am(t){var e=t.alternate;e!==null&&(t.alternate=null,am(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ft],delete e[ui],delete e[Vl],delete e[Av],delete e[Cv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lm(t){return t.tag===5||t.tag===3||t.tag===4}function sh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lm(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Io));else if(r!==4&&(t=t.child,t!==null))for(cc(t,e,n),t=t.sibling;t!==null;)cc(t,e,n),t=t.sibling}function uc(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(uc(t,e,n),t=t.sibling;t!==null;)uc(t,e,n),t=t.sibling}var Le=null,Ct=!1;function vn(t,e,n){for(n=n.child;n!==null;)cm(t,e,n),n=n.sibling}function cm(t,e,n){if(Ht&&typeof Ht.onCommitFiberUnmount=="function")try{Ht.onCommitFiberUnmount(sa,n)}catch{}switch(n.tag){case 5:Be||Fr(n,e);case 6:var r=Le,s=Ct;Le=null,vn(t,e,n),Le=r,Ct=s,Le!==null&&(Ct?(t=Le,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Le.removeChild(n.stateNode));break;case 18:Le!==null&&(Ct?(t=Le,n=n.stateNode,t.nodeType===8?Va(t.parentNode,n):t.nodeType===1&&Va(t,n),ii(t)):Va(Le,n.stateNode));break;case 4:r=Le,s=Ct,Le=n.stateNode.containerInfo,Ct=!0,vn(t,e,n),Le=r,Ct=s;break;case 0:case 11:case 14:case 15:if(!Be&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ac(n,e,o),s=s.next}while(s!==r)}vn(t,e,n);break;case 1:if(!Be&&(Fr(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){me(n,e,l)}vn(t,e,n);break;case 21:vn(t,e,n);break;case 22:n.mode&1?(Be=(r=Be)||n.memoizedState!==null,vn(t,e,n),Be=r):vn(t,e,n);break;default:vn(t,e,n)}}function ih(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Gv),e.forEach(function(r){var s=n0.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function jt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:Le=l.stateNode,Ct=!1;break e;case 3:Le=l.stateNode.containerInfo,Ct=!0;break e;case 4:Le=l.stateNode.containerInfo,Ct=!0;break e}l=l.return}if(Le===null)throw Error(T(160));cm(i,o,s),Le=null,Ct=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){me(s,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)um(e,t),e=e.sibling}function um(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(jt(e,t),Mt(t),r&4){try{Gs(3,t,t.return),ha(3,t)}catch(x){me(t,t.return,x)}try{Gs(5,t,t.return)}catch(x){me(t,t.return,x)}}break;case 1:jt(e,t),Mt(t),r&512&&n!==null&&Fr(n,n.return);break;case 5:if(jt(e,t),Mt(t),r&512&&n!==null&&Fr(n,n.return),t.flags&32){var s=t.stateNode;try{ti(s,"")}catch(x){me(t,t.return,x)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&If(s,i),Rl(l,o);var u=Rl(l,i);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];d==="style"?Mf(s,h):d==="dangerouslySetInnerHTML"?Lf(s,h):d==="children"?ti(s,h):Fc(s,d,h,u)}switch(l){case"input":Al(s,i);break;case"textarea":Of(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?Wr(s,!!i.multiple,p,!1):f!==!!i.multiple&&(i.defaultValue!=null?Wr(s,!!i.multiple,i.defaultValue,!0):Wr(s,!!i.multiple,i.multiple?[]:"",!1))}s[ui]=i}catch(x){me(t,t.return,x)}}break;case 6:if(jt(e,t),Mt(t),r&4){if(t.stateNode===null)throw Error(T(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(x){me(t,t.return,x)}}break;case 3:if(jt(e,t),Mt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ii(e.containerInfo)}catch(x){me(t,t.return,x)}break;case 4:jt(e,t),Mt(t);break;case 13:jt(e,t),Mt(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(wu=ye())),r&4&&ih(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Be=(u=Be)||d,jt(e,t),Be=u):jt(e,t),Mt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(O=t,d=t.child;d!==null;){for(h=O=d;O!==null;){switch(f=O,p=f.child,f.tag){case 0:case 11:case 14:case 15:Gs(4,f,f.return);break;case 1:Fr(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(x){me(r,n,x)}}break;case 5:Fr(f,f.return);break;case 22:if(f.memoizedState!==null){ah(h);continue}}p!==null?(p.return=f,O=p):ah(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,u?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=h.stateNode,c=h.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=$f("display",o))}catch(x){me(t,t.return,x)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){me(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:jt(e,t),Mt(t),r&4&&ih(t);break;case 21:break;default:jt(e,t),Mt(t)}}function Mt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(lm(n)){var r=n;break e}n=n.return}throw Error(T(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(ti(s,""),r.flags&=-33);var i=sh(t);uc(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=sh(t);cc(t,l,o);break;default:throw Error(T(161))}}catch(c){me(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Vv(t,e,n){O=t,dm(t)}function dm(t,e,n){for(var r=(t.mode&1)!==0;O!==null;){var s=O,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Xi;if(!o){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Be;l=Xi;var u=Be;if(Xi=o,(Be=c)&&!u)for(O=s;O!==null;)o=O,c=o.child,o.tag===22&&o.memoizedState!==null?lh(s):c!==null?(c.return=o,O=c):lh(s);for(;i!==null;)O=i,dm(i),i=i.sibling;O=s,Xi=l,Be=u}oh(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,O=i):oh(t)}}function oh(t){for(;O!==null;){var e=O;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Be||ha(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Be)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:At(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Hd(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Hd(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&ii(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(T(163))}Be||e.flags&512&&lc(e)}catch(f){me(e,e.return,f)}}if(e===t){O=null;break}if(n=e.sibling,n!==null){n.return=e.return,O=n;break}O=e.return}}function ah(t){for(;O!==null;){var e=O;if(e===t){O=null;break}var n=e.sibling;if(n!==null){n.return=e.return,O=n;break}O=e.return}}function lh(t){for(;O!==null;){var e=O;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{ha(4,e)}catch(c){me(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){me(e,s,c)}}var i=e.return;try{lc(e)}catch(c){me(e,i,c)}break;case 5:var o=e.return;try{lc(e)}catch(c){me(e,o,c)}}}catch(c){me(e,e.return,c)}if(e===t){O=null;break}var l=e.sibling;if(l!==null){l.return=e.return,O=l;break}O=e.return}}var Kv=Math.ceil,Wo=fn.ReactCurrentDispatcher,vu=fn.ReactCurrentOwner,wt=fn.ReactCurrentBatchConfig,X=0,Ie=null,be=null,$e=0,lt=0,Br=Bn(0),je=0,gi=null,cr=0,fa=0,xu=0,Ys=null,nt=null,wu=0,rs=1/0,nn=null,Ho=!1,dc=null,Ln=null,Zi=!1,Tn=null,qo=0,Vs=0,hc=null,wo=-1,bo=0;function Ve(){return X&6?ye():wo!==-1?wo:wo=ye()}function $n(t){return t.mode&1?X&2&&$e!==0?$e&-$e:Iv.transition!==null?(bo===0&&(bo=Kf()),bo):(t=te,t!==0||(t=window.event,t=t===void 0?16:np(t.type)),t):1}function Rt(t,e,n,r){if(50<Vs)throw Vs=0,hc=null,Error(T(185));ki(t,n,r),(!(X&2)||t!==Ie)&&(t===Ie&&(!(X&2)&&(fa|=n),je===4&&En(t,$e)),at(t,r),n===1&&X===0&&!(e.mode&1)&&(rs=ye()+500,ca&&Wn()))}function at(t,e){var n=t.callbackNode;Iy(t,e);var r=To(t,t===Ie?$e:0);if(r===0)n!==null&&yd(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&yd(n),e===1)t.tag===0?Pv(ch.bind(null,t)):bp(ch.bind(null,t)),Nv(function(){!(X&6)&&Wn()}),n=null;else{switch(Qf(r)){case 1:n=Gc;break;case 4:n=Yf;break;case 16:n=No;break;case 536870912:n=Vf;break;default:n=No}n=xm(n,hm.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function hm(t,e){if(wo=-1,bo=0,X&6)throw Error(T(327));var n=t.callbackNode;if(Vr()&&t.callbackNode!==n)return null;var r=To(t,t===Ie?$e:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Go(t,r);else{e=r;var s=X;X|=2;var i=pm();(Ie!==t||$e!==e)&&(nn=null,rs=ye()+500,sr(t,e));do try{Xv();break}catch(l){fm(t,l)}while(1);iu(),Wo.current=i,X=s,be!==null?e=0:(Ie=null,$e=0,e=je)}if(e!==0){if(e===2&&(s=Ul(t),s!==0&&(r=s,e=fc(t,s))),e===1)throw n=gi,sr(t,0),En(t,r),at(t,ye()),n;if(e===6)En(t,r);else{if(s=t.current.alternate,!(r&30)&&!Qv(s)&&(e=Go(t,r),e===2&&(i=Ul(t),i!==0&&(r=i,e=fc(t,i))),e===1))throw n=gi,sr(t,0),En(t,r),at(t,ye()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(T(345));case 2:Xn(t,nt,nn);break;case 3:if(En(t,r),(r&130023424)===r&&(e=wu+500-ye(),10<e)){if(To(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Ve(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Yl(Xn.bind(null,t,nt,nn),e);break}Xn(t,nt,nn);break;case 4:if(En(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Ot(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ye()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Kv(r/1960))-r,10<r){t.timeoutHandle=Yl(Xn.bind(null,t,nt,nn),r);break}Xn(t,nt,nn);break;case 5:Xn(t,nt,nn);break;default:throw Error(T(329))}}}return at(t,ye()),t.callbackNode===n?hm.bind(null,t):null}function fc(t,e){var n=Ys;return t.current.memoizedState.isDehydrated&&(sr(t,e).flags|=256),t=Go(t,e),t!==2&&(e=nt,nt=n,e!==null&&pc(e)),t}function pc(t){nt===null?nt=t:nt.push.apply(nt,t)}function Qv(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Lt(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function En(t,e){for(e&=~xu,e&=~fa,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ot(e),r=1<<n;t[n]=-1,e&=~r}}function ch(t){if(X&6)throw Error(T(327));Vr();var e=To(t,0);if(!(e&1))return at(t,ye()),null;var n=Go(t,e);if(t.tag!==0&&n===2){var r=Ul(t);r!==0&&(e=r,n=fc(t,r))}if(n===1)throw n=gi,sr(t,0),En(t,e),at(t,ye()),n;if(n===6)throw Error(T(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Xn(t,nt,nn),at(t,ye()),null}function bu(t,e){var n=X;X|=1;try{return t(e)}finally{X=n,X===0&&(rs=ye()+500,ca&&Wn())}}function ur(t){Tn!==null&&Tn.tag===0&&!(X&6)&&Vr();var e=X;X|=1;var n=wt.transition,r=te;try{if(wt.transition=null,te=1,t)return t()}finally{te=r,wt.transition=n,X=e,!(X&6)&&Wn()}}function ku(){lt=Br.current,le(Br)}function sr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,jv(n)),be!==null)for(n=be.return;n!==null;){var r=n;switch(nu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Oo();break;case 3:ts(),le(it),le(We),du();break;case 5:uu(r);break;case 4:ts();break;case 13:le(de);break;case 19:le(de);break;case 10:ou(r.type._context);break;case 22:case 23:ku()}n=n.return}if(Ie=t,be=t=Mn(t.current,null),$e=lt=e,je=0,gi=null,xu=fa=cr=0,nt=Ys=null,nr!==null){for(e=0;e<nr.length;e++)if(n=nr[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}nr=null}return t}function fm(t,e){do{var n=be;try{if(iu(),yo.current=Bo,Fo){for(var r=fe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Fo=!1}if(lr=0,Pe=Ee=fe=null,qs=!1,fi=0,vu.current=null,n===null||n.return===null){je=1,gi=e,be=null;break}e:{var i=t,o=n.return,l=n,c=e;if(e=$e,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Qd(o);if(p!==null){p.flags&=-257,Jd(p,o,l,i,e),p.mode&1&&Kd(i,u,e),e=p,c=u;var v=e.updateQueue;if(v===null){var x=new Set;x.add(c),e.updateQueue=x}else v.add(c);break e}else{if(!(e&1)){Kd(i,u,e),_u();break e}c=Error(T(426))}}else if(ue&&l.mode&1){var b=Qd(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Jd(b,o,l,i,e),ru(ns(c,l));break e}}i=c=ns(c,l),je!==4&&(je=2),Ys===null?Ys=[i]:Ys.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=Qp(i,c,e);Wd(i,y);break e;case 1:l=c;var m=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Ln===null||!Ln.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=Jp(i,l,e);Wd(i,k);break e}}i=i.return}while(i!==null)}gm(n)}catch(S){e=S,be===n&&n!==null&&(be=n=n.return);continue}break}while(1)}function pm(){var t=Wo.current;return Wo.current=Bo,t===null?Bo:t}function _u(){(je===0||je===3||je===2)&&(je=4),Ie===null||!(cr&268435455)&&!(fa&268435455)||En(Ie,$e)}function Go(t,e){var n=X;X|=2;var r=pm();(Ie!==t||$e!==e)&&(nn=null,sr(t,e));do try{Jv();break}catch(s){fm(t,s)}while(1);if(iu(),X=n,Wo.current=r,be!==null)throw Error(T(261));return Ie=null,$e=0,je}function Jv(){for(;be!==null;)mm(be)}function Xv(){for(;be!==null&&!_y();)mm(be)}function mm(t){var e=vm(t.alternate,t,lt);t.memoizedProps=t.pendingProps,e===null?gm(t):be=e,vu.current=null}function gm(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qv(n,e),n!==null){n.flags&=32767,be=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{je=6,be=null;return}}else if(n=Hv(n,e,lt),n!==null){be=n;return}if(e=e.sibling,e!==null){be=e;return}be=e=t}while(e!==null);je===0&&(je=5)}function Xn(t,e,n){var r=te,s=wt.transition;try{wt.transition=null,te=1,Zv(t,e,n,r)}finally{wt.transition=s,te=r}return null}function Zv(t,e,n,r){do Vr();while(Tn!==null);if(X&6)throw Error(T(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(T(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Oy(t,i),t===Ie&&(be=Ie=null,$e=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Zi||(Zi=!0,xm(No,function(){return Vr(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=wt.transition,wt.transition=null;var o=te;te=1;var l=X;X|=4,vu.current=null,Yv(t,n),um(n,t),xv(ql),Ao=!!Hl,ql=Hl=null,t.current=n,Vv(n),Sy(),X=l,te=o,wt.transition=i}else t.current=n;if(Zi&&(Zi=!1,Tn=t,qo=s),i=t.pendingLanes,i===0&&(Ln=null),Ny(n.stateNode),at(t,ye()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Ho)throw Ho=!1,t=dc,dc=null,t;return qo&1&&t.tag!==0&&Vr(),i=t.pendingLanes,i&1?t===hc?Vs++:(Vs=0,hc=t):Vs=0,Wn(),null}function Vr(){if(Tn!==null){var t=Qf(qo),e=wt.transition,n=te;try{if(wt.transition=null,te=16>t?16:t,Tn===null)var r=!1;else{if(t=Tn,Tn=null,qo=0,X&6)throw Error(T(331));var s=X;for(X|=4,O=t.current;O!==null;){var i=O,o=i.child;if(O.flags&16){var l=i.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(O=u;O!==null;){var d=O;switch(d.tag){case 0:case 11:case 15:Gs(8,d,i)}var h=d.child;if(h!==null)h.return=d,O=h;else for(;O!==null;){d=O;var f=d.sibling,p=d.return;if(am(d),d===u){O=null;break}if(f!==null){f.return=p,O=f;break}O=p}}}var v=i.alternate;if(v!==null){var x=v.child;if(x!==null){v.child=null;do{var b=x.sibling;x.sibling=null,x=b}while(x!==null)}}O=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,O=o;else e:for(;O!==null;){if(i=O,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Gs(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,O=y;break e}O=i.return}}var m=t.current;for(O=m;O!==null;){o=O;var g=o.child;if(o.subtreeFlags&2064&&g!==null)g.return=o,O=g;else e:for(o=m;O!==null;){if(l=O,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:ha(9,l)}}catch(S){me(l,l.return,S)}if(l===o){O=null;break e}var k=l.sibling;if(k!==null){k.return=l.return,O=k;break e}O=l.return}}if(X=s,Wn(),Ht&&typeof Ht.onPostCommitFiberRoot=="function")try{Ht.onPostCommitFiberRoot(sa,t)}catch{}r=!0}return r}finally{te=n,wt.transition=e}}return!1}function uh(t,e,n){e=ns(n,e),e=Qp(t,e,1),t=Rn(t,e,1),e=Ve(),t!==null&&(ki(t,1,e),at(t,e))}function me(t,e,n){if(t.tag===3)uh(t,t,n);else for(;e!==null;){if(e.tag===3){uh(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ln===null||!Ln.has(r))){t=ns(n,t),t=Jp(e,t,1),e=Rn(e,t,1),t=Ve(),e!==null&&(ki(e,1,t),at(e,t));break}}e=e.return}}function e0(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ve(),t.pingedLanes|=t.suspendedLanes&n,Ie===t&&($e&n)===n&&(je===4||je===3&&($e&130023424)===$e&&500>ye()-wu?sr(t,0):xu|=n),at(t,e)}function ym(t,e){e===0&&(t.mode&1?(e=Wi,Wi<<=1,!(Wi&130023424)&&(Wi=4194304)):e=1);var n=Ve();t=dn(t,e),t!==null&&(ki(t,e,n),at(t,n))}function t0(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),ym(t,n)}function n0(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(T(314))}r!==null&&r.delete(e),ym(t,n)}var vm;vm=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||it.current)st=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return st=!1,Wv(t,e,n);st=!!(t.flags&131072)}else st=!1,ue&&e.flags&1048576&&kp(e,$o,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;xo(t,e),t=e.pendingProps;var s=Xr(e,We.current);Yr(e,n),s=fu(null,e,r,t,s,n);var i=pu();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ot(r)?(i=!0,Ro(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,lu(e),s.updater=da,e.stateNode=s,s._reactInternals=e,ec(e,r,t,n),e=rc(null,e,r,!0,i,n)):(e.tag=0,ue&&i&&tu(e),Ye(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(xo(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=s0(r),t=At(r,t),s){case 0:e=nc(null,e,r,t,n);break e;case 1:e=eh(null,e,r,t,n);break e;case 11:e=Xd(null,e,r,t,n);break e;case 14:e=Zd(null,e,r,At(r.type,t),n);break e}throw Error(T(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:At(r,s),nc(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:At(r,s),eh(t,e,r,s,n);case 3:e:{if(tm(e),t===null)throw Error(T(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Tp(t,e),Uo(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ns(Error(T(423)),e),e=th(t,e,r,n,s);break e}else if(r!==s){s=ns(Error(T(424)),e),e=th(t,e,r,n,s);break e}else for(ut=On(e.stateNode.containerInfo.firstChild),dt=e,ue=!0,It=null,n=jp(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zr(),r===s){e=hn(t,e,n);break e}Ye(t,e,r,n)}e=e.child}return e;case 5:return Ap(e),t===null&&Jl(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Gl(r,s)?o=null:i!==null&&Gl(r,i)&&(e.flags|=32),em(t,e),Ye(t,e,o,n),e.child;case 6:return t===null&&Jl(e),null;case 13:return nm(t,e,n);case 4:return cu(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=es(e,null,r,n):Ye(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:At(r,s),Xd(t,e,r,s,n);case 7:return Ye(t,e,e.pendingProps,n),e.child;case 8:return Ye(t,e,e.pendingProps.children,n),e.child;case 12:return Ye(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,oe(Mo,r._currentValue),r._currentValue=o,i!==null)if(Lt(i.value,o)){if(i.children===s.children&&!it.current){e=hn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var c=l.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=ln(-1,n&-n),c.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Xl(i.return,n,e),l.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(T(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),Xl(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Ye(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Yr(e,n),s=kt(s),r=r(s),e.flags|=1,Ye(t,e,r,n),e.child;case 14:return r=e.type,s=At(r,e.pendingProps),s=At(r.type,s),Zd(t,e,r,s,n);case 15:return Xp(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:At(r,s),xo(t,e),e.tag=1,ot(r)?(t=!0,Ro(e)):t=!1,Yr(e,n),Kp(e,r,s),ec(e,r,s,n),rc(null,e,r,!0,t,n);case 19:return rm(t,e,n);case 22:return Zp(t,e,n)}throw Error(T(156,e.tag))};function xm(t,e){return Gf(t,e)}function r0(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(t,e,n,r){return new r0(t,e,n,r)}function Su(t){return t=t.prototype,!(!t||!t.isReactComponent)}function s0(t){if(typeof t=="function")return Su(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wc)return 11;if(t===Hc)return 14}return 2}function Mn(t,e){var n=t.alternate;return n===null?(n=xt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ko(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Su(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ir:return ir(n.children,s,i,e);case Bc:o=8,s|=8;break;case Sl:return t=xt(12,n,e,s|2),t.elementType=Sl,t.lanes=i,t;case El:return t=xt(13,n,e,s),t.elementType=El,t.lanes=i,t;case jl:return t=xt(19,n,e,s),t.elementType=jl,t.lanes=i,t;case Af:return pa(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Nf:o=10;break e;case Tf:o=9;break e;case Wc:o=11;break e;case Hc:o=14;break e;case kn:o=16,r=null;break e}throw Error(T(130,t==null?t:typeof t,""))}return e=xt(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function ir(t,e,n,r){return t=xt(7,t,r,e),t.lanes=n,t}function pa(t,e,n,r){return t=xt(22,t,r,e),t.elementType=Af,t.lanes=n,t.stateNode={isHidden:!1},t}function nl(t,e,n){return t=xt(6,t,null,e),t.lanes=n,t}function rl(t,e,n){return e=xt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function i0(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ma(0),this.expirationTimes=Ma(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ma(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Eu(t,e,n,r,s,i,o,l,c){return t=new i0(t,e,n,l,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=xt(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lu(i),t}function o0(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function wm(t){if(!t)return zn;t=t._reactInternals;e:{if(fr(t)!==t||t.tag!==1)throw Error(T(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ot(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(T(171))}if(t.tag===1){var n=t.type;if(ot(n))return wp(t,n,e)}return e}function bm(t,e,n,r,s,i,o,l,c){return t=Eu(n,r,!0,t,s,i,o,l,c),t.context=wm(null),n=t.current,r=Ve(),s=$n(n),i=ln(r,s),i.callback=e??null,Rn(n,i,s),t.current.lanes=s,ki(t,s,r),at(t,r),t}function ma(t,e,n,r){var s=e.current,i=Ve(),o=$n(s);return n=wm(n),e.context===null?e.context=n:e.pendingContext=n,e=ln(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Rn(s,e,o),t!==null&&(Rt(t,s,o,i),go(t,s,o)),o}function Yo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function dh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ju(t,e){dh(t,e),(t=t.alternate)&&dh(t,e)}function a0(){return null}var km=typeof reportError=="function"?reportError:function(t){console.error(t)};function Nu(t){this._internalRoot=t}ga.prototype.render=Nu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(T(409));ma(t,e,null,null)};ga.prototype.unmount=Nu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ur(function(){ma(null,t,null,null)}),e[un]=null}};function ga(t){this._internalRoot=t}ga.prototype.unstable_scheduleHydration=function(t){if(t){var e=Zf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Sn.length&&e!==0&&e<Sn[n].priority;n++);Sn.splice(n,0,t),n===0&&tp(t)}};function Tu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ya(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function hh(){}function l0(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var u=Yo(o);i.call(u)}}var o=bm(e,r,t,0,null,!1,!1,"",hh);return t._reactRootContainer=o,t[un]=o.current,li(t.nodeType===8?t.parentNode:t),ur(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var u=Yo(c);l.call(u)}}var c=Eu(t,0,!1,null,null,!1,!1,"",hh);return t._reactRootContainer=c,t[un]=c.current,li(t.nodeType===8?t.parentNode:t),ur(function(){ma(e,c,n,r)}),c}function va(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var c=Yo(o);l.call(c)}}ma(e,o,t,s)}else o=l0(n,e,t,s,r);return Yo(o)}Jf=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=$s(e.pendingLanes);n!==0&&(Yc(e,n|1),at(e,ye()),!(X&6)&&(rs=ye()+500,Wn()))}break;case 13:ur(function(){var r=dn(t,1);if(r!==null){var s=Ve();Rt(r,t,1,s)}}),ju(t,1)}};Vc=function(t){if(t.tag===13){var e=dn(t,134217728);if(e!==null){var n=Ve();Rt(e,t,134217728,n)}ju(t,134217728)}};Xf=function(t){if(t.tag===13){var e=$n(t),n=dn(t,e);if(n!==null){var r=Ve();Rt(n,t,e,r)}ju(t,e)}};Zf=function(){return te};ep=function(t,e){var n=te;try{return te=t,e()}finally{te=n}};$l=function(t,e,n){switch(e){case"input":if(Al(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=la(r);if(!s)throw Error(T(90));Pf(r),Al(r,s)}}}break;case"textarea":Of(t,n);break;case"select":e=n.value,e!=null&&Wr(t,!!n.multiple,e,!1)}};zf=bu;Ff=ur;var c0={usingClientEntryPoint:!1,Events:[Si,$r,la,Df,Uf,bu]},js={findFiberByHostInstance:tr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},u0={bundleType:js.bundleType,version:js.version,rendererPackageName:js.rendererPackageName,rendererConfig:js.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Hf(t),t===null?null:t.stateNode},findFiberByHostInstance:js.findFiberByHostInstance||a0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var eo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!eo.isDisabled&&eo.supportsFiber)try{sa=eo.inject(u0),Ht=eo}catch{}}ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=c0;ft.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tu(e))throw Error(T(200));return o0(t,e,null,n)};ft.createRoot=function(t,e){if(!Tu(t))throw Error(T(299));var n=!1,r="",s=km;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Eu(t,1,!1,null,null,n,!1,r,s),t[un]=e.current,li(t.nodeType===8?t.parentNode:t),new Nu(e)};ft.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(T(188)):(t=Object.keys(t).join(","),Error(T(268,t)));return t=Hf(e),t=t===null?null:t.stateNode,t};ft.flushSync=function(t){return ur(t)};ft.hydrate=function(t,e,n){if(!ya(e))throw Error(T(200));return va(null,t,e,!0,n)};ft.hydrateRoot=function(t,e,n){if(!Tu(t))throw Error(T(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=km;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=bm(e,null,t,1,n??null,s,!1,i,o),t[un]=e.current,li(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ga(e)};ft.render=function(t,e,n){if(!ya(e))throw Error(T(200));return va(null,t,e,!1,n)};ft.unmountComponentAtNode=function(t){if(!ya(t))throw Error(T(40));return t._reactRootContainer?(ur(function(){va(null,null,t,!1,function(){t._reactRootContainer=null,t[un]=null})}),!0):!1};ft.unstable_batchedUpdates=bu;ft.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ya(n))throw Error(T(200));if(t==null||t._reactInternals===void 0)throw Error(T(38));return va(t,e,n,!1,r)};ft.version="18.3.1-next-f1338f8080-20240426";function _m(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(_m)}catch(t){console.error(t)}}_m(),_f.exports=ft;var d0=_f.exports,fh=d0;kl.createRoot=fh.createRoot,kl.hydrateRoot=fh.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yi(){return yi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yi.apply(this,arguments)}var An;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(An||(An={}));const ph="popstate";function h0(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return mc("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Vo(s)}return p0(e,n,null,t)}function ve(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Sm(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function f0(){return Math.random().toString(36).substr(2,8)}function mh(t,e){return{usr:t.state,key:t.key,idx:e}}function mc(t,e,n,r){return n===void 0&&(n=null),yi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ls(e):e,{state:n,key:e&&e.key||r||f0()})}function Vo(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ls(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function p0(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l=An.Pop,c=null,u=d();u==null&&(u=0,o.replaceState(yi({},o.state,{idx:u}),""));function d(){return(o.state||{idx:null}).idx}function h(){l=An.Pop;let b=d(),y=b==null?null:b-u;u=b,c&&c({action:l,location:x.location,delta:y})}function f(b,y){l=An.Push;let m=mc(x.location,b,y);n&&n(m,b),u=d()+1;let g=mh(m,u),k=x.createHref(m);try{o.pushState(g,"",k)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;s.location.assign(k)}i&&c&&c({action:l,location:x.location,delta:1})}function p(b,y){l=An.Replace;let m=mc(x.location,b,y);n&&n(m,b),u=d();let g=mh(m,u),k=x.createHref(m);o.replaceState(g,"",k),i&&c&&c({action:l,location:x.location,delta:0})}function v(b){let y=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof b=="string"?b:Vo(b);return m=m.replace(/ $/,"%20"),ve(y,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,y)}let x={get action(){return l},get location(){return t(s,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(ph,h),c=b,()=>{s.removeEventListener(ph,h),c=null}},createHref(b){return e(s,b)},createURL:v,encodeLocation(b){let y=v(b);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(b){return o.go(b)}};return x}var gh;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(gh||(gh={}));function m0(t,e,n){return n===void 0&&(n="/"),g0(t,e,n,!1)}function g0(t,e,n,r){let s=typeof e=="string"?ls(e):e,i=Au(s.pathname||"/",n);if(i==null)return null;let o=Em(t);y0(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=T0(i);l=j0(o[c],u,r)}return l}function Em(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(ve(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let u=Dn([r,c.relativePath]),d=n.concat(c);i.children&&i.children.length>0&&(ve(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Em(i.children,e,d,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:S0(u,i.index),routesMeta:d})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let c of jm(i.path))s(i,o,c)}),e}function jm(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=jm(r.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function y0(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:E0(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const v0=/^:[\w-]+$/,x0=3,w0=2,b0=1,k0=10,_0=-2,yh=t=>t==="*";function S0(t,e){let n=t.split("/"),r=n.length;return n.some(yh)&&(r+=_0),e&&(r+=w0),n.filter(s=>!yh(s)).reduce((s,i)=>s+(v0.test(i)?x0:i===""?b0:k0),r)}function E0(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function j0(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let c=r[l],u=l===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=vh({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},d),f=c.route;if(!h&&u&&n&&!r[r.length-1].route.index&&(h=vh({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Dn([i,h.pathname]),pathnameBase:I0(Dn([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Dn([i,h.pathnameBase]))}return o}function vh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=N0(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let x=l[h]||"";o=i.slice(0,i.length-x.length).replace(/(.)\/+$/,"$1")}const v=l[h];return p&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:o,pattern:t}}function N0(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Sm(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(r.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function T0(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Sm(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Au(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function A0(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ls(t):t;return{pathname:n?n.startsWith("/")?n:C0(n,e):e,search:O0(r),hash:R0(s)}}function C0(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function sl(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function P0(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Cu(t,e){let n=P0(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Pu(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ls(t):(s=yi({},t),ve(!s.pathname||!s.pathname.includes("?"),sl("?","pathname","search",s)),ve(!s.pathname||!s.pathname.includes("#"),sl("#","pathname","hash",s)),ve(!s.search||!s.search.includes("#"),sl("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}l=h>=0?e[h]:"/"}let c=A0(s,l),u=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(u||d)&&(c.pathname+="/"),c}const Dn=t=>t.join("/").replace(/\/\/+/g,"/"),I0=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),O0=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,R0=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function L0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Nm=["post","put","patch","delete"];new Set(Nm);const $0=["get",...Nm];new Set($0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vi(){return vi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vi.apply(this,arguments)}const Iu=_.createContext(null),M0=_.createContext(null),Hn=_.createContext(null),xa=_.createContext(null),qn=_.createContext({outlet:null,matches:[],isDataRoute:!1}),Tm=_.createContext(null);function D0(t,e){let{relative:n}=e===void 0?{}:e;cs()||ve(!1);let{basename:r,navigator:s}=_.useContext(Hn),{hash:i,pathname:o,search:l}=Cm(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:Dn([r,o])),s.createHref({pathname:c,search:l,hash:i})}function cs(){return _.useContext(xa)!=null}function pn(){return cs()||ve(!1),_.useContext(xa).location}function Am(t){_.useContext(Hn).static||_.useLayoutEffect(t)}function us(){let{isDataRoute:t}=_.useContext(qn);return t?J0():U0()}function U0(){cs()||ve(!1);let t=_.useContext(Iu),{basename:e,future:n,navigator:r}=_.useContext(Hn),{matches:s}=_.useContext(qn),{pathname:i}=pn(),o=JSON.stringify(Cu(s,n.v7_relativeSplatPath)),l=_.useRef(!1);return Am(()=>{l.current=!0}),_.useCallback(function(u,d){if(d===void 0&&(d={}),!l.current)return;if(typeof u=="number"){r.go(u);return}let h=Pu(u,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Dn([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}function Cm(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=_.useContext(Hn),{matches:s}=_.useContext(qn),{pathname:i}=pn(),o=JSON.stringify(Cu(s,r.v7_relativeSplatPath));return _.useMemo(()=>Pu(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function z0(t,e){return F0(t,e)}function F0(t,e,n,r){cs()||ve(!1);let{navigator:s}=_.useContext(Hn),{matches:i}=_.useContext(qn),o=i[i.length-1],l=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let u=pn(),d;if(e){var h;let b=typeof e=="string"?ls(e):e;c==="/"||(h=b.pathname)!=null&&h.startsWith(c)||ve(!1),d=b}else d=u;let f=d.pathname||"/",p=f;if(c!=="/"){let b=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let v=m0(t,{pathname:p}),x=G0(v&&v.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:Dn([c,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:Dn([c,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&x?_.createElement(xa.Provider,{value:{location:vi({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:An.Pop}},x):x}function B0(){let t=Q0(),e=L0(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return _.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),n?_.createElement("pre",{style:s},n):null,i)}const W0=_.createElement(B0,null);class H0 extends _.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?_.createElement(qn.Provider,{value:this.props.routeContext},_.createElement(Tm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function q0(t){let{routeContext:e,match:n,children:r}=t,s=_.useContext(Iu);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),_.createElement(qn.Provider,{value:e},r)}function G0(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,l=(s=n)==null?void 0:s.errors;if(l!=null){let d=o.findIndex(h=>h.route.id&&(l==null?void 0:l[h.route.id])!==void 0);d>=0||ve(!1),o=o.slice(0,Math.min(o.length,d+1))}let c=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=n,v=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){c=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let p,v=!1,x=null,b=null;n&&(p=l&&h.route.id?l[h.route.id]:void 0,x=h.route.errorElement||W0,c&&(u<0&&f===0?(X0("route-fallback",!1),v=!0,b=null):u===f&&(v=!0,b=h.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,f+1)),m=()=>{let g;return p?g=x:v?g=b:h.route.Component?g=_.createElement(h.route.Component,null):h.route.element?g=h.route.element:g=d,_.createElement(q0,{match:h,routeContext:{outlet:d,matches:y,isDataRoute:n!=null},children:g})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?_.createElement(H0,{location:n.location,revalidation:n.revalidation,component:x,error:p,children:m(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):m()},null)}var Pm=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Pm||{}),Ko=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Ko||{});function Y0(t){let e=_.useContext(Iu);return e||ve(!1),e}function V0(t){let e=_.useContext(M0);return e||ve(!1),e}function K0(t){let e=_.useContext(qn);return e||ve(!1),e}function Im(t){let e=K0(),n=e.matches[e.matches.length-1];return n.route.id||ve(!1),n.route.id}function Q0(){var t;let e=_.useContext(Tm),n=V0(Ko.UseRouteError),r=Im(Ko.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function J0(){let{router:t}=Y0(Pm.UseNavigateStable),e=Im(Ko.UseNavigateStable),n=_.useRef(!1);return Am(()=>{n.current=!0}),_.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,vi({fromRouteId:e},i)))},[t,e])}const xh={};function X0(t,e,n){!e&&!xh[t]&&(xh[t]=!0)}function Z0(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function ex(t){let{to:e,replace:n,state:r,relative:s}=t;cs()||ve(!1);let{future:i,static:o}=_.useContext(Hn),{matches:l}=_.useContext(qn),{pathname:c}=pn(),u=us(),d=Pu(e,Cu(l,i.v7_relativeSplatPath),c,s==="path"),h=JSON.stringify(d);return _.useEffect(()=>u(JSON.parse(h),{replace:n,state:r,relative:s}),[u,h,s,n,r]),null}function wn(t){ve(!1)}function tx(t){let{basename:e="/",children:n=null,location:r,navigationType:s=An.Pop,navigator:i,static:o=!1,future:l}=t;cs()&&ve(!1);let c=e.replace(/^\/*/,"/"),u=_.useMemo(()=>({basename:c,navigator:i,static:o,future:vi({v7_relativeSplatPath:!1},l)}),[c,l,i,o]);typeof r=="string"&&(r=ls(r));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:v="default"}=r,x=_.useMemo(()=>{let b=Au(d,c);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:v},navigationType:s}},[c,d,h,f,p,v,s]);return x==null?null:_.createElement(Hn.Provider,{value:u},_.createElement(xa.Provider,{children:n,value:x}))}function nx(t){let{children:e,location:n}=t;return z0(gc(e),n)}new Promise(()=>{});function gc(t,e){e===void 0&&(e=[]);let n=[];return _.Children.forEach(t,(r,s)=>{if(!_.isValidElement(r))return;let i=[...e,s];if(r.type===_.Fragment){n.push.apply(n,gc(r.props.children,i));return}r.type!==wn&&ve(!1),!r.props.index||!r.props.children||ve(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=gc(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yc(){return yc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yc.apply(this,arguments)}function rx(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function sx(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ix(t,e){return t.button===0&&(!e||e==="_self")&&!sx(t)}function vc(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function ox(t,e){let n=vc(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const ax=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],lx="6";try{window.__reactRouterVersion=lx}catch{}const cx="startTransition",wh=ey[cx];function ux(t){let{basename:e,children:n,future:r,window:s}=t,i=_.useRef();i.current==null&&(i.current=h0({window:s,v5Compat:!0}));let o=i.current,[l,c]=_.useState({action:o.action,location:o.location}),{v7_startTransition:u}=r||{},d=_.useCallback(h=>{u&&wh?wh(()=>c(h)):c(h)},[c,u]);return _.useLayoutEffect(()=>o.listen(d),[o,d]),_.useEffect(()=>Z0(r),[r]),_.createElement(tx,{basename:e,children:n,location:l.location,navigationType:l.action,navigator:o,future:r})}const dx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ne=_.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,f=rx(e,ax),{basename:p}=_.useContext(Hn),v,x=!1;if(typeof u=="string"&&hx.test(u)&&(v=u,dx))try{let g=new URL(window.location.href),k=u.startsWith("//")?new URL(g.protocol+u):new URL(u),S=Au(k.pathname,p);k.origin===g.origin&&S!=null?u=S+k.search+k.hash:x=!0}catch{}let b=D0(u,{relative:s}),y=fx(u,{replace:o,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});function m(g){r&&r(g),g.defaultPrevented||y(g)}return _.createElement("a",yc({},f,{href:v||b,onClick:x||i?r:m,ref:n,target:c}))});var bh;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(bh||(bh={}));var kh;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(kh||(kh={}));function fx(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:l}=e===void 0?{}:e,c=us(),u=pn(),d=Cm(t,{relative:o});return _.useCallback(h=>{if(ix(h,n)){h.preventDefault();let f=r!==void 0?r:Vo(u)===Vo(d);c(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:l})}},[u,c,d,r,s,n,t,i,o,l])}function Om(t){let e=_.useRef(vc(t)),n=_.useRef(!1),r=pn(),s=_.useMemo(()=>ox(r.search,n.current?null:e.current),[r.search]),i=us(),o=_.useCallback((l,c)=>{const u=vc(typeof l=="function"?l(s):l);n.current=!0,i("?"+u,c)},[i,s]);return[s,o]}const px="modulepreload",mx=function(t){return"/"+t},_h={},ji=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=mx(i),i in _h)return;_h[i]=!0;const o=i.endsWith(".css"),l=o?'[rel="stylesheet"]':"";if(!!r)for(let d=s.length-1;d>=0;d--){const h=s[d];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${l}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":px,o||(u.as="script",u.crossOrigin=""),u.href=i,document.head.appendChild(u),o)return new Promise((d,h)=>{u.addEventListener("load",d),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},gx=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ji(()=>Promise.resolve().then(()=>ds),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class Ou extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class yx extends Ou{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Sh extends Ou{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Eh extends Ou{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var xc;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(xc||(xc={}));var vx=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class xx{constructor(e,{headers:n={},customFetch:r,region:s=xc.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=gx(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return vx(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let l={},{region:c}=n;c||(c=this.region);const u=new URL(`${this.url}/${e}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=o):typeof o=="string"?(l["Content-Type"]="text/plain",d=o):typeof FormData<"u"&&o instanceof FormData?d=o:(l["Content-Type"]="application/json",d=JSON.stringify(o)));const h=yield this.fetch(u.toString(),{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(x=>{throw new yx(x)}),f=h.headers.get("x-relay-error");if(f&&f==="true")throw new Sh(h);if(!h.ok)throw new Eh(h);let p=((r=h.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return p==="application/json"?v=yield h.json():p==="application/octet-stream"?v=yield h.blob():p==="text/event-stream"?v=h:p==="multipart/form-data"?v=yield h.formData():v=yield h.text(),{data:v,error:null,response:h}}catch(s){return{data:null,error:s,response:s instanceof Eh||s instanceof Sh?s.context:void 0}}})}}var rt={},Ru={},wa={},Ni={},ba={},ka={},wx=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},ss=wx();const bx=ss.fetch,Rm=ss.fetch.bind(ss),Lm=ss.Headers,kx=ss.Request,_x=ss.Response,ds=Object.freeze(Object.defineProperty({__proto__:null,Headers:Lm,Request:kx,Response:_x,default:Rm,fetch:bx},Symbol.toStringTag,{value:"Module"})),Sx=Dg(ds);var _a={};Object.defineProperty(_a,"__esModule",{value:!0});let Ex=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};_a.default=Ex;var $m=bt&&bt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ka,"__esModule",{value:!0});const jx=$m(Sx),Nx=$m(_a);let Tx=class{constructor(e){var n,r;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(n=e.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=e.signal,this.isMaybeSingle=(r=e.isMaybeSingle)!==null&&r!==void 0?r:!1,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=jx.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=new Headers(this.headers),this.headers.set(e,n),this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,l,c,u;let d=null,h=null,f=null,p=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const m=await i.text();m===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=m:h=JSON.parse(m))}const b=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),y=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");b&&y&&y.length>1&&(f=parseInt(y[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,f=null,p=406,v="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{const b=await i.text();try{d=JSON.parse(b),Array.isArray(d)&&i.status===404&&(h=[],d=null,p=200,v="OK")}catch{i.status===404&&b===""?(p=204,v="No Content"):d={message:b}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,p=200,v="OK"),d&&this.shouldThrowOnError)throw new Nx.default(d)}return{error:d,data:h,count:f,status:p,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,l,c;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(l=i==null?void 0:i.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=i==null?void 0:i.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};ka.default=Tx;var Ax=bt&&bt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(ba,"__esModule",{value:!0});const Cx=Ax(ka);let Px=class extends Cx.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",l=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${l?`${l},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var l;const c=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${u}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};ba.default=Px;var Ix=bt&&bt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ni,"__esModule",{value:!0});const Ox=Ix(ba);let Rx=class extends Ox.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};Ni.default=Rx;var Lx=bt&&bt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(wa,"__esModule",{value:!0});const Ns=Lx(Ni);let $x=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=new Headers(n),this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(l=>/\s/.test(l)&&!i?"":(l==='"'&&(i=!i),l)).join("");return this.url.searchParams.set("select",o),r&&this.headers.append("Prefer",`count=${r}`),new Ns.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(e,{count:n,defaultToNull:r=!0}={}){var s;const i="POST";if(n&&this.headers.append("Prefer",`count=${n}`),r||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const o=e.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new Ns.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){var o;const l="POST";if(this.headers.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&this.url.searchParams.set("on_conflict",n),s&&this.headers.append("Prefer",`count=${s}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(e)){const c=e.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new Ns.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:n}={}){var r;const s="PATCH";return n&&this.headers.append("Prefer",`count=${n}`),new Ns.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:e}={}){var n;const r="DELETE";return e&&this.headers.append("Prefer",`count=${e}`),new Ns.default({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}};wa.default=$x;var Mm=bt&&bt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ru,"__esModule",{value:!0});const Mx=Mm(wa),Dx=Mm(Ni);let Ux=class Dm{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new Mx.default(n,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Dm(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){var o;let l;const c=new URL(`${this.url}/rpc/${e}`);let u;r||s?(l=r?"HEAD":"GET",Object.entries(n).filter(([h,f])=>f!==void 0).map(([h,f])=>[h,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([h,f])=>{c.searchParams.append(h,f)})):(l="POST",u=n);const d=new Headers(this.headers);return i&&d.set("Prefer",`count=${i}`),new Dx.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Ru.default=Ux;var hs=bt&&bt.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(rt,"__esModule",{value:!0});rt.PostgrestError=rt.PostgrestBuilder=rt.PostgrestTransformBuilder=rt.PostgrestFilterBuilder=rt.PostgrestQueryBuilder=rt.PostgrestClient=void 0;const Um=hs(Ru);rt.PostgrestClient=Um.default;const zm=hs(wa);rt.PostgrestQueryBuilder=zm.default;const Fm=hs(Ni);rt.PostgrestFilterBuilder=Fm.default;const Bm=hs(ba);rt.PostgrestTransformBuilder=Bm.default;const Wm=hs(ka);rt.PostgrestBuilder=Wm.default;const Hm=hs(_a);rt.PostgrestError=Hm.default;var zx=rt.default={PostgrestClient:Um.default,PostgrestQueryBuilder:zm.default,PostgrestFilterBuilder:Fm.default,PostgrestTransformBuilder:Bm.default,PostgrestBuilder:Wm.default,PostgrestError:Hm.default};const{PostgrestClient:Fx,PostgrestQueryBuilder:P_,PostgrestFilterBuilder:I_,PostgrestTransformBuilder:O_,PostgrestBuilder:R_,PostgrestError:L_}=zx;class Bx{static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,s=parseInt(r.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const Wx="2.15.5",Hx=`realtime-js/${Wx}`,qx="1.0.0",wc=1e4,Gx=1e3,Yx=100;var Ks;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Ks||(Ks={}));var _e;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(_e||(_e={}));var Pt;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Pt||(Pt={}));var bc;(function(t){t.websocket="websocket"})(bc||(bc={}));var er;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(er||(er={}));class Vx{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const l=r.decode(e.slice(o,o+s));o=o+s;const c=r.decode(e.slice(o,o+i));o=o+i;const u=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class qm{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ie;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(ie||(ie={}));const jh=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Kx(o,t,e,s),i),{})},Kx=(t,e,n,r)=>{const s=e.find(l=>l.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?Gm(i,o):kc(o)},Gm=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Zx(e,n)}switch(t){case ie.bool:return Qx(e);case ie.float4:case ie.float8:case ie.int2:case ie.int4:case ie.int8:case ie.numeric:case ie.oid:return Jx(e);case ie.json:case ie.jsonb:return Xx(e);case ie.timestamp:return ew(e);case ie.abstime:case ie.date:case ie.daterange:case ie.int4range:case ie.int8range:case ie.money:case ie.reltime:case ie.text:case ie.time:case ie.timestamptz:case ie.timetz:case ie.tsrange:case ie.tstzrange:return kc(e);default:return kc(e)}},kc=t=>t,Qx=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Jx=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Xx=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Zx=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(l=>Gm(e,l))}return t},ew=t=>typeof t=="string"?t.replace(" ","T"):t,Ym=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"};class il{constructor(e,n,r={},s=wc){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var Nh;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(Nh||(Nh={}));class Qs{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Qs.syncState(this.state,s,i,o),this.pendingDiffs.forEach(c=>{this.state=Qs.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],l()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Qs.syncDiff(this.state,s,i,o),l())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),l={},c={};return this.map(i,(u,d)=>{o[u]||(c[u]=d)}),this.map(o,(u,d)=>{const h=i[u];if(h){const f=d.map(b=>b.presence_ref),p=h.map(b=>b.presence_ref),v=d.filter(b=>p.indexOf(b.presence_ref)<0),x=h.filter(b=>f.indexOf(b.presence_ref)<0);v.length>0&&(l[u]=v),x.length>0&&(c[u]=x)}else l[u]=d}),this.syncDiff(i,{joins:l,leaves:c},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(l,c)=>{var u;const d=(u=e[l])!==null&&u!==void 0?u:[];if(e[l]=this.cloneDeep(c),d.length>0){const h=e[l].map(p=>p.presence_ref),f=d.filter(p=>h.indexOf(p.presence_ref)<0);e[l].unshift(...f)}r(l,d,c)}),this.map(o,(l,c)=>{let u=e[l];if(!u)return;const d=c.map(h=>h.presence_ref);u=u.filter(h=>d.indexOf(h.presence_ref)<0),e[l]=u,s(l,u,c),u.length===0&&delete e[l]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Th;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Th||(Th={}));var Js;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Js||(Js={}));var rn;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(rn||(rn={}));class Lu{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=_e.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new il(this,Pt.join,this.params,this.timeout),this.rejoinTimer=new qm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_e.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_e.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=_e.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pt.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Qs(this),this.broadcastEndpointURL=Ym(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s,i;if(this.socket.isConnected()||this.socket.connect(),this.state==_e.closed){const{config:{broadcast:o,presence:l,private:c}}=this.params,u=(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Js.PRESENCE]&&this.bindings[Js.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},f={broadcast:o,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(p=>e==null?void 0:e(rn.CHANNEL_ERROR,p)),this._onClose(()=>e==null?void 0:e(rn.CLOSED)),this.updateJoinPayload(Object.assign({config:f},h)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket.setAuth(),p===void 0){e==null||e(rn.SUBSCRIBED);return}else{const x=this.bindings.postgres_changes,b=(v=x==null?void 0:x.length)!==null&&v!==void 0?v:0,y=[];for(let m=0;m<b;m++){const g=x[m],{filter:{event:k,schema:S,table:E,filter:N}}=g,A=p&&p[m];if(A&&A.event===k&&A.schema===S&&A.table===E&&A.filter===N)y.push(Object.assign(Object.assign({},g),{id:A.id}));else{this.unsubscribe(),this.state=_e.errored,e==null||e(rn.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(rn.SUBSCRIBED);return}}).receive("error",p=>{this.state=_e.errored,e==null||e(rn.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(rn.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===_e.joined&&e===Js.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,l,c;const u=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((c=(l=(o=this.params)===null||o===void 0?void 0:o.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),u.receive("ok",()=>i("ok")),u.receive("error",()=>i("error")),u.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=_e.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pt.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(s=>{r=new il(this,Pt.leave,{},e),r.receive("ok",()=>{n(),s("ok")}).receive("timeout",()=>{n(),s("timed out")}).receive("error",()=>{s("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_e.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new il(this,e,n,r);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>Yx){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Pt;if(r&&[l,c,u,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,x,b;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((b=(x=p.filter)===null||x===void 0?void 0:x.event)===null||b===void 0?void 0:b.toLocaleLowerCase())===o}).map(p=>p.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(p=>{var v,x,b,y,m,g;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in p){const k=p.id,S=(v=p.filter)===null||v===void 0?void 0:v.event;return k&&((x=n.ids)===null||x===void 0?void 0:x.includes(k))&&(S==="*"||(S==null?void 0:S.toLocaleLowerCase())===((b=n.data)===null||b===void 0?void 0:b.type.toLocaleLowerCase()))}else{const k=(m=(y=p==null?void 0:p.filter)===null||y===void 0?void 0:y.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return k==="*"||k===((g=n==null?void 0:n.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===o}).map(p=>{if(typeof f=="object"&&"ids"in f){const v=f.data,{schema:x,table:b,commit_timestamp:y,type:m,errors:g}=v;f=Object.assign(Object.assign({},{schema:x,table:b,commit_timestamp:y,eventType:m,new:{},old:{},errors:g}),this._getPayloadRecords(v))}p.callback(f,r)})}_isClosed(){return this.state===_e.closed}_isJoined(){return this.state===_e.joined}_isJoining(){return this.state===_e.joining}_isLeaving(){return this.state===_e.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Lu.isEqual(s.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Pt.close,{},e)}_onError(e){this._on(Pt.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_e.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=jh(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=jh(e.columns,e.old_record)),n}}const ol=()=>{},to={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},tw=[1e3,2e3,5e3,1e4],nw=1e4,rw=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sw{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=wc,this.transport=null,this.heartbeatIntervalMs=to.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ol,this.ref=0,this.reconnectTimer=null,this.logger=ol,this.conn=null,this.sendBuffer=[],this.serializer=new Vx,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...o)=>ji(()=>Promise.resolve().then(()=>ds),void 0).then(({default:l})=>l(...o)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):i=fetch,(...o)=>i(...o)},!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${bc.websocket}`,this.httpEndpoint=Ym(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Bx.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:qx}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},e?this.conn.close(e,n??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ks.connecting:return er.Connecting;case Ks.open:return er.Open;case Ks.closing:return er.Closing;default:return er.Closed}}isConnected(){return this.connectionState()===er.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Lu(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(Gx,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},to.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:s,payload:i,ref:o}=n,l=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${r} ${s} ${l}`.trim(),i),this.channels.filter(u=>u._isMember(r)).forEach(u=>u._trigger(s,i,o)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Pt.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([rw],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const s={access_token:n,version:Hx};n&&r.updateJoinPayload(s),r.joinedOnce&&r._isJoined()&&r._push(Pt.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(s){this.log("error",`error in ${e} callback`,s)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new qm(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},to.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,s,i,o,l,c,u,d;if(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:wc,this.heartbeatIntervalMs=(s=e==null?void 0:e.heartbeatIntervalMs)!==null&&s!==void 0?s:to.HEARTBEAT_INTERVAL,this.worker=(i=e==null?void 0:e.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=e==null?void 0:e.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(l=e==null?void 0:e.heartbeatCallback)!==null&&l!==void 0?l:ol,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:h=>tw[h-1]||nw,this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(h,f)=>f(JSON.stringify(h)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class $u extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Se(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class iw extends $u{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _c extends $u{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var ow=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const Vm=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ji(()=>Promise.resolve().then(()=>ds),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},aw=()=>ow(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ji(()=>Promise.resolve().then(()=>ds),void 0)).Response:Response}),Sc=t=>{if(Array.isArray(t))return t.map(n=>Sc(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Sc(r)}),e},lw=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)};var pr=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const al=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),cw=(t,e,n)=>pr(void 0,void 0,void 0,function*(){const r=yield aw();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{const i=t.status||500,o=(s==null?void 0:s.statusCode)||i+"";e(new iw(al(s),i,o))}).catch(s=>{e(new _c(al(s),s))}):e(new _c(al(t),t))}),uw=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?s:(lw(r)?(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),s.body=JSON.stringify(r)):s.body=r,e!=null&&e.duplex&&(s.duplex=e.duplex),Object.assign(Object.assign({},s),n))};function Ti(t,e,n,r,s,i){return pr(this,void 0,void 0,function*(){return new Promise((o,l)=>{t(n,uw(e,r,s,i)).then(c=>{if(!c.ok)throw c;return r!=null&&r.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>cw(c,l,r))})})}function Qo(t,e,n,r){return pr(this,void 0,void 0,function*(){return Ti(t,"GET",e,n,r)})}function zt(t,e,n,r,s){return pr(this,void 0,void 0,function*(){return Ti(t,"POST",e,r,s,n)})}function Ec(t,e,n,r,s){return pr(this,void 0,void 0,function*(){return Ti(t,"PUT",e,r,s,n)})}function dw(t,e,n,r){return pr(this,void 0,void 0,function*(){return Ti(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function Km(t,e,n,r,s){return pr(this,void 0,void 0,function*(){return Ti(t,"DELETE",e,r,s,n)})}var He=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const hw={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Ah={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class fw{constructor(e,n={},r,s){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=Vm(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,s){return He(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Ah),s);let l=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const c=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c))):(i=r,l["cache-control"]=`max-age=${o.cacheControl}`,l["content-type"]=o.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(n),d=this._getFinalPath(u),h=yield(e=="PUT"?Ec:zt)(this.fetch,`${this.url}/object/${d}`,i,Object.assign({headers:l},o!=null&&o.duplex?{duplex:o.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Se(i))return{data:null,error:i};throw i}})}upload(e,n,r){return He(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return He(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),l=new URL(this.url+`/object/upload/sign/${o}`);l.searchParams.set("token",n);try{let c;const u=Object.assign({upsert:Ah.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&r instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",r)):typeof FormData<"u"&&r instanceof FormData?(c=r,c.append("cacheControl",u.cacheControl)):(c=r,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const h=yield Ec(this.fetch,l.toString(),c,{headers:d});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(Se(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(e,n){return He(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield zt(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),l=o.searchParams.get("token");if(!l)throw new $u("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:l},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Se(r))return{data:null,error:r};throw r}})}update(e,n,r){return He(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return He(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}})}copy(e,n,r){return He(this,void 0,void 0,function*(){try{return{data:{path:(yield zt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return He(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield zt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return He(this,void 0,void 0,function*(){try{const s=yield zt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}})}download(e,n){return He(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const l=this._getFinalPath(e);return{data:yield(yield Qo(this.fetch,`${this.url}/${s}/${l}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Se(l))return{data:null,error:l};throw l}})}info(e){return He(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield Qo(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Sc(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Se(r))return{data:null,error:r};throw r}})}exists(e){return He(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield dw(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Se(r)&&r instanceof _c){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const l=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${r}${u}`)}}}remove(e){return He(this,void 0,void 0,function*(){try{return{data:yield Km(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}})}list(e,n,r){return He(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},hw),n),{prefix:e||""});return{data:yield zt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}})}listV2(e,n){return He(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield zt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Se(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const pw="2.12.1",mw={"X-Client-Info":`storage-js/${pw}`};var kr=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class gw{constructor(e,n={},r,s){this.shouldThrowOnError=!1;const i=new URL(e);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href,this.headers=Object.assign(Object.assign({},mw),n),this.fetch=Vm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return kr(this,void 0,void 0,function*(){try{return{data:yield Qo(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Se(e))return{data:null,error:e};throw e}})}getBucket(e){return kr(this,void 0,void 0,function*(){try{return{data:yield Qo(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return kr(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Se(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return kr(this,void 0,void 0,function*(){try{return{data:yield Ec(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Se(r))return{data:null,error:r};throw r}})}emptyBucket(e){return kr(this,void 0,void 0,function*(){try{return{data:yield zt(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}})}deleteBucket(e){return kr(this,void 0,void 0,function*(){try{return{data:yield Km(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Se(n))return{data:null,error:n};throw n}})}}class yw extends gw{constructor(e,n={},r,s){super(e,n,r,s)}from(e){return new fw(this.url,this.headers,e,this.fetch)}}const vw="2.57.4";let Ds="";typeof Deno<"u"?Ds="deno":typeof document<"u"?Ds="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ds="react-native":Ds="node";const xw={"X-Client-Info":`supabase-js-${Ds}/${vw}`},ww={headers:xw},bw={schema:"public"},kw={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_w={};var Sw=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};const Ew=t=>{let e;return t?e=t:typeof fetch>"u"?e=Rm:e=fetch,(...n)=>e(...n)},jw=()=>typeof Headers>"u"?Lm:Headers,Nw=(t,e,n)=>{const r=Ew(n),s=jw();return(i,o)=>Sw(void 0,void 0,void 0,function*(){var l;const c=(l=yield e())!==null&&l!==void 0?l:t;let u=new s(o==null?void 0:o.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),r(i,Object.assign(Object.assign({},o),{headers:u}))})};var Tw=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};function Aw(t){return t.endsWith("/")?t:t+"/"}function Cw(t,e){var n,r;const{db:s,auth:i,realtime:o,global:l}=t,{db:c,auth:u,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),i),realtime:Object.assign(Object.assign({},d),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),l),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=l==null?void 0:l.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>Tw(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function Pw(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Aw(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Qm="2.71.1",Ar=30*1e3,jc=3,ll=jc*Ar,Iw="http://localhost:9999",Ow="supabase.auth.token",Rw={"X-Client-Info":`gotrue-js/${Qm}`},Nc="X-Supabase-Api-Version",Jm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Lw=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,$w=10*60*1e3;class Mu extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function B(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Mw extends Mu{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Dw(t){return B(t)&&t.name==="AuthApiError"}class Xm extends Mu{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Gn extends Mu{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class bn extends Gn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Uw(t){return B(t)&&t.name==="AuthSessionMissingError"}class no extends Gn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ro extends Gn{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class so extends Gn{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zw(t){return B(t)&&t.name==="AuthImplicitGrantRedirectError"}class Ch extends Gn{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Tc extends Gn{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function cl(t){return B(t)&&t.name==="AuthRetryableFetchError"}class Ph extends Gn{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Ac extends Gn{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Jo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Ih=` 	
\r=`.split(""),Fw=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Ih.length;e+=1)t[Ih[e].charCodeAt(0)]=-2;for(let e=0;e<Jo.length;e+=1)t[Jo[e].charCodeAt(0)]=e;return t})();function Oh(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Jo[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(Jo[r]),e.queuedBits-=6}}function Zm(t,e,n){const r=Fw[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Rh(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Hw(o,r,n)};for(let o=0;o<t.length;o+=1)Zm(t.charCodeAt(o),s,i);return e.join("")}function Bw(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Ww(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Bw(r,e)}}function Hw(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function qw(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)Zm(t.charCodeAt(s),n,r);return new Uint8Array(e)}function Gw(t){const e=[];return Ww(t,n=>e.push(n)),new Uint8Array(e)}function Yw(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>Oh(s,n,r)),Oh(null,n,r),e.join("")}function Vw(t){return Math.round(Date.now()/1e3)+t}function Kw(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Nt=()=>typeof window<"u"&&typeof document<"u",Vn={tested:!1,writable:!1},eg=()=>{if(!Nt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Vn.tested)return Vn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Vn.tested=!0,Vn.writable=!0}catch{Vn.tested=!0,Vn.writable=!1}return Vn.writable};function Qw(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const tg=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ji(()=>Promise.resolve().then(()=>ds),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Jw=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Cr=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Kn=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},xn=async(t,e)=>{await t.removeItem(e)};class Sa{constructor(){this.promise=new Sa.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Sa.promiseConstructor=Promise;function ul(t){const e=t.split(".");if(e.length!==3)throw new Ac("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!Lw.test(e[r]))throw new Ac("JWT not in base64url format");return{header:JSON.parse(Rh(e[0])),payload:JSON.parse(Rh(e[1])),signature:qw(e[2]),raw:{header:e[0],payload:e[1]}}}async function Xw(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Zw(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function eb(t){return("0"+t.toString(16)).substr(-2)}function tb(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,eb).join("")}async function nb(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function rb(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await nb(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function _r(t,e,n=!1){const r=tb();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await Cr(t,`${e}-code-verifier`,s);const i=await rb(r);return[i,r===i?"plain":"s256"]}const sb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ib(t){const e=t.headers.get(Nc);if(!e||!e.match(sb))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function ob(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function ab(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const lb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Sr(t){if(!lb.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function dl(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Lh(t){return JSON.parse(JSON.stringify(t))}var cb=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const Zn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ub=[502,503,504];async function $h(t){var e;if(!Jw(t))throw new Tc(Zn(t),0);if(ub.includes(t.status))throw new Tc(Zn(t),t.status);let n;try{n=await t.json()}catch(i){throw new Xm(Zn(i),i)}let r;const s=ib(t);if(s&&s.getTime()>=Jm["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new Ph(Zn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new bn}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Ph(Zn(n),t.status,n.weak_password.reasons);throw new Mw(Zn(n),t.status||500,r)}const db=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function Y(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Nc]||(i[Nc]=Jm["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const l=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await hb(t,e,n+l,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(c):{data:Object.assign({},c),error:null}}async function hb(t,e,n,r,s,i){const o=db(e,r,s,i);let l;try{l=await t(n,Object.assign({},o))}catch(c){throw console.error(c),new Tc(Zn(c),0)}if(l.ok||await $h(l),r!=null&&r.noResolveJson)return l;try{return await l.json()}catch(c){await $h(c)}}function en(t){var e;let n=null;gb(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Vw(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function Mh(t){const e=en(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function jn(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function fb(t){return{data:t,error:null}}function pb(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=cb(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},c=Object.assign({},o);return{data:{properties:l,user:c},error:null}}function mb(t){return t}function gb(t){return t.access_token&&t.refresh_token&&t.expires_in}const hl=["global","local","others"];var yb=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class vb{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=tg(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=hl[0]){if(hl.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${hl.join(", ")}`);try{return await Y(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Y(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:jn})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=yb(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await Y(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:pb,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(B(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Y(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:jn})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Y(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:mb});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const x=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),b=JSON.parse(v.split(";")[1].split("=")[1]);u[`${b}Page`]=x}),u.total=parseInt(f)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(B(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Sr(e);try{return await Y(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:jn})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Sr(e);try{return await Y(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:jn})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Sr(e);try{return await Y(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:jn})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Sr(e.userId);try{const{data:n,error:r}=await Y(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(B(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Sr(e.userId),Sr(e.id);try{return{data:await Y(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}}function Dh(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function xb(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Er={debug:!!(globalThis&&eg()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ng extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class wb extends ng{}async function bb(t,e,n){Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Er.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw Er.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new wb(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Er.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}xb();const kb={url:Iw,storageKey:Ow,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Rw,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Uh(t,e,n){return await n()}const jr={};class xi{constructor(e){var n,r;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=xi.nextInstanceID,xi.nextInstanceID+=1,this.instanceID>0&&Nt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},kb),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new vb({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=tg(s.fetch),this.lock=s.lock||Uh,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Nt()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=bb:this.lock=Uh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:eg()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Dh(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Dh(this.memoryStorage)),Nt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}get jwks(){var e,n;return(n=(e=jr[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){jr[this.storageKey]=Object.assign(Object.assign({},jr[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=jr[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){jr[this.storageKey]=Object.assign(Object.assign({},jr[this.storageKey]),{cachedAt:e})}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Qm}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=Qw(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Nt()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),zw(i)){const c=(e=i.details)===null||e===void 0?void 0:e.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",l),await this._saveSession(o),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return B(n)?{error:n}:{error:new Xm("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:en}),{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await _r(this.storage,this.storageKey)),i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:p,code_challenge_method:v},xform:en})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await Y(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:en})}else throw new ro("You must provide either an email or phone number and a password");const{data:o,error:l}=i;if(l||!o)return{data:{user:null,session:null},error:l};const c=o.session,u=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(i){if(B(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:l}=e;n=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Mh})}else if("phone"in e){const{phone:i,password:o,options:l}=e;n=await Y(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:Mh})}else throw new ro("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new no}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,l,c,u,d,h,f,p;let v,x;if("message"in e)v=e.message,x=e.signature;else{const{chain:b,wallet:y,statement:m,options:g}=e;let k;if(Nt())if(typeof y=="object")k=y;else{const E=window;if("solana"in E&&typeof E.solana=="object"&&("signIn"in E.solana&&typeof E.solana.signIn=="function"||"signMessage"in E.solana&&typeof E.solana.signMessage=="function"))k=E.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=y}const S=new URL((n=g==null?void 0:g.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in k&&k.signIn){const E=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:S.host,uri:S.href}),m?{statement:m}:null));let N;if(Array.isArray(E)&&E[0]&&typeof E[0]=="object")N=E[0];else if(E&&typeof E=="object"&&"signedMessage"in E&&"signature"in E)N=E;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in N&&"signature"in N&&(typeof N.signedMessage=="string"||N.signedMessage instanceof Uint8Array)&&N.signature instanceof Uint8Array)v=typeof N.signedMessage=="string"?N.signedMessage:new TextDecoder().decode(N.signedMessage),x=N.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${S.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${S.href}`,`Issued At: ${(s=(r=g==null?void 0:g.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((l=g==null?void 0:g.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((c=g==null?void 0:g.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((h=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...g.signInWithSolana.resources.map(N=>`- ${N}`)]:[]].join(`
`);const E=await k.signMessage(new TextEncoder().encode(v),"utf8");if(!E||!(E instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");x=E}}try{const{data:b,error:y}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Yw(x)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(p=e.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:en});if(y)throw y;return!b||!b.session||!b.user?{data:{user:null,session:null},error:new no}:(b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),{data:Object.assign({},b),error:y})}catch(b){if(B(b))return{data:{user:null,session:null},error:b};throw b}}async _exchangeCodeForSession(e){const n=await Kn(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await Y(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:en});if(await xn(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new no}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(B(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,l=await Y(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:en}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new no}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:l,options:c}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await _r(this.storage,this.storageKey));const{error:h}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(n=c==null?void 0:c.data)!==null&&n!==void 0?n:{},create_user:(r=c==null?void 0:c.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:l,options:c}=e,{data:u,error:d}=await Y(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(i=c==null?void 0:c.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(o=c==null?void 0:c.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new ro("You must provide either an email or phone number.")}catch(l){if(B(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:l}=await Y(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:en});if(l)throw l;if(!o)throw new Error("An error occurred on token verification.");const c=o.session,u=o.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await _r(this.storage,this.storageKey)),await Y(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:fb})}catch(i){if(B(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new bn;const{error:s}=await Y(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(B(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await Y(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:l}=await Y(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:l}}throw new ro("You must provide either an email or phone number and a type")}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Kn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<ll:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const o=await Kn(this.userStorage,this.storageKey+"-user");o!=null&&o.user?e.user=o.user:e.user=dl()}if(this.storage.isServer&&e.user){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(c,u,d)=>(!o&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:jn}):await this._useSession(async n=>{var r,s,i;const{data:o,error:l}=n;if(l)throw l;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new bn}:await Y(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:jn})})}catch(n){if(B(n))return Uw(n)&&(await this._removeSession(),await xn(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new bn;const o=s.session;let l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=await _r(this.storage,this.storageKey));const{data:u,error:d}=await Y(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:o.access_token,xform:jn});if(d)throw d;return o.user=u.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(B(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new bn;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=ul(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:l,error:c}=await this._callRefreshToken(e.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};i=l}else{const{data:l,error:c}=await this._getUser(e.access_token);if(c)throw c;i={access_token:e.access_token,refresh_token:e.refresh_token,user:l.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(B(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:l}=n;if(l)throw l;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new bn;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(B(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Nt())throw new so("No browser detected.");if(e.error||e.error_description||e.error_code)throw new so(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new Ch("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new so("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Ch("No code detected.");const{data:m,error:g}=await this._exchangeCodeForSession(e.code);if(g)throw g;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:l,expires_at:c,token_type:u}=e;if(!i||!l||!o||!u)throw new so("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(l);let f=d+h;c&&(f=parseInt(c));const p=f-d;p*1e3<=Ar&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${h}s`);const v=f-h;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,f,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,f,d);const{data:x,error:b}=await this._getUser(i);if(b)throw b;const y={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:u,user:x.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:e.type},error:null}}catch(r){if(B(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Kn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:l}=await this.admin.signOut(o,e);if(l&&!(Dw(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return e!=="others"&&(await this._removeSession(),await xn(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=Kw(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await _r(this.storage,this.storageKey,!0));try{return await Y(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(B(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,l,c,u,d;const{data:h,error:f}=i;if(f)throw f;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(l=e.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=e.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Y(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Nt()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(B(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await Y(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Zw(async s=>(s>0&&await Xw(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await Y(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:en})),(s,i)=>{const o=200*Math.pow(2,s);return i&&cl(i)&&Date.now()+o-r<Ar})}catch(r){if(this._debug(n,"error",r),B(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Nt()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const s=await Kn(this.storage,this.storageKey);if(s&&this.userStorage){let o=await Kn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!o&&(o={user:s.user},await Cr(this.userStorage,this.storageKey+"-user",o)),s.user=(e=o==null?void 0:o.user)!==null&&e!==void 0?e:dl()}else if(s&&!s.user&&!s.user){const o=await Kn(this.storage,this.storageKey+"-user");o&&(o!=null&&o.user)?(s.user=o.user,await xn(this.storage,this.storageKey+"-user"),await Cr(this.storage,this.storageKey,s)):s.user=dl()}if(this._debug(r,"session from storage",s),!this._isValidSession(s)){this._debug(r,"session is not valid"),s!==null&&await this._removeSession();return}const i=((n=s.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<ll;if(this._debug(r,`session has${i?"":" not"} expired with margin of ${ll}s`),i){if(this.autoRefreshToken&&s.refresh_token){const{error:o}=await this._callRefreshToken(s.refresh_token);o&&(console.error(o),cl(o)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:o,error:l}=await this._getUser(s.access_token);!l&&(o!=null&&o.user)?(s.user=o.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(o){console.error("Error getting user data:",o),this._debug(r,"error getting user data, skipping SIGNED_IN notification",o)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(r,"error",s),console.error(s);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new bn;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Sa;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new bn;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const l={session:i.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(i){if(this._debug(s,"error",i),B(i)){const o={session:null,error:i};return cl(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(e,n)}catch(c){i.push(c)}});if(await Promise.all(o),i.length>0){for(let l=0;l<i.length;l+=1)console.error(i[l]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Cr(this.userStorage,this.storageKey+"-user",{user:n.user});const s=Object.assign({},n);delete s.user;const i=Lh(s);await Cr(this.storage,this.storageKey,i)}else{const s=Lh(n);await Cr(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await xn(this.storage,this.storageKey),await xn(this.storage,this.storageKey+"-code-verifier"),await xn(this.storage,this.storageKey+"-user"),this.userStorage&&await xn(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Nt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Ar);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Ar);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Ar}ms, refresh threshold is ${jc} ticks`),s<=jc&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof ng)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Nt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await _r(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(l.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Y(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const l=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:c,error:u}=await Y(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return u?{data:null,error:u}:(e.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(n){if(B(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:l}=await Y(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:l})})}catch(n){if(B(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await Y(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(B(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=ul(s.access_token);let l=null;o.aal&&(l=o.aal);let c=l;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");const d=o.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(l=>l.kid===e);if(r)return r;const s=Date.now();if(r=this.jwks.keys.find(l=>l.kid===e),r&&this.jwks_cached_at+$w>s)return r;const{data:i,error:o}=await Y(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(o)throw o;return!i.keys||i.keys.length===0||(this.jwks=i,this.jwks_cached_at=s,r=i.keys.find(l=>l.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:p,error:v}=await this.getSession();if(v||!p.session)return{data:null,error:v};r=p.session.access_token}const{header:s,payload:i,signature:o,raw:{header:l,payload:c}}=ul(r);n!=null&&n.allowExpired||ob(i.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!u){const{error:p}=await this.getUser(r);if(p)throw p;return{data:{claims:i,header:s,signature:o},error:null}}const d=ab(s.alg),h=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,h,o,Gw(`${l}.${c}`)))throw new Ac("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(B(r))return{data:null,error:r};throw r}}}xi.nextInstanceID=0;const _b=xi;class Sb extends _b{constructor(e){super(e)}}var Eb=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function l(d){try{u(r.next(d))}catch(h){o(h)}}function c(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?i(d.value):s(d.value).then(l,c)}u((r=r.apply(t,e||[])).next())})};class jb{constructor(e,n,r){var s,i,o;this.supabaseUrl=e,this.supabaseKey=n;const l=Pw(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:bw,realtime:_w,auth:Object.assign(Object.assign({},kw),{storageKey:c}),global:ww},d=Cw(r??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=d.global.headers)!==null&&i!==void 0?i:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(h,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=d.auth)!==null&&o!==void 0?o:{},this.headers,d.global.fetch),this.fetch=Nw(n,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new Fx(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new yw(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new xx(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return Eb(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,storageKey:o,flowType:l,lock:c,debug:u},d,h){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Sb({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:o,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,userStorage:i,flowType:l,lock:c,debug:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new sw(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Nb=(t,e,n)=>new jb(t,e,n);function Tb(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}Tb()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const rg={}.VITE_SUPABASE_URL,sg={}.VITE_SUPABASE_ANON_KEY;if(!rg)throw new Error("Missing environment variable: VITE_SUPABASE_URL");if(!sg)throw new Error("Missing environment variable: VITE_SUPABASE_ANON_KEY");const Z=Nb(rg,sg),fl="advisor_profile";class Ge{static storeAdvisorProfile(e){var n;try{const r={...e,email:((n=e.email)==null?void 0:n.trim().toLowerCase())||e.email};localStorage.setItem(fl,JSON.stringify(r))}catch(r){console.error("Failed to store advisor profile:",r)}}static getStoredAdvisorProfile(){try{const e=localStorage.getItem(fl);if(!e)return null;const n=JSON.parse(e);if(!n.email)return n;const r=n.email.trim().toLowerCase();if(r===n.email)return n;const s={...n,email:r};return this.storeAdvisorProfile(s),s}catch{return null}}static clearStoredAdvisorProfile(){try{localStorage.removeItem(fl)}catch{}}static async login(e){var n,r,s;try{const{data:i,error:o}=await Z.auth.signInWithPassword({email:e.email,password:e.password});if(o)return o.message.includes("Email not confirmed")?{success:!1,error:"Please check your email and click the confirmation link before logging in."}:{success:!1,error:o.message};if(!i.user)return{success:!1,error:"Login failed"};let l=await this.getAdvisorProfile(i.user.id);if(!l&&i.user.email_confirmed_at){console.log("Creating missing advisor profile for confirmed user:",i.user.id);const d=((n=i.user.user_metadata)==null?void 0:n.name)||((r=i.user.email)==null?void 0:r.split("@")[0])||"Advisor",h=((s=i.user.user_metadata)==null?void 0:s.company)||null,{data:f,error:p}=await Z.from("advisor_profiles").insert({user_id:i.user.id,name:d,company:h}).select().single();if(!p&&f)l={id:f.id,user_id:f.user_id,email:i.user.email,name:f.name,company:f.company,created_at:f.created_at},console.log("Created advisor profile successfully:",l);else return console.error("Failed to create advisor profile:",p),{success:!1,error:"Failed to create advisor profile"}}if(!l)return{success:!1,error:"Advisor profile not found and could not be created"};const c=i.user.email?i.user.email.trim().toLowerCase():l.email,u={...l,email:c||l.email};return this.storeAdvisorProfile(u),{success:!0,advisor:u}}catch(i){return console.error("Login error:",i),{success:!1,error:i instanceof Error?i.message:"Login failed"}}}static async signup(e){try{const{data:n,error:r}=await Z.auth.signUp({email:e.email,password:e.password,options:{emailRedirectTo:`${window.location.origin}/advisor/dashboard`,data:{name:e.name,company:e.company||null}}});if(r)return{success:!1,error:r.message};if(!n.user)return{success:!1,error:"Signup failed"};if(!n.session&&!n.user.email_confirmed_at)return{success:!1,error:"Account created but requires email confirmation. Please check your email and then login."};if(!n.session){console.log("No session from signup, attempting to sign in user...");const l=await this.login({email:e.email,password:e.password});return l.success?{success:!0,advisor:l.advisor}:{success:!1,error:l.error||"Account created but login failed"}}const{data:s,error:i}=await Z.from("advisor_profiles").insert({user_id:n.session.user.id,name:e.name,company:e.company||null}).select().single();if(i)return console.error("Profile creation error:",i),{success:!1,error:`Profile creation failed: ${i.message}`};const o={id:s.id,user_id:s.user_id,email:n.session.user.email,name:s.name,company:s.company,created_at:s.created_at};return this.storeAdvisorProfile(o),{success:!0,advisor:o}}catch(n){return console.error("Signup error:",n),{success:!1,error:n instanceof Error?n.message:"Signup failed"}}}static async resendConfirmationEmail(e){try{const{error:n}=await Z.auth.resend({type:"signup",email:e});return n?{success:!1,error:n.message}:{success:!0}}catch(n){return{success:!1,error:n instanceof Error?n.message:"Failed to resend email"}}}static async logout(){await Z.auth.signOut(),this.clearStoredAdvisorProfile()}static async getCurrentUser(){const{data:{session:e},error:n}=await Z.auth.getSession();return n||!e?null:e.user??null}static async getSession(){return await Z.auth.getSession()}static async getCurrentAdvisor(){var e;try{const n=await this.getCurrentUser();if(!n)return null;const r=this.getStoredAdvisorProfile(),s=(e=r==null?void 0:r.email)==null?void 0:e.trim();if(r&&r.user_id===n.id&&s){const o=s.toLowerCase();if(o!==r.email){const l={...r,email:o};return this.storeAdvisorProfile(l),l}return r}const i=await this.getAdvisorProfile(n.id);if(i){const o=n.email?n.email.trim().toLowerCase():i.email,l={...i,email:o||i.email};return this.storeAdvisorProfile(l),l}return null}catch(n){return console.error("Error getting current advisor:",n),null}}static async isAuthenticated(){const{data:{session:e}}=await Z.auth.getSession();return!!e}static async getAdvisorProfile(e){try{console.log("Fetching advisor profile for userId:",e);const{data:n,error:r}=await Z.from("advisor_profiles").select("*").eq("user_id",e).single();return console.log("Advisor profile query result:",{data:n,error:r}),r||!n?(r==null?void 0:r.code)==="PGRST116"?(console.log("No advisor profile found (expected for new users)"),null):(console.log("No advisor profile found or error:",r),null):{id:n.id,user_id:n.user_id,email:"",name:n.name,company:n.company,created_at:n.created_at}}catch(n){return console.error("Error getting advisor profile:",n),null}}static async getAdvisorById(e){try{const{data:n,error:r}=await Z.from("advisor_profiles").select("*").eq("id",e).single();if(r||!n)return null;const{data:s}=await Z.auth.admin.getUserById(n.user_id);return s.user?{id:n.id,user_id:n.user_id,email:s.user.email,name:n.name,company:n.company,created_at:n.created_at}:null}catch(n){return console.error("Error getting advisor by ID:",n),null}}static onAuthStateChange(e){return Z.auth.onAuthStateChange(e)}}const ig=_.createContext(void 0);function Ab({children:t}){const[e,n]=_.useState(null),[r,s]=_.useState(!0);_.useEffect(()=>{let u=!0,d=!1;const h=async()=>{try{const{data:{session:p}}=await Ge.getSession();if(!(p!=null&&p.user)){u&&(n(null),s(!1),d=!0);return}const v=Ge.getStoredAdvisorProfile();if(v&&v.user_id===p.user.id){u&&(n(v),s(!1),d=!0);return}const x=await Ge.getAdvisorProfile(p.user.id);if(u){if(x){const b={...x,email:p.user.email};Ge.storeAdvisorProfile(b),n(b)}else n(null);s(!1),d=!0}}catch(p){console.error("Error in restoreSession:",p),u&&(n(null),s(!1),d=!0)}},{data:{subscription:f}}=Ge.onAuthStateChange(async(p,v)=>{if(console.log("Auth state change:",p,!!v),!!u){if(v!=null&&v.user)try{const x=Ge.getStoredAdvisorProfile();if(x&&x.user_id===v.user.id){n(x),d&&s(!1);return}const b=await Ge.getAdvisorProfile(v.user.id),y=b?{...b,email:v.user.email}:null;y?Ge.storeAdvisorProfile(y):Ge.clearStoredAdvisorProfile(),n(y)}catch(x){console.error("Error in auth state change:",x),Ge.clearStoredAdvisorProfile(),n(null)}else Ge.clearStoredAdvisorProfile(),n(null);d&&s(!1)}});return h(),()=>{u=!1,f.unsubscribe()}},[]);const c={advisor:e,isAuthenticated:!!e,isLoading:r,login:async u=>{const d=await Ge.login(u);return d.success&&d.advisor&&n(d.advisor),{success:d.success,error:d.error}},signup:async u=>{const d=await Ge.signup(u);return d.success&&d.advisor&&n(d.advisor),{success:d.success,error:d.error}},logout:async()=>{await Ge.logout(),n(null)}};return a.jsx(ig.Provider,{value:c,children:t})}function fs(){const t=_.useContext(ig);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function zh({children:t}){const{isAuthenticated:e,isLoading:n}=fs(),r=pn();return console.log("ProtectedRoute - isLoading:",n,"isAuthenticated:",e),n?a.jsx("div",{className:"min-h-screen professional-bg flex items-center justify-center",children:a.jsxs("div",{className:"modern-card text-center space-y-6",children:[a.jsx("div",{className:"w-20 h-20 mx-auto morph-shape bg-gradient-to-br from-primary-500 to-accent-500 flex items-center justify-center",children:a.jsx("div",{className:"w-10 h-10 border-4 border-white border-t-transparent rounded-full animate-spin"})}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Checking authentication..."}),a.jsx("p",{className:"text-gray-600 text-sm mt-2",children:"Restoring your session..."})]})]})}):e?a.jsx(a.Fragment,{children:t}):a.jsx(ex,{to:"/advisor/login",state:{from:r},replace:!0})}function Xo({children:t}){const e=pn(),[n,r]=_.useState(!1),{isAuthenticated:s}=fs(),i=c=>e.pathname.startsWith(c),o=_.useMemo(()=>{const c=[{label:"Assessment",to:"/assessment"},{label:"Advisor",to:"/advisor"}];return s&&c.push({label:"Advisor Dashboard",to:"/advisor/dashboard"}),c},[s]),l=_.useMemo(()=>[{heading:"Your Money Personality",links:[{label:"Start Assessment",to:"/assessment"},{label:"Advisor resources",to:"/advisor"},...s?[{label:"Advisor Dashboard",to:"/advisor/dashboard"}]:[{label:"Advisor Log In",to:"/advisor/login"}]]},{heading:"Help",links:[{label:"Contact Support",href:"mailto:support@enrich.org"},{label:"Privacy Policy",href:"https://www.igrad.com/privacy"},{label:"Terms of Use",href:"https://www.igrad.com/terms"}]}],[s]);return a.jsxs("div",{className:"min-h-screen bg-canvas text-ink flex flex-col",children:[a.jsx("a",{href:"#main-content",className:"skip-link",children:"Skip to content"}),a.jsxs("header",{className:"shadow-sm",children:[a.jsx("div",{className:"bg-primary-700",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"flex items-center justify-between h-16",children:[a.jsxs(ne,{to:"/",className:"flex items-center gap-3",children:[a.jsx("span",{className:"sr-only",children:"Enrich Home"}),a.jsx("img",{src:"https://media-cdn.igrad.com/IMAGE/Logos/Standard-White/Enrich.png",alt:"Enrich by iGrad",className:"h-8 w-auto"})]}),a.jsx("nav",{className:"hidden lg:flex items-center gap-8","aria-label":"Primary",children:o.map(c=>a.jsx(ne,{to:c.to,className:`text-sm font-semibold transition ${i(c.to)?"text-white":"text-white/80 hover:text-white"}`,children:c.label},c.to))}),a.jsxs("div",{className:"flex items-center gap-4 lg:gap-6",children:[a.jsx(ne,{to:"/assessment",className:"hidden lg:inline-flex items-center rounded-full bg-white px-4 py-2 text-sm font-semibold text-primary-700 transition hover:bg-white/90",children:"Start Assessment"}),a.jsxs("button",{type:"button",className:"lg:hidden rounded-md border border-white/30 p-2 text-white",onClick:()=>r(c=>!c),"aria-label":"Toggle navigation",children:[a.jsx("span",{className:"sr-only",children:"Toggle navigation"}),a.jsx("svg",{className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:a.jsx("path",{fillRule:"evenodd",d:"M3 5h14a1 1 0 010 2H3a1 1 0 010-2zm0 4h14a1 1 0 010 2H3a1 1 0 010-2zm0 4h14a1 1 0 010 2H3a1 1 0 010-2z",clipRule:"evenodd"})})]})]})]})})}),n&&a.jsx("div",{className:"lg:hidden border-t border-white/20 bg-primary-700",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 space-y-6",children:[a.jsx("nav",{className:"space-y-4","aria-label":"Mobile",children:o.map(c=>a.jsx(ne,{to:c.to,onClick:()=>r(!1),className:`block text-base font-semibold ${i(c.to)?"text-white":"text-white/80 hover:text-white"}`,children:c.label},c.to))}),a.jsx(ne,{to:"/assessment",onClick:()=>r(!1),className:"inline-flex items-center justify-center rounded-full bg-white px-4 py-2 text-sm font-semibold text-primary-700 transition hover:bg-white/90",children:"Start Assessment"})]})})]}),a.jsx("main",{id:"main-content",className:"flex-1",children:t}),a.jsxs("footer",{className:"bg-white border-t border-neutral-200 text-ink mt-24",children:[a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:a.jsxs("div",{className:"grid gap-12 lg:grid-cols-3",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("img",{src:"https://media-cdn.igrad.com/IMAGE/Logos/Color/iGradEnrich.png",alt:"Enrich by iGrad",className:"h-8 w-auto"}),a.jsx("p",{className:"text-sm text-neutral-600 leading-relaxed",children:"Your Money Personality is an Enrich experience that helps individuals understand the motivations behind their money decisions."})]}),l.map(c=>a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"text-sm font-semibold uppercase tracking-wide text-neutral-500",children:c.heading}),a.jsx("ul",{className:"space-y-3 text-sm",children:c.links.map(u=>{var d,h;return a.jsx("li",{children:u.to?a.jsx(ne,{to:u.to,className:"text-neutral-600 transition hover:text-primary-700",children:u.label}):a.jsx("a",{href:u.href,className:"text-neutral-600 transition hover:text-primary-700",target:(d=u.href)!=null&&d.startsWith("http")?"_blank":void 0,rel:(h=u.href)!=null&&h.startsWith("http")?"noreferrer":void 0,children:u.label})},u.label)})})]},c.heading))]})}),a.jsx("div",{className:"border-t border-neutral-200",children:a.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6 flex flex-col gap-2 text-xs text-neutral-500 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("span",{children:["© ",new Date().getFullYear()," Enrich by Aztec | iGrad. All rights reserved."]}),a.jsx("span",{children:"Enrich is a registered trademark of iGrad, Inc."})]})})]})]})}const Cb=[{label:"Completed assessments",value:"500K+"},{label:"Average completion time",value:"10 minutes"},{label:"Personality lenses",value:"5 core styles"}],Pb=[{title:"Personalized guidance",description:"Discover the motivators behind spending, saving, and planning so you can make confident choices that fit your life.",image:{src:"https://enrich.org/wp-content/uploads/2024/10/small_Woman_smiling_while_using_laptop_to_view_reporting_console_07897d71ee-e1728799046817.webp",alt:"Participant smiling while reviewing financial wellness insights on a laptop."}},{title:"Dashboard follow-up",description:"Review tailored insights and recommended next steps inside the Money Personality dashboard after you finish.",image:{src:"https://enrich.org/wp-content/uploads/2024/12/maxresdefault.jpg",alt:"Straight-on preview of the Money Personality dashboard video cover."}},{title:"Advisor collaboration",description:"Share results securely with an Enrich advisor or trusted partner to continue the financial wellness conversation.",image:{src:"https://enrich.org/wp-content/uploads/2024/10/small_Home_Page_Block_2_e828cca6d4.webp",alt:"Advisor collaborating virtually with a participant over shared resources."}}],Ib=[{title:"Answer intuitive questions",description:"Work through a short series of statements about money habits. Use the seven-point scale to choose what fits you best."},{title:"Reveal your personality blend",description:"Instantly see how your motivations align to our five Money Personality styles with plain-language descriptions."},{title:"Put insights to work",description:"Jump into the dashboard for reflection exercises, coaching prompts, and actions you can revisit over time."}];function Ob(){return a.jsx(Xo,{children:a.jsxs("div",{className:"bg-canvas",children:[a.jsx("section",{id:"hero",className:"hero-section hero-section--full",children:a.jsx("div",{className:"hero-section__inner",children:a.jsxs("div",{className:"hero-card",children:[a.jsx("div",{className:"hero-card__accent hero-card__accent--dots","aria-hidden":"true"}),a.jsx("div",{className:"hero-card__accent hero-card__accent--orb","aria-hidden":"true"}),a.jsxs("div",{className:"hero-card__layout",children:[a.jsxs("div",{className:"hero-card__content",children:[a.jsx("p",{className:"hero-card__kicker",children:"Your Money Personality"}),a.jsx("h1",{className:"hero-card__title",children:"Feel confident about your financial choices—one step at a time"}),a.jsx("p",{className:"hero-card__description",children:"Explore the Your Money Personality assessment to understand the motivations guiding how you save, spend, and plan. It only takes a few minutes to reveal insights you can use right away."}),a.jsxs("div",{className:"hero-card__actions",children:[a.jsx(ne,{to:"/assessment",className:"btn-primary",children:"Start assessment"}),a.jsx(ne,{to:"/dashboard",className:"btn-secondary",children:"View sample results"})]})]}),a.jsx("div",{className:"hero-card__media","aria-hidden":"true",children:a.jsx("div",{className:"hero-card__photo-frame",children:a.jsx("img",{src:"https://media-cdn.igrad.com/IMAGE/hub-redesign/enrich/home-hero.webp",alt:"Parent and child smiling while reviewing Money Personality guidance"})})})]}),a.jsx("dl",{className:"hero-card__stats",children:Cb.map(t=>a.jsxs("div",{className:"hero-card__stat",children:[a.jsx("dt",{children:t.label}),a.jsx("dd",{children:t.value})]},t.label))})]})})}),a.jsx("section",{className:"py-20",id:"how-it-works",children:a.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8",children:[a.jsxs("div",{className:"max-w-3xl",children:[a.jsx("p",{className:"text-sm font-semibold uppercase tracking-[0.28em] text-primary-500",children:"How it works"}),a.jsx("h2",{className:"mt-4 text-3xl font-semibold text-ink",children:"A focused experience built around self-reflection"}),a.jsx("p",{className:"mt-4 text-neutral-700",children:"Your Money Personality keeps the process simple so you can concentrate on honest answers. Progress saves automatically, and you can move back to adjust selections at any point."})]}),a.jsx("ol",{className:"mt-12 grid gap-8 md:grid-cols-3",children:Ib.map((t,e)=>a.jsxs("li",{className:"rounded-3xl border border-neutral-200 bg-white p-6 shadow-subtle space-y-4",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm font-semibold text-primary-500",children:[a.jsxs("span",{children:["Step ",e+1]}),a.jsx("span",{className:"inline-flex h-9 w-9 items-center justify-center rounded-full bg-primary-100 text-primary-700",children:e+1})]}),a.jsx("h3",{className:"text-xl font-semibold text-ink",children:t.title}),a.jsx("p",{className:"text-neutral-700 leading-relaxed",children:t.description})]},t.title))})]})}),a.jsx("section",{className:"py-20 bg-white",id:"highlights",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 space-y-12",children:[a.jsxs("div",{className:"max-w-3xl",children:[a.jsx("p",{className:"text-sm font-semibold uppercase tracking-[0.28em] text-primary-500",children:"What you gain"}),a.jsx("h2",{className:"mt-4 text-3xl font-semibold text-ink",children:"Insights that translate into practical next steps"}),a.jsx("p",{className:"mt-4 text-neutral-700",children:"Each Money Personality report combines narrative guidance with prompts you can return to over time. Use it on your own or as a conversation starter with someone you trust."})]}),a.jsx("div",{className:"grid gap-10 lg:grid-cols-3",children:Pb.map(t=>a.jsxs("article",{className:"space-y-5",children:[a.jsx("div",{className:"feature-card__media",children:a.jsx("div",{className:"feature-card__image-frame",children:a.jsx("img",{src:t.image.src,alt:t.image.alt})})}),a.jsx("h3",{className:"text-2xl font-semibold text-ink",children:t.title}),a.jsx("p",{className:"text-neutral-700 leading-relaxed",children:t.description})]},t.title))})]})}),a.jsx("section",{className:"py-20",id:"share",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 grid gap-16 lg:grid-cols-[1.05fr_0.95fr] items-center",children:[a.jsxs("div",{className:"space-y-6",children:[a.jsx("h2",{className:"text-3xl font-semibold text-ink",children:"Share your results when you are ready"}),a.jsx("p",{className:"text-neutral-700",children:"Bring others into the journey when it makes sense. Advisors receive AI-powered summaries to guide coaching, while friend shares focus on mutual reflection without the advisor insights layer."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsx(ne,{to:"/advisor",className:"btn-secondary",children:"Share with an advisor"}),a.jsx(ne,{to:"/dashboard",className:"btn-link",children:"Share with a friend"})]})]}),a.jsx("div",{className:"share-card__media",children:a.jsx("div",{className:"share-card__image-frame",children:a.jsx("img",{src:"https://images.pexels.com/photos/1181356/pexels-photo-1181356.jpeg?auto=compress&cs=tinysrgb&w=1200&h=900&dpr=1",alt:"Two colleagues collaborating over a laptop while reviewing assessment responses."})})})]})}),a.jsx("section",{className:"py-20 bg-white",id:"cta",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center space-y-6",children:[a.jsx("h2",{className:"text-3xl font-semibold text-ink",children:"Begin your Money Personality journey"}),a.jsx("p",{className:"text-neutral-700 max-w-3xl mx-auto",children:"Set aside a quiet moment, work through the assessment at your own pace, and return to your dashboard whenever you need a refresher. Your progress is saved so you can pick up right where you left off."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsx(ne,{to:"/assessment",className:"btn-primary",children:"Start assessment"}),a.jsx(ne,{to:"/dashboard",className:"btn-secondary",children:"Continue where you left off"})]})]})})]})})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Rb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),De=(t,e)=>{const n=_.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:l="",children:c,...u},d)=>_.createElement("svg",{ref:d,...Rb,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:["lucide",`lucide-${Lb(t)}`,l].join(" "),...u},[...e.map(([h,f])=>_.createElement(h,f)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=De("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fh=De("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Us=De("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mb=De("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=De("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zb=De("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=De("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bb=De("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=De("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=De("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=De("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=De("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=De("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=De("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=De("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const og=De("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),ag="https://yourmoneypersonality.com/sample-report-placeholder.pdf";function lg({clientDisplayName:t,advisorName:e}){const n=e==null?void 0:e.trim(),r=n?` from ${n}`:"";return{subjectLine:`Thank you for forwarding YMP to ${t}`,headline:"Thank you for forwarding YMP to your client! 🎉",intro:`We've just sent ${t} a secure link to discover their Money Personality${r}.`,bullets:["The invitation will arrive in the next few minutes from Money Personality (notifications@yourmoneypersonality.com).","We will email you again as soon as your client completes the assessment so you can review their full report and AI insights.","Visit your advisor dashboard anytime to monitor invitations, resend links, or unlock completed Money Personality reports."],sample:{heading:"Show clients the experience",description:"While you wait, preview the Money Personality summary and AI insights they'll see once you unlock their results.",ctaLabel:"Download sample report"},dashboard:{description:"Ready to manage invitations or explore pricing? Head to your advisor dashboard to take the next step.",ctaLabel:"Open advisor dashboard"},support:"Need to update details or have a question? Reply to this email or contact support@yourmoneypersonality.com and our team will help.",closing:"Thanks again for introducing Money Personality to your clients—deeper conversations start here.",signature:"— The Your Money Personality Team"}}const Nr="Money Personality <notifications@yourmoneypersonality.com>",qb="leads-placeholder@yourdomain.com";class Tr{static async sendAssessmentInvitation(e,n,r,s,i){try{const o=i||"there",l=await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({from:Nr,to:[r],subject:`${e} is asking you to discover your Money Personality!`,html:`
          <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
            <div style="text-align: center; margin-bottom: 30px;">
              <img src="https://media-cdn.igrad.com/IMAGE/Logos/Color/iGradEnrich.png" alt="iGrad Enrich" style="height: 40px;">
            </div>
            
            <h2 style="color: #2563eb; text-align: center;">Discover Your Money Personality</h2>
            
            <p>Hi ${o},</p>
            
            <p><strong>${e}</strong> has invited you to take the Money Personality assessment to better understand your financial behaviors and decision-making patterns.</p>
            
            <p>This scientifically-designed assessment takes about 10 minutes and will help ${e} provide you with more personalized financial guidance.</p>
            
            <div style="text-align: center; margin: 30px 0;">
              <a href="${s}" style="background-color: #2563eb; color: white; padding: 15px 30px; text-decoration: none; border-radius: 8px; font-weight: bold; display: inline-block; text-align: center;">
                Take Assessment Now
              </a>
            </div>
            
            <p style="font-size: 14px; color: #666;">
              This assessment is completely confidential and your results will only be shared with ${e} to help them better serve your financial needs.
            </p>
            
            <p style="font-size: 14px; color: #666;">
              If you have any questions, please contact ${e} at ${n}.
            </p>
            
            <hr style="margin: 30px 0; border: none; border-top: 1px solid #eee;">
            
            <p style="font-size: 12px; color: #999; text-align: center;">
              This email was sent by iGrad Enrich Money Personality Assessment
            </p>
          </div>
          `})});if(!l.ok){const c=await l.text();return console.error("Email API error:",l.status,c),!1}return!0}catch(o){return console.error("Error sending assessment invitation:",o),!1}}static async sendInternalLeadNotification(e,n,r,s,i){try{const o=i||"Prospective client",l=await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({from:Nr,to:[qb],subject:`New Money Personality referral from ${e}`,html:`
          <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
            <div style="text-align: center; margin-bottom: 24px;">
              <img src="https://media-cdn.igrad.com/IMAGE/Logos/Color/iGradEnrich.png" alt="iGrad Enrich" style="height: 36px;">
            </div>

            <h2 style="color: #2563eb; text-align: center; margin-bottom: 16px;">New Advisor Referral Submitted</h2>

            <p style="margin-bottom: 12px;">An advisor has just shared the Money Personality assessment:</p>
            <ul style="margin: 0 0 16px 20px; padding: 0; color: #111827;">
              <li><strong>Advisor:</strong> ${e} (${n})</li>
              <li><strong>Client:</strong> ${o} (${r})</li>
              <li><strong>Assessment Link:</strong> <a href="${s}">${s}</a></li>
            </ul>

            <p style="font-size: 14px; color: #4b5563; margin-bottom: 0;">Log this lead in CRM and follow up as needed.</p>

            <hr style="margin: 30px 0; border: none; border-top: 1px solid #e5e7eb;">
            <p style="font-size: 12px; color: #9ca3af; text-align: center;">This alert was generated automatically by the Your Money Personality platform.</p>
          </div>
          `})});if(!l.ok){const c=await l.text();return console.error("Internal lead notification error:",l.status,c),!1}return!0}catch(o){return console.error("Error sending internal lead notification:",o),!1}}static async sendAdvisorShareConfirmation(e,n,r,s,i){try{const o=(i==null?void 0:i.clientName)||r,l=(i==null?void 0:i.sampleReportUrl)||ag,c=!!(i!=null&&i.qualifiesForTrial),u=`${window.location.origin}/advisor/dashboard`,d=lg({clientDisplayName:o,advisorName:n}),h=d.bullets.map(v=>`
            <li style="margin-bottom: 8px;">
              ${v}
            </li>
          `).join(""),f=c?`
          <div style="background-color: #ecfdf5; border: 1px solid #6ee7b7; border-radius: 8px; padding: 16px; margin: 24px 0;">
            <h3 style="margin: 0 0 8px; color: #047857;">Complimentary preview unlocked</h3>
            <p style="margin: 0; color: #065f46;">
              Because this is your first Money Personality invitation, you'll be able to review ${o}'s full results at no cost once they finish the assessment.
            </p>
          </div>
        `:`
          <p style="margin: 0 0 16px; color: #4b5563;">
            We'll follow up as soon as your client completes the assessment so you can unlock their full Money Personality report.
          </p>
        `,p=await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({from:Nr,to:[e],subject:d.subjectLine,html:`
          <div style="font-family: Arial, sans-serif; max-width: 640px; margin: 0 auto; padding: 24px;">
            <div style="text-align: center; margin-bottom: 24px;">
              <img src="https://media-cdn.igrad.com/IMAGE/Logos/Color/iGradEnrich.png" alt="iGrad Enrich" style="height: 36px;">
            </div>

            <h2 style="color: #2563eb; text-align: center; margin-bottom: 16px;">${d.headline}</h2>

            <p style="margin: 0 0 16px; color: #111827;">
              Hi ${n||"there"},
            </p>

            <p style="margin: 0 0 16px; color: #4b5563;">
              ${d.intro}
            </p>

            <ul style="margin: 0 0 24px 20px; padding: 0; color: #111827;">
              ${h}
            </ul>

            ${f}

            <div style="background: #f9fafb; border-radius: 8px; padding: 16px; margin-bottom: 24px;">
              <h3 style="margin: 0 0 8px; color: #1f2937;">${d.sample.heading}</h3>
              <p style="margin: 0 0 12px; color: #4b5563;">
                ${d.sample.description}
              </p>
              <a href="${l}" style="display: inline-block; border: 1px solid #2563eb; color: #2563eb; padding: 10px 20px; border-radius: 6px; text-decoration: none; font-weight: 600;">${d.sample.ctaLabel}</a>
            </div>

            <div style="background: #eef2ff; border-radius: 8px; padding: 16px; margin-bottom: 24px;">
              <h3 style="margin: 0 0 8px; color: #3730a3;">Need the link again?</h3>
              <p style="margin: 0 0 8px; color: #4338ca;">You can copy or resend the assessment link anytime:</p>
              <a href="${s}" style="display: inline-block; background-color: #4338ca; color: white; padding: 12px 24px; border-radius: 6px; text-decoration: none; font-weight: 600;">Open invite link</a>
            </div>

            <div style="border-top: 1px solid #e5e7eb; padding-top: 16px; margin-bottom: 24px;">
              <p style="margin: 0 0 12px; color: #4b5563;">
                ${d.dashboard.description}
              </p>
              <a href="${u}" style="display: inline-block; background-color: #2563eb; color: white; padding: 12px 24px; border-radius: 6px; text-decoration: none; font-weight: 600;">${d.dashboard.ctaLabel}</a>
            </div>

            <div style="border-top: 1px solid #e5e7eb; padding-top: 16px; color: #4b5563;">
              <p style="margin: 0 0 12px;">${d.support}</p>
              <p style="margin: 0 0 12px;">${d.closing}</p>
              <p style="margin: 0; font-weight: 600;">${d.signature}</p>
            </div>
          </div>
          `})});if(!p.ok){const v=await p.text();return console.error("Advisor confirmation email error:",p.status,v),!1}return!0}catch(o){return console.error("Error sending advisor share confirmation:",o),!1}}static async sendCompletionNotification(e,n,r,s){try{const i=s||"Your client",o=await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({from:Nr,to:[e],subject:`Money Personality Assessment Completed${s?` - ${s}`:""}`,html:`
          <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
            <div style="text-align: center; margin-bottom: 30px;">
              <img src="https://media-cdn.igrad.com/IMAGE/Logos/Color/iGradEnrich.png" alt="iGrad Enrich" style="height: 40px;">
            </div>
            
            <h2 style="color: #22c55e; text-align: center;">Assessment Completed! ✅</h2>
            
            <p>Hi ${n},</p>
            
            <p><strong>${i}</strong> (${r}) has completed their Money Personality assessment!</p>
            
            <p>You can now access their detailed results, including:</p>
            <ul>
              <li>Complete personality profile across 5 dimensions</li>
              <li>Behavioral strengths and challenges</li>
              <li>Personalized action plans</li>
              <li>AI-powered advisor recommendations</li>
            </ul>
            
            <div style="text-align: center; margin: 30px 0;">
              <a href="${window.location.origin}/advisor/dashboard" style="background-color: #22c55e; color: white; padding: 15px 30px; text-decoration: none; border-radius: 8px; font-weight: bold; display: inline-block;">
                View Dashboard
              </a>
            </div>
            
            <p style="font-size: 14px; color: #666;">
              Use these insights to provide more personalized financial guidance and build stronger client relationships.
            </p>
            
            <hr style="margin: 30px 0; border: none; border-top: 1px solid #eee;">
            
            <p style="font-size: 12px; color: #999; text-align: center;">
              This email was sent by iGrad Enrich Money Personality Assessment
            </p>
          </div>
          `})});if(!o.ok){const l=await o.text();return console.error("Email API error:",o.status,l),!1}return!0}catch(i){return console.error("Error sending completion notification:",i),!1}}static async sendFriendAssessmentInvitation(e,n,r,s,i,o){try{const l=await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({from:Nr,to:[r],subject:`${e} invited you to discover your Money Personality`,html:`
          <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
            <div style="text-align: center; margin-bottom: 30px;">
              <img src="https://media-cdn.igrad.com/IMAGE/Logos/Color/iGradEnrich.png" alt="iGrad Enrich" style="height: 40px;">
            </div>

            <h2 style="color: #2563eb; text-align: center;">${e} wants to compare Money Personalities!</h2>

            <p>Hello there,</p>

            <p><strong>${e}</strong> would love for you to take the Money Personality assessment so you can explore how your perspectives on money work together as ${i.toLowerCase()}.</p>

            ${o?`<p style="background-color: #eff6ff; padding: 16px; border-radius: 8px;">${o}</p>`:""}

            <p>The assessment only takes about 10 minutes. Once you are finished, you'll both receive a compatibility breakdown that highlights strengths, watch-outs, and conversation starters tailored to your results.</p>

            <div style="text-align: center; margin: 30px 0;">
              <a href="${s}" style="background-color: #2563eb; color: white; padding: 15px 30px; text-decoration: none; border-radius: 8px; font-weight: bold; display: inline-block; text-align: center;">
                Take Assessment Now
              </a>
            </div>

            <p style="font-size: 14px; color: #666;">Questions? You can reply directly to ${n}.</p>

            <hr style="margin: 30px 0; border: none; border-top: 1px solid #eee;">

            <p style="font-size: 12px; color: #999; text-align: center;">
              This email was sent by iGrad Enrich Money Personality Assessment
            </p>
          </div>
          `})});if(!l.ok){const c=await l.text();return console.error("Email API error:",l.status,c),!1}return!0}catch(l){return console.error("Error sending friend assessment invitation:",l),!1}}static async sendFriendCompletionNotification(e,n,r,s){try{const i=s.alignmentHighlights.slice(0,2).map(c=>`<li>${c}</li>`).join(""),o=s.potentialFriction.slice(0,2).map(c=>`<li>${c}</li>`).join(""),l=await fetch("/api/send-email",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({from:Nr,to:[e],subject:`${r} finished the Money Personality assessment!`,html:`
          <div style="font-family: Arial, sans-serif; max-width: 600px; margin: 0 auto; padding: 20px;">
            <div style="text-align: center; margin-bottom: 30px;">
              <img src="https://media-cdn.igrad.com/IMAGE/Logos/Color/iGradEnrich.png" alt="iGrad Enrich" style="height: 40px;">
            </div>

            <h2 style="color: #16a34a; text-align: center;">Compatibility insights are ready</h2>

            <p>Hi ${n},</p>

            <p><strong>${r}</strong> just completed the Money Personality assessment. Here's a preview of your compatibility results:</p>

            <p style="font-weight: bold;">Score: ${s.compatibilityScore} (${s.compatibilityLabel})</p>
            <p>${s.summary}</p>

            ${i?`<h3>Shared strengths</h3><ul>${i}</ul>`:""}
            ${o?`<h3>Conversation opportunities</h3><ul>${o}</ul>`:""}

            <div style="text-align: center; margin: 30px 0;">
              <a href="${window.location.origin}/dashboard" style="background-color: #2563eb; color: white; padding: 15px 30px; text-decoration: none; border-radius: 8px; font-weight: bold; display: inline-block;">
                View Full Compatibility Insights
              </a>
            </div>

            <p style="font-size: 14px; color: #666;">Keep the momentum going by scheduling a quick money check-in together.</p>

            <hr style="margin: 30px 0; border: none; border-top: 1px solid #eee;">

            <p style="font-size: 12px; color: #999; text-align: center;">
              This email was sent by iGrad Enrich Money Personality Assessment
            </p>
          </div>
          `})});if(!l.ok){const c=await l.text();return console.error("Email API error:",l.status,c),!1}return!0}catch(i){return console.error("Error sending friend completion notification:",i),!1}}}const Wh="ymp_user_id";function Hh(){if(typeof window>"u")return"server";let t=localStorage.getItem(Wh);return t||(t=`user_${Math.random().toString(36).slice(2,8)}${Date.now().toString(36)}`,localStorage.setItem(Wh,t)),t}const Gb={Focus:{label:"Financial Focus",conversationStarter:"Decide how much structure versus spontaneity you both need in your monthly spending plan.",bandLanguage:{high:"structure-loving planners",medium:"balanced planners",low:"spontaneous spenders"}},Emotions:{label:"Emotional Relationship with Money",conversationStarter:"Share the money situations that bring you the most stress and what helps you feel supported.",bandLanguage:{high:"deep feelers who track every dollar",medium:"steady navigators",low:"easygoing optimists"}},Outlook:{label:"Financial Outlook",conversationStarter:"Set aside time to dream about long-term goals and compare what “security” means to each of you.",bandLanguage:{high:"big-picture optimists",medium:"practical realists",low:"healthy skeptics"}},Influence:{label:"Decision-Making Style",conversationStarter:"Discuss who you turn to for financial advice and how comfortable you are making solo decisions.",bandLanguage:{high:"collaborative decision-makers",medium:"selectively social planners",low:"independent navigators"}},Bonus:{label:"Lifestyle & Change Orientation",conversationStarter:"Agree on how often you want to try something new versus keep to proven routines with money.",bandLanguage:{high:"change-seeking adventurers",medium:"flexible explorers",low:"steady traditionalists"}}},qh=["Focus","Emotions","Outlook","Influence","Bonus"];function Gh(t){return typeof t!="number"?"medium":t>=45?"high":t>=32?"medium":"low"}function Yb(t){return t>=70?"High Alignment":t>=45?"Balanced Blend":"Growth Opportunity"}function Vb(t){return t.length===0?"":t.length===1?t[0]:t.length===2?`${t[0]} and ${t[1]}`:`${t.slice(0,-1).join(", ")}, and ${t[t.length-1]}`}function Kb(t,e){const n=t.personalityScores||{},r=e.personalityScores||{},s=Array.from(new Set(t.personalities.filter(x=>e.personalities.includes(x)))),i=[],o=[],l=[],c=[];let u=0;qh.forEach(x=>{const b=Gb[x],y=n[x],m=r[x],g=Gh(y),k=Gh(m),S=b.bandLanguage[g],E=b.bandLanguage[k],N=Math.abs((y||0)-(m||0));u+=N;const A=Math.abs(["low","medium","high"].indexOf(g)-["low","medium","high"].indexOf(k));A===0?o.push(`You both operate as ${S} when it comes to ${b.label.toLowerCase()}, keeping decisions feeling natural for each other.`):A===1?(i.push(`${b.label}: You naturally show up as ${S}, while your partner brings ${E}, giving you a healthy mix of structure and flexibility.`),c.push(b.conversationStarter)):(l.push(`${b.label} styles are quite different—one of you shows up as ${S} while the other is more of a ${E}. Create shared guardrails so both styles feel respected.`),c.push(b.conversationStarter))});const d=54,h=Math.max(5,Math.min(100,Math.round(100-u/(qh.length*d)*100))),f=Yb(h),p=[];p.push(`Your Money Personalities create a ${f.toLowerCase()} dynamic with a compatibility score of ${h}.`),s.length>0&&p.push(`You both strongly identify with ${Vb(s)}, giving you common ground to build from.`),o.length>0&&p.push("Several core money habits line up naturally, helping day-to-day coordination feel easier."),l.length>0&&p.push("There are also a few areas where you will benefit from intentional conversations to avoid frustration.");const v=p.join(" ");return{compatibilityScore:h,compatibilityLabel:f,summary:v,sharedTraits:s,complementaryDynamics:i,alignmentHighlights:o,potentialFriction:l,conversationStarters:Array.from(new Set(c)).slice(0,5)}}const Dt=["I often spend money without considering whether it could be put to better use elsewhere.","I don't really think too much about the future – whatever is going to happen will happen.","I am too busy worrying about today to really plan far in advance.","I am saving as much money as I possibly can.","I am willing to make sacrifices now to put more money in my savings account.","I have specific plans for how I will achieve my goals.","I feel panicky when an unexpected expense arises.","I worry about money all the time.","I can become distressed when making decisions involving money.","I would rather save money than spend it.","I try to avoid going into debt whenever possible.","I usually think carefully about making a new purchase.","It feels good to spend money on myself.","I usually make decisions very quickly.","I tend to buy things I hadn't planned to buy.","I usually get depressed after making a financial decision.","I expect my financial situation will always stay the same or get worse.","If I am not careful, people will try to take advantage of me.","If I got a juicy stock tip, I would invest some money, as long as it fit into my budget.","When hit with an unexpected financial setback, I know I'll find a way to work it out.","I know if I needed to quit my job I would be OK.","I only purchase car insurance because it's required, not because I'll ever need it.","When I play the lottery or gamble, it's because I believe I will beat the odds.","I tend to be better than most people at most things.","I often rely on my friends or family for financial advice.","I enjoy buying really nice gifts for people.","I would spend outside of my budget in order to join friends or family at an expensive restaurant.","I am in a better position than anyone else to make decisions about my finances.","It is annoying when others tell me how I should spend my money.","Most of the time I tend to make financial decisions without receiving any advice.","I am comfortable letting someone else in my life make all of the major financial decisions.","I avoid talking about money because I feel that people will judge me.","I tend to avoid thinking about money.","I always know the balance in my checking account.","I have all of my important documents (such as insurance policies) carefully stored where I can find them.","Paying my bills on time each month gives me a good feeling.","I would quit a job without having another job if I was unhappy.","I tend to get bored easily.","I feel that life is an adventure.","I believe money is meant to be enjoyed.","Going shopping makes me feel better.","I would go on vacation and put it all on a credit card."],Du={1:"Focus",2:"Focus",3:"Focus",4:"Focus",5:"Focus",6:"Focus",7:"Emotions",8:"Emotions",9:"Emotions",10:"Emotions",11:"Emotions",12:"Emotions",13:"Emotions",14:"Emotions",15:"Emotions",16:"Outlook",17:"Outlook",18:"Outlook",19:"Outlook",20:"Outlook",21:"Outlook",22:"Outlook",23:"Outlook",24:"Outlook",25:"Influence",26:"Influence",27:"Influence",28:"Influence",29:"Influence",30:"Influence",31:"Influence",32:"Influence",33:"Influence",34:"Bonus",35:"Bonus",36:"Bonus",37:"Bonus",38:"Bonus",39:"Bonus",40:"Bonus",41:"Bonus",42:"Bonus"},tt={EMOTIONS:{Apprehensive:{image:"https://igrad-smedia-igrad.netdna-ssl.com/IMAGE/Money-Personality/characters/emotions/apprehensive.svg",description:"Apprehensive financial types frequently worry about money. They may be financially strapped or navigating a temporary rough patch, or they may simply be anxious in general. They often second-guess their financial decisions and are constantly aware of how much (or how little) money they have. They live with an unhealthy fear of unexpected expenses or of losing control of their financial lives. On the other hand, when things are operating smoothly, they may thrive in planning and organization.",strengths:["You likely have an above-average understanding of financial principles and a keen awareness of your own financial situation and responsibilities.","You rarely waste money on frivolous things. You are not as susceptible as others to the temptations of tricky advertising or impulse purchases.","When making big decisions you tend to weigh your options and conduct thorough research; your decisions are generally practical and well-thought-out."],challenges:["Sometimes it's easier not to think about financial challenges or responsibilities. High levels of anxiety may lead you into this type of avoidance behavior.","Financial stress (real or imagined) may lead you to keep more money than necessary locked up in savings, therefore disregarding its investment potential.","You may not feel that you have the knowledge or the discipline to compare financial options and make the best decisions, even if you're fully capable."],actionPlans:[{title:"Put your financial life on autopilot.",description:`Sign up for online bill pay. If your bills are paid automatically each month you won't spend extra time thinking about them. You can also find tools to set up "push" notifications that will help you anticipate events in an orderly, structured manner and reduce anxiety.`},{title:"Engage in practical daydreaming.",description:"Use visualization techniques to imagine how small behavioral changes can have big effects. Then resolve to do just one measurable thing every day to improve your finances. Start with something simple, like making a daily contribution to a savings jar and watching it grow."},{title:"Write out your budget.",description:"Try tracking how much money you have coming in and out on a consistent basis with a budget and projecting it forward with best-case scenarios. You can hopefully ease your money worries with a sense of predictability and pattern."}],priority:2,groupNumber:1,orderBy:1},Cautious:{image:"https://igrad-smedia-igrad.netdna-ssl.com/IMAGE/Money-Personality/characters/emotions/cautious.svg",description:"Cautious financial types have a healthy level of anxiety about their finances. They think about money from time to time and it has a moderate impact on their life in general. While making financial decisions is not necessarily a pleasant activity, cautious types enjoy the feeling of having some money saved, and as a result they tend to be risk averse and avoid unnecessary expenditures. They often set goals that they are saving for, and they don t find it difficult to visualize those goals.",strengths:["You care about money, but it doesn't dominate your thinking. You strike a balance between controlling your finances and letting them control you.","You tend to avoid irresponsible debt and irresponsible financial behavior in general. While you may succumb to occasional splurges, your spending is mostly moderate.","You are generally well-prepared in the case of a financial set-back or emergency, both practically and emotionally. You tend to plan rather than panic."],challenges:["You may be slightly too analytical about money while ignoring some of the emotional aspects, such as how your financial restraint may impact your quality of life.","Being overly risk averse can limit your options, and excessive caution with your finances may actually stop your money from fully working in your favor.","You tend to enjoy routine in most aspects of life and may find it difficult to make big financial decisions that require you to step out of your comfort zone."],actionPlans:[{title:"Put people first.",description:"Prioritize the value of relationships and set aside a certain amount of money to improve your relationships with friends and family. Make that a similar priority to your other goals for a month and evaluate any resulting changes in your finances with an open mind."},{title:"Step out of your comfort zone.",description:"Responsible use of debt can actually be a good thing when it comes to realizing your major goals, such as buying a house. Try to look at the full picture when it comes to making an investment in the future and weigh the advantages of using debt if necessary."},{title:"Research.",description:"Sometimes caution can come from fear. If you're uncomfortable making a financial decision, do your homework and learn about the transaction. And if a friend or financial professional weighs in, be sure to rely on someone you trust and research their credentials."}],priority:3,groupNumber:2,orderBy:1},Relaxed:{image:"https://igrad-smedia-igrad.netdna-ssl.com/IMAGE/Money-Personality/characters/emotions/relaxed.svg",description:"Relaxed financial types don t worry much about money, and they tend to enjoy spending it. Going into debt is not a big issue for relaxed types, and they don t worry much about paying off those debts in the future. Their attitude might be  spend now and worry about it later.  Relaxed financial types may even be somewhat aloof when calculating the risks they are taking. On the other hand they may not focus on the amount of risk at all, but rather on how the process makes them feel in the here and now.",strengths:["You have no hang-ups about enjoying your hard-earned money. If you come across something you really want, you likely find a way to make it happen.","You can be generous with family and friends and easygoing in social situations where money is involved. You don't sweat the bill, and gift-giving may be a forte.","You tend to be more willing than other people to take risks, and not just financially. Others may see you as a thrill-seeker."],challenges:["You are more susceptible than others to the sway of tricky advertising or the temptation of impulse buying and may often waste money on frivolous purchases.","Your friends or family may begin to perceive you as careless or irresponsible with money, which could negatively impact those relationships.","Debt management is not something you usually think about when opening a line of credit. You may find yourself in debt without a plan to get out."],actionPlans:[{title:"Put your financial life on autopilot.",description:"Try signing up for online bill pay: if your bills are paid automatically each month, you won't need to switch gears or spend any extra time thinking about them. Just be sure to check your accounts every now and then to make sure things are operating smoothly."},{title:"Slow down; give yourself a moment to reconsider before you buy.",description:"Before making a spending decision (from impulse buy to major purchase), think through the implications of your decision. If it helps, take a walk around the store or up and down the street while you assess pros, cons, long-term effects, and how much you actually want it."},{title:"Give yourself an allowance.",description:"Evaluate your current accounts for stability. Then, if you can build into your budget a certain amount to spend on fun things each month, you'll be less likely to overspend. Consider putting aside a set amount of cash or using a prepaid debit card if that's easier."}],priority:1,groupNumber:3,orderBy:1}},OUTLOOK:{Confident:{image:"https://igrad-smedia-igrad.netdna-ssl.com/IMAGE/Money-Personality/characters/outlook/confident.svg",description:"Because people  don t know what they don t know  they tend to overestimate their ability to make good financial decisions. Confident types make decisions quickly and are efficient in most money matters. This can be a desirable skill and can have great effect. However, confident types may veer into dangerous territory if overly confident, as they can make decisions based on insufficient information or act hastily about other things in their lives (such as their jobs) that can impact their financial situation.",strengths:["Your confidence in your ability to handle money translates well into certain skills; you may excel in professions that require sales techniques and negotiations.","Once you've made up your mind, you don't often waver or second-guess yourself. You act on your words, so people view you as steadfast and reliable.","You're willing to take monetary risks for the chance of a big payoff. Call it luck or positioning, when there's luck to be had, you're more likely to have it."],challenges:["Most people don't incorporate all of the information available when making decisions, and you may be prone to discounting warning signs or red flags.","Too much confidence can create a lackadaisical attitude, so you might not be well prepared for setbacks, such as with proper insurance or an estate plan.","You may not have a realistic understanding of your capabilities when making money decisions, nor a realistic picture of the risks you are taking."],actionPlans:[{title:"Get grounded and assess your finances.",description:"Get grounded and take a realistic assessment of your finances for a complete and accurate picture of your net worth. Understand that there may be something you don't know or that you are not incorporating all of the alternative choices when making money decisions."},{title:"Consider all outcomes.",description:'Because taking risks is a part of everyday life, make sure you stop and think about any possible negative consequences, not just the positive. Look at "worst case scenarios" along with potential positive outcomes to help make better decisions, financial and otherwise.'},{title:"Use your confidence wisely.",description:"Be more careful with the risks you take and ask for a second opinion from someone you trust before taking larger risks. If you consult financial resources or professionals, combine their expertise with your own outlook for a hopeful yet grounded financial plan."}],priority:2,groupNumber:3,orderBy:2},Optimistic:{image:"https://igrad-smedia-igrad.netdna-ssl.com/IMAGE/Money-Personality/characters/outlook/optimistic.svg",description:"Optimistic financial types tend to be hopeful about the future and believe that things will work out somehow. In the general population, most people are overly optimistic about their futures as compared to the actual probabilities of positive events occurring. This positive outlook works well on a daily basis, but optimistic types may be caught off guard every now and then when things don't work out as hoped. Optimists also tend to associate with similar types of people, which can reinforce their behavior and attitudes.",strengths:["Your optimistic outlook can be a great asset when approaching debt management, credit repair, or other high stakes or potentially challenging tasks.",'You can have a "happy go lucky" or "go with the flow" attitude that makes you popular with other people. Money is not usually an obstacle to having fun.',"You prioritize happiness in life and are generally willing to spend money on positive experiences like entertainment, dining out, and vacations."],challenges:[`Since you have faith that everything will "work out," you may be caught off-guard when things don't go as hoped, even if you have a backup plan.`,"You may not make accurate assessments as to how the risks you take in life will work out. This can impact both yourself as well as those close to you.","Happiness in the short term can take precedence over happiness in the long term. Without grounding future plans in present reality, debt can become a problem."],actionPlans:[{title:"Get grounded and assess your finances.",description:"Gather all of your financial information together in one place: accounts, bills, debts, assets and create a budget. This should be a complete and current financial picture. Then project it forward a few years to be more mindful of your overall financial situation."},{title:"Consider all outcomes.",description:'Because taking risks is a part of everyday life, make sure you stop and think about any possible negative consequences, not just the positive. Look at "worst case scenarios" along with potential positive outcomes to help make better decisions, financial and otherwise.'},{title:"Use your optimism wisely.",description:"Be sure to incorporate long term strategies when thinking about what will make you and those close to you the happiest. If you consult financial resources or professionals, combine their expertise with your own outlook for a hopeful yet grounded financial plan."}],priority:3,groupNumber:1,orderBy:2},Skeptical:{image:"https://igrad-smedia-igrad.netdna-ssl.com/IMAGE/Money-Personality/characters/outlook/skeptical.svg",description:"Skeptical financial types are concerned about the future and don't always expect things to work out financially. Some level of skepticism is healthy, especially when finances are at stake, and these types are good at recognizing risks or scams and taking the appropriate precautions for protecting their assets. But too much skepticism can have a negative impact, such as causing miserly behavior or resentment in social relationships. It can also affect investment choices, causing skeptical types to assume too little risk.",strengths:["You don't expect things to happen automatically, so you are more likely and willing than other types to work hard to meet your financial goals.","You are usually conservative and moderate with money. You don't typically engage in wasteful behaviors or bite off more than you can chew.","You tend to be on guard and hold your cards close. As a result, you are no easy target and are not likely to be taken advantage of financially."],challenges:[`Some amount of concern can help to keep you grounded, but it can also be a downer. You may sometimes feel like "no matter what I do, I can't seem to get ahead."`,"Your skepticism may keep you from making progress; you are hesitant to take any financial risks, so your money might not be used to its full potential.","Being overly skeptical can make it difficult to accept advice. You may find it hard to trust people, and this may impact your personal relationships."],actionPlans:[{title:"Assess your finances realistically.",description:"Do a realistic assessment of your finances - perhaps you're in a better position than you thought. Give yourself credit for what you have accomplished and realize that most other people are in the same boat. If you have a budget, try to find potential for surplus."},{title:"List your goals, and don't hold back.",description:"Compartmentalize your money goals to address all of the important areas in life, such as basic needs, family and friends, and saving for the future. Make goals for each area and concrete plans to meet those goals. Work on those goals a little bit at a time."},{title:"Engage in tiny acts of trust.",description:"If you work with a financial professional, be open-minded to their advice and projections. Try to see the larger picture and understand that there may be information that you don't have."}],priority:1,groupNumber:2,orderBy:2}},FOCUS:{"Future Focused":{image:"https://igrad-smedia-igrad.netdna-ssl.com/IMAGE/Money-Personality/characters/focus/future-focused.svg",description:"Future-focused financial types usually have a set of goals and personal aspirations in place, with a solid understanding of at least the basic financial principles needed to achieve them. These goals tend to be specific and measurable; for instance, future-focused types are more likely than others to visualize what they would like to do in retirement rather than saying  I will figure it out when the time comes.  Future-focused types generally save more, and will often earmark the money they are saving for specific goals.",strengths:["You are driven and practical when it comes to your financial goals and personal aspirations, which can often lead to success in achieving them!","You understand the importance of having money saved for a rainy day, and you are generally prepared in the case of an emergency or a financial setback.",'In many situations, you are the type to "keep your eye on the prize." You are likely to be perceived as a hard-working and responsible person.'],challenges:["You can get overly caught up in thinking about the impact your present actions will have on the future, and so you don't always appreciate the present moment.","Having big dreams is applauded, but your chances of attaining them may be hampered by a disconnect between the dream and your everyday financial behavior.","Your tendency to think ahead may occasionally reach extremes, which can contribute to anxiety or might negatively impact other aspects of your life."],actionPlans:[{title:"Break big goals into smaller pieces.",description:"You probably already know your major financial goals, but have you assessed them on a smaller scale? Break your long-term goals into smaller, more measurable ones. Then assess whether these are feasible, and set up milestones to make sure you're staying on track."},{title:"Treat yourself.",description:"Saving money for the future is important, but are you neglecting the present? If spending money on immediate pleasures comes with a sense of guilt, you may not be enjoying your money as much as you should be. The solution is simple: within reason, treat yourself."},{title:"Reassess old standards.",description:"If you already have a savings account and retirement fund, take a closer look. When was the last time you assessed your savings needs or monthly 401(k) contribution? If it's been a while, reevaluate these figures in light of your current income and status."}],priority:1,groupNumber:2,orderBy:3},"Present Focused":{image:"https://igrad-smedia-igrad.netdna-ssl.com/IMAGE/Money-Personality/characters/focus/present-focused.svg",description:"As the term implies, present-focused people live for today and prefer to leave the future open-ended. This attitude can make for a refreshing lifestyle, yet it can also be fatalistic, in that a disregard for the future implies that everything will just  work out somehow.  Alternatively, present-focused types may be well aware of financial behaviors they should adopt, such as saving money, yet they give little thought to how their present actions impact their financial situation in the future.",strengths:["You tend to live in the moment and relish small pleasures. With few worries about the future, you live a mostly happy and optimistic life.","You can be good at small-scale budgeting, like making the best use of a set amount of money for a shopping trip, or stretching a dollar when you're in a pinch.","Since you are not overly concerned with your finances on a daily basis, you can be generous and easygoing in social situations where money is an issue."],challenges:["Your financial goals (if you have them) may be too vague or unrealistic. Or you might know what you want, but have trouble turning your goals into actions.","You can get caught up in the minutiae of everyday financial decisions and lose sight of the bigger picture. You may stress over unimportant details.","You may not have much money set aside for savings or in your retirement account, or if you do, not much thought is put into how it is invested."],actionPlans:[{title:"Embrace time value of money.",description:"If you're not familiar with the time value of money, look it up; if you're already a pro, calculate how much a given amount will be worth in five, ten, and twenty years. Even if you don't have surplus now, you'll see the benefits of putting money aside in the future."},{title:"Link goals and actions.",description:"Spend some time brainstorming about your future financial aspirations. Then define specific goals for the next month, next year, and the distant future. Compare these to a list of your current priorities. Then set up measurable milestones with actions to take now."},{title:"Prepare for emergencies.",description:"Are you prepared for a financial setback? If you haven't already done so, build up your emergency fund. Opinion varies, but in general experts recommend keeping 3-6 months worth of expenses at easy access. Check your accounts and make sure you have a comfortable amount."}],priority:2,groupNumber:1,orderBy:3}},INFLUENCE:{Independent:{image:"https://igrad-smedia-igrad.netdna-ssl.com/IMAGE/Money-Personality/characters/influence/independent.svg",description:'Independent financial types are typically self-reliant in life, which carries over into financial matters. They pride themselves on being independent thinkers, and may even be "lone wolves" in other aspects. Independent financial types may ask for advice from others, but will rely primarily on their own research and perhaps on the services of one or a few professional advisors when they need to make financial decisions. In some cases they may come from families where money was not an acceptable topic of conversation.',strengths:["You tend to work hard and are generally responsible with your money, which you spend on things you truly value. You view money as a just a means to an end.",`You aren't overly influenced by the opinions of others. You generally feel no pressure to conform, and do not identify with "keeping up with the Joneses."`,"You like to do your own research when making decisions, which builds your financial education and can streamline many otherwise complicated processes."],challenges:["Over-confidence in your own abilities may be an issue. You might have trouble delegating authority to others or trusting authority even when it is warranted.","You are not as concerned as others with maintaining norms or standards when it comes to financial matters, which can lead to misplaced funds or waste.","You don't necessarily care about money intrinsically, spending more when you have it, spending less when you don t. Resources might be tight sometimes."],actionPlans:[{title:"Honor your personality; ask questions.",description:"Watch that you are not eliminating potential sources of expert information when making financial decisions. Independent types may need to spend more time than others when learning something new to adequately research and become comfortable with the result."},{title:"Embrace your lone wolf.",description:"You've heard money-related rules (like housing costs should be a third of your income), but don't always abide by them. Go ahead and embrace this spirit, but do so in ways that won't affect your finances too drastically. Start small - try giving a server a huge tip!"},{title:"Give credence to professionals.",description:"Since you know your goals better than anyone, you're in the best position to decide how your money is spent. However, everyone can benefit from an objective point of view. Evaluate the sources of information that are already available to you, and give credit to experience."}],priority:4,groupNumber:2,orderBy:4},Social:{image:"https://igrad-smedia-igrad.netdna-ssl.com/IMAGE/Money-Personality/characters/influence/social.svg",description:"Social, outwardly focused people tend to rely heavily or even exclusively on the opinions of others   sometimes more than they know. They are not necessarily independent thinkers when it comes to money and will instead make certain decisions because their friends are making them, particularly those they trust the most. They may put friends' or family's needs ahead of their own. The size and composition of their families or social circles will impact their financial decisions and the degree of risk they are willing to assume.",strengths:["You can be excellent at making connections and networking, which is useful when working to find partners in business, or to develop your career.","You always take into account the opinions and wishes of those close to you when making money decisions; you are generally perceived as reliable and trustworthy.","You can be quite open-minded when learning something new and are generally comfortable trusting others to give you advice on financial matters."],challenges:["You can lose sight of your own priorities when faced with the needs and wants of others, so your financial picture is susceptible to inconsistency.","You tend to get caught up in trends, so rather than assessing your true desires, you may end up spending money on things you don't necessarily value.","You may find yourself in the middle of difficult discussions, debates, or stuck between dissenting opinions. Financial disagreements are especially stressful."],actionPlans:[{title:"Develop healthy skepticism.",description:"Be mindful of over-reliance on the opinions of others. It's not always a bad thing to look to others for advice, but be wary of who you listen to when it comes to financial matters. Do your own independent research to back up what others have told you."},{title:"Assert your opinions.",description:"Deferring to others to make decisions can leave you feeling resentful. You know your goals and money needs better than anyone, you are in the best position to decide how your money is spent. Guidance is fine, but be sure your decisions are ultimately your own."},{title:"Use your social nature effectively.",description:"Hold regular conversations with people included in your financial picture to make sure everyone is involved and informed. Determine if there are any decisions that can be made autonomously, then delegate assignments or control of those decisions to yourself and others."}],priority:2,groupNumber:1,orderBy:4},Elusive:{image:"https://igrad-smedia-igrad.netdna-ssl.com/IMAGE/Money-Personality/characters/influence/elusive.svg",description:"Elusive financial types avoid making decisions when it comes to money matters. Financial topics may not be of much interest to them, or they may feel unqualified, or some combination of the two. Whether they are intimidated by financial matters or simply prone to avoidance in making decisions in any sphere of their lives, elusive financial types generally leave decisions to other people. They may also self-identify as dependent or needing help in other aspects of their lives.",strengths:["You tend to value time over money, and a decreased focus on money matters means you have more time and energy for things that are truly important to you.","You may already have a trusted friend or advisor to make decisions for you, but if not, you likely have no trouble finding help when you need it.","In social settings you are adept at steering the conversation away from touchy topics; people in your social circle may see you as a peacemaker."],challenges:["Researching how to handle finances may seem boring, overwhelming, or otherwise unpleasant; you are more likely than others to be lacking in financial literacy.","Your own wants and needs may get overlooked, as the source or person you trust to make financial decisions may not be making optimal decisions for you.","Avoidance can have negative consequences; you may not be fully prepared to deal with unexpected setbacks or emergency situations when you need to."],actionPlans:[{title:"Gain skills and confidence simultaneously.",description:"To combat the feeling that you are unqualified to make financial decisions, seek out sources of financial literacy education that approach difficult topics in a manner that feels right to you. Consider articles, videos, games, and content that is conversational in tone."},{title:"Assert your opinions.",description:"Deferring to others can result in feeling a lack of control or resentment. You know your goals and money needs better than anyone, so you are in the best position to decide how your money is spent. Guidance is fine, but be sure your decisions are ultimately your own."},{title:"Empower yourself with money.",description:"If making big decisions is uncomfortable for you, start with low stakes. Test out an independent spirit by making an impromptu financial decision - just be sure it won't affect your finances too drastically. Start small - try giving a server a huge tip!"}],priority:3,groupNumber:3,orderBy:4}},BONUS:{Organized:{image:"https://igrad-smedia-igrad.netdna-ssl.com/IMAGE/Money-Personality/characters/bonus/organizer.svg",description:"Organizers tend to be the people in their families or social circles who manage the finances, and they achieve a great deal of satisfaction from keeping tabs on their own or their household s financial situation. They are also likely to monitor items such as insurance policies and to be up to date on the details of their financial lives. Organizers may enjoy reading or discussing financial topics, comparing notes, and applying what they've learned to their own financial situation.",strengths:["You have an idea of the state of your finances at all times and rarely make costly financial blunders such as overdrawing an account or missing a bill payment.","If you are tempted by tricky advertising or an impulse purchase, you tend to recognize it before your spending gets too far out of hand.","You are likely to take your career or academic pursuits very seriously, and you enjoy making progress. You have the makings of an excellent employee."],challenges:["You can become overly miserly about money matters. Spending money on anything unnecessary can sometimes be challenging for you and may even cause anxiety.","Generally, you appreciate measurable aspects of your finances, like your credit score, but you can also obsess over the number and lose sight of the purpose.","Being overly organized can impact your ability to take suitable risks. You hesitate to act without a plan, which can be a detriment when time is of the essence."],actionPlans:[{title:"Buddy up and organize your worries away.",description:"There's no point in denying your organized nature, so why not share? Aim your focus at a particularly disorganized friend and help him get his finances in order. Your systematic methods and his relaxed approach may just teach each other a thing or two."},{title:"Guard against potential threats.",description:"If you find yourself fixating on certain aspects of your financial situation that are beyond your immediate control, implement methods to alleviate the burden. To guard your credit, for example, obtain credit and identity theft insurance for peace of mind."},{title:"Stick to a schedule.",description:"Set up a schedule (for instance on the first and 15th of the month) for monitoring your finances and stick to it. Avoid overly obsessive monitoring of accounts. Allow online banking and other financial websites to do most of the work for you; then try to relax."}],priority:1,groupNumber:1,orderBy:5},"Fun Seeking":{image:"https://igrad-smedia-igrad.netdna-ssl.com/IMAGE/Money-Personality/characters/bonus/fun-seeker.svg",description:"Fun-seekers see money as a means for enjoying life. They tend to be hedonists to a certain degree, who will spend money just because they enjoy the process. They have been know to use terms such as  retail therapy,   YOLO, and  treat yo'self.  Financial responsibility is not high on the fun-seekers' list of concerns, so these types are most likely to incur large amounts of debt. And beware, even other types have been known to fall into fun-seeker behavior if they come across a large sum of money.",strengths:["You tend to enjoy life to the fullest. You are likely quite popular and have a number of like-minded friends who will indulge your fun-seeking nature.","If you are tempted by tricky advertising or an impulse purchase, you tend to recognize it before your spending gets too far out of hand.","You are an excellent shopper and always know where to find the most interesting things. You take pride in your possessions and generally love to share."],challenges:["The social bonding process of shopping or other costly activities can have long term implications and financial effects. Credit card debt may be a problem.","You prefer to spend money on enjoyable activities rather than putting it away for a rainy day, so you might have less money saved than you should.","Online purchases can be your downfall when it comes to reining in spending. You tend to get caught up in the act without much regard to the consequences."],actionPlans:[{title:"Take the impulse out of purchasing.",description:"Every time you start to make an impulse purchase, imagine the item in your life. Picture yourself using it in different circumstances. Does it feel realistic or forced? Think of what else you might use that money on. Then reevaluate - do you still want it?"},{title:"Anticipate big savings.",description:'If the idea of saving money bores you, link it to an actual payoff. Think of a financial goal that excites you, and put aside a set amount each month toward that goal. This can be a "vacation jar" on your kitchen counter or a "new car" savings account at the bank.'},{title:"Use checks and balances online.",description:"When shopping online, place all your purchases on a wish list or in a shopping cart and leave them there. Read a few product reviews. Then step away from the computer and give yourself a day or two to think about whether or not you really want those items."}],priority:3,groupNumber:3,orderBy:5},"Change Seeking":{image:"https://igrad-smedia-igrad.netdna-ssl.com/IMAGE/Money-Personality/characters/bonus/change-seeker.svg",description:"Change-seekers are quickly bored with the status quo and are constantly looking for the next adventure in life.",strengths:["You are likely willing to take suitable risks with your money. This has potential for major gains when making ambitious financial decisions or investments.","If you are tempted by tricky advertising or an impulse purchase, you tend to recognize it before your spending gets too far out of hand.","You value experiences greatly, and it's likely you have a wealth of stories to share about your travels to far off places or reviews of cultural events."],challenges:["You might have a habit of making spontaneous decisions without thinking about the costs involved. Current and future expenses sometimes shock you.","You prefer to spend money on enjoyable activities rather than putting it away for a rainy day, so you might have less money saved than you should.","While looking forward to the next big thing, you might not be taking into account all of the implications or financial effects that come with transition."],actionPlans:[{title:"Budget for spontaneity.",description:"It might feel dull to avoid taking risks altogether, so if your budget allows, each month set aside a modest amount of cash in an envelope to be used however you like, whenever you're feeling spontaneous. But there's a rule: once it's gone, it's gone."},{title:"View savings as future experiences.",description:'If the idea of saving money bores you, link it to an actual experience. Think of a financial goal that excites you, and put aside a set amount each month toward that goal. This can be a "restaurant jar" on your countertop or a "vacation" savings account at the bank.'},{title:"Zoom out.",description:"Try to take a holistic view. Always be aware of how the current adventure can impact your ability to have adventures down the road. Before you make a major change (such as a new job or moving to a new location), carefully list all the associated costs you can think of."}],priority:2,groupNumber:2,orderBy:5}}};function Yh(t){const e={Focus:[],Emotions:[],Outlook:[],Influence:[],Bonus:[]};t.forEach((d,h)=>{const f=h+1,p=Du[f];p&&e[p].push(d)});const n={};Object.keys(e).forEach(d=>{const h=e[d];h.length>0&&(n[d]=h.reduce((f,p)=>f+p,0))});const r=[],s=[];n.Focus>=24?(r.push("Future Focused"),s.push(tt.FOCUS["Future Focused"])):(r.push("Present Focused"),s.push(tt.FOCUS["Present Focused"]));const o=n.Emotions;o>=45?(r.push("Apprehensive"),s.push(tt.EMOTIONS.Apprehensive)):o>=27?(r.push("Cautious"),s.push(tt.EMOTIONS.Cautious)):(r.push("Relaxed"),s.push(tt.EMOTIONS.Relaxed));const l=n.Outlook;l>=45?(r.push("Optimistic"),s.push(tt.OUTLOOK.Optimistic)):l>=32?(r.push("Confident"),s.push(tt.OUTLOOK.Confident)):(r.push("Skeptical"),s.push(tt.OUTLOOK.Skeptical));const c=n.Influence;c>=40?(r.push("Social"),s.push(tt.INFLUENCE.Social)):c>=27?(r.push("Independent"),s.push(tt.INFLUENCE.Independent)):(r.push("Elusive"),s.push(tt.INFLUENCE.Elusive));const u=n.Bonus;return u>=45?(r.push("Change Seeking"),s.push(tt.BONUS["Change Seeking"])):u>=32?(r.push("Fun Seeking"),s.push(tt.BONUS["Fun Seeking"])):(r.push("Organized"),s.push(tt.BONUS.Organized)),{emotions:0,outlook:0,focus:0,influence:0,riskTolerance:0,personalities:r,personalityScores:n,personalityData:s,descriptions:s.map(d=>(d==null?void 0:d.description)||"")}}const Qb="https://mcpbackendai.openai.azure.com/openai/deployments/gpt-4.1/chat/completions?api-version=2025-01-01-preview",Jb="37IFUAn8JDo4Y9pD8P1jQwq9UCRR8eMvTcZVFA9vyEhJWNibRSvdJQQJ99BGACYeBjFXJ3w3AAABACOGHT7I",Kr=1,Qr=7,Xb=(Kr+Qr)/2,cg=Dt.map((t,e)=>({id:`Q${e+1}`,text:t,category:Du[e+1]??"General",scale_min:Kr,scale_max:Qr,reverse_scored:!1,importance_weight:1})),Zb=Object.values(Du).reduce((t,e)=>(t[e]=(t[e]??0)+1,t),{}),ek={"Future Focused":"Focus","Present Focused":"Focus",Apprehensive:"Emotions",Cautious:"Emotions",Relaxed:"Emotions",Optimistic:"Outlook",Confident:"Outlook",Skeptical:"Outlook",Social:"Influence",Independent:"Influence",Elusive:"Influence","Change Seeking":"Bonus","Fun Seeking":"Bonus",Organized:"Bonus"};async function tk(t,e,n={}){var r,s;try{const i=rk(e,n.assessmentMetadata),{topSignals:o,intensityContext:l}=sk(e,i),c=ak(t),u=lk(t.personalityScores),d=ck(e),h={profile:{personalities:t.personalities??[],summaries:c,category_scores:u},assessment:{total_items:e.length,score_distribution:d,top_signals:o.map(x=>({id:x.question_id,question_index:x.question_index,text:x.question_text,category:x.category,client_score:Number(x.client_score.toFixed(2)),adjusted_score:Number(x.adjusted_score.toFixed(2)),scale_min:x.scale_min,scale_max:x.scale_max,intensity_method:x.intensity_method,intensity_score:Number(x.intensity_score.toFixed(3)),intensity_label:x.intensity_label,intensity_weight:Number(x.intensity_weight.toFixed(2)),distance_from_midpoint:Number(x.distance_from_midpoint.toFixed(3)),z_score:x.z_score!=null?Number(x.z_score.toFixed(3)):void 0,norm_mean:x.norm_mean,norm_sd:x.norm_sd,rank:x.rank})),intensity_context:l},benchmarks:n.benchmarks??null,case_study:n.caseStudy??null,advisor_context:n.advisorContext??null},f=nk(h),p=await fetch(Qb,{method:"POST",headers:{"Content-Type":"application/json","api-key":Jb},body:JSON.stringify({messages:[{role:"system",content:f},{role:"user",content:"Produce the advisor briefing now following the specification."}],max_tokens:1600,temperature:.3})});if(!p.ok)throw new Error(`HTTP error! status: ${p.status}`);return((s=(r=(await p.json()).choices[0])==null?void 0:r.message)==null?void 0:s.content)||"Unable to generate advisor summary at this time."}catch(i){return console.error("AI Advisor Summary Error:",i),"This is a prototype - AI advisor summary would appear here in the final version."}}function nk(t){return["Role: You are an AI assistant producing a professional, evidence-based briefing for a financial advisor based on the client's Your Money Personality (YMP) assessment.","Use only the data supplied in the JSON block. Never invent statistics, sources, or partners.","","DATA:",JSON.stringify(t,null,2),"","OUTPUT REQUIREMENTS:","- Produce a 350-550 word markdown briefing that follows this exact section order with level-2 headings:","  1. Client Overview","  2. Strongest Signals (from assessment)","  3. Personality Tendencies & Benchmarks","  4. Risks & Conversation Starters","  5. Advisor Actions (prioritized)","  6. Communication Tips",'- In "Client Overview" highlight the highest and lowest category averages from profile.category_scores with their numeric values when available, and describe how the personality mix supports or tensions those numbers.','- In "Strongest Signals" create a markdown table with columns: Item | Client | Intensity | Why it matters | Advisor move. Each row must cite the exact question text in quotes, show the client score as {score}/{scale_max}, state the intensity label and method (midpoint vs z-score), explain the planning implication in one sentence, and offer one concrete advisor action or question.','- Order the "Strongest Signals" table by the provided rank so the highest-intensity items appear first.',"- Ground every insight in evidence by referencing question ids (e.g., Q8) or categories from assessment.top_signals, or cite personality benchmarks exactly as provided. No speculative claims.",'- For "Personality Tendencies & Benchmarks", if benchmarks.personality_insights exist, quote their percentages and sample sizes verbatim from the data; otherwise rely on profile.summaries descriptions and note they are qualitative.','- In "Risks & Conversation Starters" deliver 2-4 bullet risks and 2-4 starter bullets that each reference specific signals or personality summaries and explicitly mention the related question ids or personality traits.','- "Advisor Actions" must list actions under sub-bullets labeled Quick Win (0-2 wks), Next (1-3 mos), and Build (3-12 mos) with 1-2 specific items each, and each item should reference the relevant question id, category score, or benchmark stat that supports the recommendation.',`- Provide 3-5 "Communication Tips" tied to the client's personalities and evidence in the data.`,"- After Communication Tips, include a bolded Case Point line only if case_study data is present, matching the format **Case Point (Partner): finding — applicability**.","- Maintain a precise, professional tone. Avoid vague language, filler, or unsubstantiated hedging; every recommendation should connect back to a measurement in the data.","- Respond in markdown only."].join(`
`)}function rk(t,e){const n=(e==null?void 0:e.questions)??[];return t.map((r,s)=>{const i=cg[s]??{id:`Q${s+1}`,text:`Question ${s+1}`,category:"General",scale_min:Kr,scale_max:Qr,reverse_scored:!1,importance_weight:1},o=n[s];return o?{id:o.id??i.id,text:o.text??i.text,category:o.category??i.category,scale_min:o.scale_min??i.scale_min,scale_max:o.scale_max??i.scale_max,reverse_scored:o.reverse_scored??i.reverse_scored,importance_weight:o.importance_weight??i.importance_weight,norm_mean:o.norm_mean,norm_sd:o.norm_sd}:i})}function sk(t,e){const n=t.map((f,p)=>{const v=e[p]??cg[p]??{id:`Q${p+1}`,text:`Question ${p+1}`,category:"General",scale_min:Kr,scale_max:Qr,reverse_scored:!1,importance_weight:1},x=v.scale_min??Kr,b=v.scale_max??Qr,y=(x+b)/2,m=v.importance_weight??1,g=Number.isFinite(f)?f:y,k=v.reverse_scored?x+b-g:g,S=Math.abs(k-y);let E="midpoint_distance",N=S,A;typeof v.norm_mean=="number"&&typeof v.norm_sd=="number"&&v.norm_sd>0&&(A=(k-v.norm_mean)/v.norm_sd,N=Math.abs(A),E="z_score");const W=N*m;return{question_id:String(v.id??`Q${p+1}`),question_index:p+1,question_text:v.text??`Question ${p+1}`,category:v.category??"General",client_score:g,adjusted_score:k,scale_min:x,scale_max:b,midpoint:y,intensity_method:E,intensity_score:Number.isFinite(W)?W:0,intensity_label:"Low",intensity_weight:m,z_score:A,norm_mean:v.norm_mean,norm_sd:v.norm_sd,distance_from_midpoint:S,rank:p+1}}),r=n.map(f=>f.intensity_score).filter(f=>Number.isFinite(f)),s=Vh(r,.75),i=Vh(r,.25),o=n.map(f=>({...f,intensity_label:ik(f.intensity_score,s,i)})),c=[...o].sort((f,p)=>p.intensity_score===f.intensity_score?f.question_index-p.question_index:p.intensity_score-f.intensity_score).map((f,p)=>({...f,rank:p+1})),u=[];let d=null;for(const f of c){if(u.length<3){u.push(f),d=f.intensity_score;continue}if(u.length<6&&f.intensity_score>0){u.push(f),d=f.intensity_score;continue}d!==null&&f.intensity_score===d&&f.intensity_score>0&&u.push(f)}u.length===0&&c.length>0&&u.push(c[0]);const h={method_summary:ok(o),scale_min:Kr,scale_max:Qr,midpoint:Xb,thresholds:{high:Number(s.toFixed(2)),low:Number(i.toFixed(2))},has_norms:o.some(f=>f.intensity_method==="z_score"),percentile_basis:"Intensity scores ranked by percentile: High ≥ 75th percentile, Low ≤ 25th percentile after weighting.",weights_applied:o.some(f=>f.intensity_weight!==1)};return{topSignals:u,intensityContext:h}}function Vh(t,e){if(!t.length)return 0;const n=[...t].sort((l,c)=>l-c),r=(n.length-1)*e,s=Math.floor(r),i=Math.ceil(r);if(s===i)return n[s];const o=r-s;return n[s]*(1-o)+n[i]*o}function ik(t,e,n){return t>=e&&t>0?"High":t<=n?"Low":"Moderate"}function ok(t){const e=t.some(i=>i.intensity_method==="z_score"),n=t.some(i=>i.intensity_method==="midpoint_distance"),r=t.some(i=>i.intensity_weight!==1),s=[];return e&&n?s.push("Used z-scores when norms existed; otherwise used absolute distance from the 1-7 midpoint."):e?s.push("All intensities use z-scores relative to provided norms."):n&&s.push("All intensities use absolute distance from the 1-7 midpoint."),r?s.push("Applied importance weights when supplied."):s.push("No additional weighting was applied."),s.join(" ")}function ak(t){const e=t.personalities??[],n=Array.isArray(t.personalityData)?t.personalityData:[],r=t.descriptions??[];return e.map((s,i)=>{const o=n[i]??{},l=o.description??r[i]??"",c=Array.isArray(o.strengths)?o.strengths.slice(0,2):[],u=Array.isArray(o.challenges)?o.challenges.slice(0,2):[];return{name:s,category:ek[s]??"General",description:uk(l),strengths:c,challenges:u}})}function lk(t){if(!t)return[];const e=Object.entries(t).map(([n,r])=>{const s=Zb[n]??0,i=s?r/s:null;return{category:n,sum:typeof r=="number"?Number(r.toFixed(2)):null,question_count:s,average:i!=null?Number(i.toFixed(2)):null,rank:0}});return e.sort((n,r)=>r.average===n.average?n.category.localeCompare(r.category):(r.average??0)-(n.average??0)),e.map((n,r)=>({...n,rank:r+1}))}function ck(t){return t.reduce((e,n)=>{if(Number.isFinite(n)){const r=String(n);e[r]=(e[r]??0)+1}else e.unknown=(e.unknown??0)+1;return e},{})}function uk(t,e=320){if(!t)return"";const n=t.replace(/\s+/g," ").trim();if(n.length<=e)return n;const r=n.slice(0,e),s=r.lastIndexOf(".");return s>e*.5?r.slice(0,s+1).trim():`${r.trim()}…`}const dk={async createCheckoutSession(t){const e=await fetch("/api/create-checkout",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!e.ok){const r=await e.json();throw new Error(r.message||"Failed to create checkout session")}return await e.json()},async redirectToCheckout(t){try{const e=await this.createCheckoutSession(t);if(e.url)window.location.href=e.url;else throw new Error("No checkout URL returned")}catch(e){throw console.error("Error redirecting to checkout:",e),e}}};class he{static generateAssessmentId(){return"assess_"+Math.random().toString(36).substr(2,9)+Date.now().toString(36)}static generateAssessmentLink(e){return`${window.location.origin}/assessment?advisor=${e}`}static async shouldFlagTrialInvite(e){try{const n=e==null?void 0:e.trim().toLowerCase();if(!n)return!1;const{count:r,error:s}=await Z.from("advisor_assessments").select("*",{count:"exact",head:!0}).eq("advisor_email",n);return s?(console.error("Failed to evaluate trial eligibility:",s),!1):(r??0)===0}catch(n){return console.error("Unexpected error while evaluating trial eligibility:",n),!1}}static generateFriendAssessmentId(){return"friend_"+Math.random().toString(36).substr(2,9)+Date.now().toString(36)}static generateFriendAssessmentLink(e){return`${window.location.origin}/assessment?share=${e}`}static async shareAssessmentWithFriend(e,n,r,s,i,o,l){let c,u;try{if(!i)return{success:!1,error:"Your profile is required before sharing the assessment."};const d=Hh(),h=this.generateFriendAssessmentId(),f=this.generateFriendAssessmentLink(h);c=h,u=f;const p={id:h,sharerId:d,sharerName:e,sharerEmail:n,recipientEmail:r,recipientName:l,relationship:s,personalNote:o,status:"sent",sentAt:new Date,assessmentLink:f,sharerProfile:i};return this.saveFriendAssessment(p),await Tr.sendFriendAssessmentInvitation(e,n,r,f,s,o)?{success:!0,shareId:c,assessmentLink:u}:{success:!1,shareId:c,assessmentLink:u,error:"Failed to send invitation email"}}catch(d){return console.error("Error sharing assessment with friend:",d),{success:!1,shareId:c,assessmentLink:u,error:d instanceof Error?d.message:"Unknown error occurred"}}}static async shareAssessment(e,n,r,s){var l,c;let i,o;try{const u=await Ge.getCurrentAdvisor(),d=((l=u==null?void 0:u.email)==null?void 0:l.trim().toLowerCase())||"",h=(n==null?void 0:n.trim().toLowerCase())||"";if(!u||!d)return{success:!1,error:"Unauthorized: Please log in again"};if(h&&d!==h)return{success:!1,error:"Advisor email mismatch. Please refresh and try again."};const f=d,p=((c=u.name)==null?void 0:c.trim())||e,v=await this.shouldFlagTrialInvite(f),x=this.generateAssessmentId(),b=this.generateAssessmentLink(x);i=x,o=b;const{error:y}=await Z.from("advisor_assessments").insert({id:x,advisor_email:f,advisor_name:p,client_email:r,client_name:s,status:"sent",assessment_link:b,is_trial:v});if(y)throw console.error("Failed to save assessment to database:",y),new Error(`Failed to save assessment: ${y.message}`);let g={id:x,advisorName:p,advisorEmail:f,clientEmail:r,clientName:s,status:"sent",assessmentLink:b,sentAt:new Date,isTrial:v};if(this.saveAssessment(g),!await Tr.sendAssessmentInvitation(p,f,r,b,s))return{success:!1,assessmentId:i,assessmentLink:o,error:"Failed to send email invitation"};try{await Tr.sendInternalLeadNotification(p,f,r,b,s)}catch(S){console.error("Failed to send internal lead notification:",S)}try{if(await Tr.sendAdvisorShareConfirmation(f,p,r,b,{clientName:s,qualifiesForTrial:v})){const E=new Date().toISOString(),{error:N}=await Z.from("advisor_assessments").update({confirmation_sent_at:E}).eq("id",x);N&&console.error("Failed to record confirmation timestamp:",N),g={...g,confirmationSentAt:E},this.saveAssessment(g)}}catch(S){console.error("Failed to send advisor confirmation email:",S)}return{success:!0,assessmentId:i,assessmentLink:o,qualifiesForTrial:v}}catch(u){return console.error("Error sharing assessment:",u),{success:!1,assessmentId:i,assessmentLink:o,error:u instanceof Error?u.message:"Unknown error occurred"}}}static async completeAssessment(e,n){try{console.log("🔄 Starting assessment completion for ID:",e);let r=await this.getAssessmentFromDatabase(e);if(!r){console.log("Assessment not found in database, checking localStorage...");const u=this.getAssessment(e);u&&(r={advisor_email:u.advisorEmail,advisor_name:u.advisorName,client_email:u.clientEmail,client_name:u.clientName})}if(!r)throw console.error("❌ Assessment not found:",e),new Error(`Assessment not found: ${e}`);console.log("✅ Found assessment:",r);const s=JSON.parse(localStorage.getItem("assessmentAnswers")||"[]");console.log("🤖 Generating AI advisor summary for advisor assessment...");let i="";try{i=await tk(n,s),console.log("✅ AI advisor summary generated successfully")}catch(u){console.error("❌ Failed to generate AI advisor summary:",u),i="AI advisor summary could not be generated at this time."}const{error:o}=await Z.from("assessment_results").insert({assessment_id:e,advisor_email:r.advisor_email,client_email:r.client_email,client_name:r.client_name,answers:s,profile:n,advisor_summary:i,is_unlocked:!1});if(o)throw console.error("❌ Failed to save assessment results to database:",o),new Error(`Failed to save results: ${o.message}`);console.log("✅ Assessment results saved to database");const{error:l}=await Z.from("advisor_assessments").update({status:"completed",completed_at:new Date().toISOString()}).eq("id",e);l&&console.error("❌ Failed to update assessment status:",l);const c=this.getAssessment(e);if(c){const u={...c,status:"completed",completedAt:new Date,results:n};this.saveAssessment(u)}console.log("📡 Dispatching storage event for dashboard refresh"),window.dispatchEvent(new StorageEvent("storage",{key:this.STORAGE_KEY,newValue:localStorage.getItem(this.STORAGE_KEY),storageArea:localStorage})),window.dispatchEvent(new CustomEvent("localStorageUpdate"));try{console.log("📧 Sending completion notification to advisor:",r.advisor_email),await Tr.sendCompletionNotification(r.advisor_email,r.advisor_name,r.client_email,r.client_name),console.log("✅ Email notification sent successfully")}catch(u){console.error("❌ Email notification failed (but continuing):",u)}return console.log("🎉 Assessment completion successful"),!0}catch(r){return console.error("Error completing assessment:",r),!1}}static async completeFriendAssessment(e,n){try{const r=this.getFriendAssessment(e);if(!r)throw new Error("Shared assessment not found");const s=Kb(r.sharerProfile,n),i={...r,status:"completed",completedAt:new Date,recipientProfile:n,compatibility:s};this.saveFriendAssessment(i),window.dispatchEvent(new StorageEvent("storage",{key:this.FRIEND_STORAGE_KEY,newValue:localStorage.getItem(this.FRIEND_STORAGE_KEY),storageArea:localStorage})),window.dispatchEvent(new CustomEvent("localStorageUpdate"));try{await Tr.sendFriendCompletionNotification(r.sharerEmail,r.sharerName,r.recipientEmail,s)}catch(o){console.error("Error sending friend completion notification:",o)}return!0}catch(r){return console.error("Error completing friend assessment:",r),!1}}static async getUnlockedAssessmentResultsForAdvisor(e){try{const{data:n,error:r}=await Z.from("assessment_results").select("*").eq("advisor_email",e).order("completed_at",{ascending:!1});return r?(console.error("Error fetching assessment results:",r),[]):n||[]}catch(n){return console.error("Error getting assessment results for advisor:",n),[]}}static async getAssessmentFromDatabase(e){try{const{data:n,error:r}=await Z.from("advisor_assessments").select("id, advisor_email, advisor_name, client_email, client_name, status, assessment_link, sent_at, completed_at, is_paid, paid_at, is_trial, confirmation_sent_at").eq("id",e).single();return r||!n?(console.log("Assessment not found in database:",r),null):n}catch(n){return console.error("Error getting assessment from database:",n),null}}static async deleteAssessment(e){try{const{error:n}=await Z.from("assessment_results").delete().eq("assessment_id",e);n&&console.error("Failed to delete assessment results:",n);const{error:r}=await Z.from("advisor_assessments").delete().eq("id",e);r&&console.error("Failed to delete advisor assessment:",r);const i=this.getAllAssessments().filter(o=>o.id!==e);return localStorage.setItem(this.STORAGE_KEY,JSON.stringify(i)),window.dispatchEvent(new StorageEvent("storage",{key:this.STORAGE_KEY,newValue:localStorage.getItem(this.STORAGE_KEY),storageArea:localStorage})),window.dispatchEvent(new CustomEvent("localStorageUpdate")),{success:!0}}catch(n){return console.error("Error deleting assessment:",n),{success:!1,error:n instanceof Error?n.message:"Failed to delete assessment"}}}static async getAssessmentsForAdvisorFromDatabase(e,n){try{const r=e==null?void 0:e.trim().toLowerCase();if(!r&&!n)return[];const s="id, advisor_email, advisor_name, client_email, client_name, status, assessment_link, sent_at, completed_at, is_paid, paid_at, is_trial, confirmation_sent_at";let i=[];if(r){const{data:x,error:b}=await Z.from("advisor_assessments").select(s).eq("advisor_email",r).order("sent_at",{ascending:!1});if(b)return console.error("Error fetching advisor assessments:",b),[];if(i=x||[],i.length>0||!n)return i}if(!n)return i;const o=[],[{data:l,error:c},{data:u,error:d}]=await Promise.all([Z.from("advisor_assessments").select(s).is("advisor_email",null).eq("advisor_name",n).order("sent_at",{ascending:!1}),Z.from("advisor_assessments").select(s).eq("advisor_email","").eq("advisor_name",n).order("sent_at",{ascending:!1})]);if(c&&console.error("Error fetching advisor assessments with null email:",c),d&&console.error("Error fetching advisor assessments with blank email:",d),l&&o.push(...l),u&&o.push(...u),o.length===0)return[];o.sort((x,b)=>{const y=x.sent_at?new Date(x.sent_at).getTime():0;return(b.sent_at?new Date(b.sent_at).getTime():0)-y});const h=o.map(x=>x.id);if(!r)return o;const{error:f}=await Z.from("advisor_assessments").update({advisor_email:r}).in("id",h);if(f)return console.error("Failed to backfill advisor emails on assessments:",f),o.map(x=>({...x,advisor_email:r}));const{data:p,error:v}=await Z.from("advisor_assessments").select(s).eq("advisor_email",r).order("sent_at",{ascending:!1});return v?(console.error("Error refetching advisor assessments after email backfill:",v),o.map(x=>({...x,advisor_email:r}))):p||[]}catch(r){return console.error("Error getting advisor assessments from database:",r),[]}}static async getAssessmentResult(e){try{const{data:n,error:r}=await Z.from("assessment_results").select("*").eq("assessment_id",e).single();return r?(console.error("Error fetching assessment result:",r),null):n}catch(n){return console.error("Error getting assessment result:",n),null}}static async unlockAssessment(e){var n;try{const{data:{session:r},error:s}=await Z.auth.getSession();if(s||!r)return{success:!1,error:"Authentication required"};const i=(n=r.user)==null?void 0:n.email;if(!i)return{success:!1,error:"Advisor email not found"};const o=await this.getAssessmentFromDatabase(e);return o!=null&&o.is_trial?(console.log("Trial assessment detected, unlocking without payment:",e),await this.forceUnlockAssessment(e)):(await dk.redirectToCheckout({assessmentId:e,advisorEmail:i,successUrl:`${window.location.origin}/advisor/dashboard?payment=success`,cancelUrl:`${window.location.origin}/advisor/dashboard?payment=cancelled`}),{success:!0})}catch(r){return console.error("Error unlocking assessment:",r),{success:!1,error:r instanceof Error?r.message:"Failed to unlock assessment"}}}static async forceUnlockAssessment(e){try{const n=new Date().toISOString(),{error:r}=await Z.from("advisor_assessments").update({is_paid:!0,paid_at:n}).eq("id",e);if(r)return console.error("Failed to update advisor_assessments:",r),{success:!1,error:`Failed to update assessment: ${r.message}`};const{error:s}=await Z.from("assessment_results").update({is_unlocked:!0,unlocked_at:n}).eq("assessment_id",e);return s?(console.error("Failed to update assessment_results:",s),{success:!1,error:`Failed to update results: ${s.message}`}):(console.log("✅ Assessment unlocked successfully:",e),{success:!0})}catch(n){return console.error("Error unlocking assessment:",n),{success:!1,error:n instanceof Error?n.message:"Failed to unlock assessment"}}}static getAssessment(e){try{const n=this.getAllAssessments();return console.log("Looking for assessment ID:",e,"in assessments:",n.map(r=>r.id)),n.find(r=>r.id===e)||null}catch(n){return console.error("Error getting assessment:",n),null}}static getAllAssessments(){try{const e=localStorage.getItem(this.STORAGE_KEY),n=e?JSON.parse(e):[];return console.log("getAllAssessments returning:",n),n}catch(e){return console.error("Error getting assessments:",e),[]}}static getAllFriendAssessments(){try{const e=localStorage.getItem(this.FRIEND_STORAGE_KEY);return(e?JSON.parse(e):[]).map(r=>({...r,sentAt:r.sentAt?new Date(r.sentAt):void 0,completedAt:r.completedAt?new Date(r.completedAt):void 0}))}catch(e){return console.error("Error getting friend assessments:",e),[]}}static saveAssessment(e){try{const n=this.getAllAssessments(),r=n.findIndex(i=>i.id===e.id);r>=0?(n[r]=e,console.log("📝 Updated existing assessment at index:",r,e)):(n.push(e),console.log("➕ Added new assessment, total count:",n.length,e)),localStorage.setItem(this.STORAGE_KEY,JSON.stringify(n)),console.log("💾 Saved assessments to localStorage - total:",n.length);const s=localStorage.getItem(this.STORAGE_KEY);if(s){const i=JSON.parse(s);console.log("✅ Save verification successful - count:",i.length)}else console.error("❌ Save verification failed - no data in localStorage")}catch(n){console.error("Error saving assessment:",n)}}static saveFriendAssessment(e){try{const n=this.getAllFriendAssessments(),r=n.findIndex(s=>s.id===e.id);r>=0?n[r]=e:n.push(e),localStorage.setItem(this.FRIEND_STORAGE_KEY,JSON.stringify(n))}catch(n){console.error("Error saving friend assessment:",n)}}static getAssessmentsForAdvisor(e){try{const n=this.getAllAssessments();console.log("Getting assessments for advisor:",e),console.log("All assessments:",n);const r=n.filter(s=>s.advisorEmail===e);return console.log("Filtered assessments for advisor:",r),r}catch(n){return console.error("Error getting advisor assessments:",n),[]}}static getFriendAssessmentsForUser(){try{const e=Hh();return this.getAllFriendAssessments().filter(r=>r.sharerId===e)}catch(e){return console.error("Error getting friend assessments for user:",e),[]}}static getFriendAssessment(e){try{return this.getAllFriendAssessments().find(r=>r.id===e)||null}catch(n){return console.error("Error getting friend assessment:",n),null}}}se(he,"STORAGE_KEY","advisor_assessments"),se(he,"FRIEND_STORAGE_KEY","friend_assessments");function hk(){const{advisor:t,logout:e}=fs(),n=us(),[r,s]=_.useState(!1),[i,o]=_.useState(!1),[l,c]=_.useState(""),[u,d]=_.useState(""),[h,f]=_.useState(""),[p,v]=_.useState(null),[x,b]=_.useState({advisorName:(t==null?void 0:t.name)||"",advisorEmail:(t==null?void 0:t.email)||"",clientEmail:"",clientName:""}),y=async()=>{if(u)try{await navigator.clipboard.writeText(u),f("Link copied to clipboard!"),setTimeout(()=>f(""),3e3)}catch(S){console.error("Failed to copy link:",S),f("Unable to copy automatically. Please copy the link manually."),setTimeout(()=>f(""),4e3)}},m=S=>{b({...x,[S.target.name]:S.target.value})},g=async()=>{await e(),n("/advisor/login")},k=async S=>{S.preventDefault(),s(!0),c(""),o(!1),d(""),f(""),v(null);const E=await he.shareAssessment(x.advisorName,x.advisorEmail,x.clientEmail,x.clientName||void 0);s(!1),E.success?(o(!0),d(E.assessmentLink||""),f(""),v({clientEmail:x.clientEmail,clientName:x.clientName||void 0,qualifiesForTrial:E.qualifiesForTrial}),b({advisorName:(t==null?void 0:t.name)||"",advisorEmail:(t==null?void 0:t.email)||"",clientEmail:"",clientName:""})):(c(E.error||"Failed to share assessment"),E.assessmentLink&&d(E.assessmentLink))};return a.jsxs("div",{className:"min-h-screen professional-bg",children:[a.jsx("div",{className:"bg-primary-600 shadow-sm",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("img",{src:"https://media-cdn.igrad.com/IMAGE/Logos/Standard-White/Enrich.png",alt:"iGrad Enrich",className:"h-8 w-auto"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(ne,{to:"/advisor/dashboard",className:"text-white/80 hover:text-white transition-colors duration-200 text-sm font-medium",children:"Dashboard"}),a.jsx(ne,{to:"/",className:"text-white/80 hover:text-white transition-colors duration-200 text-sm font-medium",children:"For Individuals"}),a.jsxs("button",{type:"button",onClick:g,className:"inline-flex items-center space-x-2 text-white/80 hover:text-white transition-colors duration-200 text-sm font-medium",children:[a.jsx(Bb,{className:"w-4 h-4"}),a.jsx("span",{children:"Logout"})]})]})]})})}),a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[a.jsxs("div",{className:"text-center mb-16",children:[a.jsxs("h1",{className:"text-5xl font-bold text-primary-900 mb-6",children:["Discover Your Client's",a.jsx("span",{className:"text-primary-700",children:" Money Personality"})]}),a.jsx("p",{className:"text-xl text-gray-600 mb-8 max-w-3xl mx-auto leading-relaxed",children:"Unlock the emotional side of your clients' financial decisions. Understand their behavioral patterns, build deeper trust, and provide more personalized financial guidance with our proven assessment."})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-16 text-center",children:[a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-neutral-200 p-6",children:[a.jsx("div",{className:"text-3xl font-bold text-primary-700 mb-2",children:"500K+"}),a.jsx("div",{className:"text-neutral-600",children:"Assessments Completed"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-neutral-200 p-6",children:[a.jsx("div",{className:"text-3xl font-bold text-accent-600 mb-2",children:"95%"}),a.jsx("div",{className:"text-neutral-600",children:"Completion Rate"})]}),a.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-neutral-200 p-6",children:[a.jsx("div",{className:"text-3xl font-bold text-primary-500 mb-2",children:"10 min"}),a.jsx("div",{className:"text-neutral-600",children:"Average Time"})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-subtle border border-neutral-200 p-8 mb-16",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsx("div",{className:"w-16 h-16 rounded-full bg-primary-100 flex items-center justify-center mx-auto mb-4",children:a.jsx(Cc,{className:"w-8 h-8 text-primary-700"})}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Share Assessment with Client"}),a.jsx("p",{className:"text-gray-600",children:"Send a personalized invitation to your client to complete their Money Personality assessment"})]}),i&&p&&(()=>{var A;const S=((A=p.clientName)==null?void 0:A.trim())||p.clientEmail,E=lg({clientDisplayName:S,advisorName:t==null?void 0:t.name}),N=ag;return a.jsxs("div",{className:"mb-6 rounded-xl border border-accent-600/40 bg-white p-5 shadow-subtle",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"mt-0.5",children:a.jsx(Mb,{className:"w-6 h-6 text-accent-600"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-primary-900 font-semibold",children:E.headline}),a.jsx("p",{className:"text-neutral-700 text-sm mt-1",children:E.intro})]})]}),a.jsx("ul",{className:"mt-4 list-disc space-y-2 pl-6 text-sm text-neutral-700",children:E.bullets.map((W,F)=>a.jsx("li",{children:W},F))}),p.qualifiesForTrial?a.jsxs("div",{className:"mt-4 rounded-lg border border-accent-600/30 bg-white p-4 text-sm text-neutral-700",children:[a.jsx("p",{className:"font-semibold text-primary-900",children:"Complimentary preview unlocked"}),a.jsxs("p",{className:"mt-1",children:["Because this is your first Money Personality invitation, you'll be able to review ",S,"'s full results at no cost once they finish the assessment."]})]}):a.jsx("p",{className:"mt-4 text-sm text-neutral-700",children:"We'll follow up as soon as your client completes the assessment so you can unlock their full Money Personality report."}),a.jsxs("div",{className:"mt-4 rounded-lg bg-white p-4",children:[a.jsx("p",{className:"text-sm font-semibold text-primary-900",children:E.sample.heading}),a.jsx("p",{className:"mt-1 text-sm text-neutral-700",children:E.sample.description}),a.jsx("a",{href:N,target:"_blank",rel:"noopener noreferrer",className:"mt-3 inline-flex items-center justify-center rounded-lg border border-primary-700 px-4 py-2 text-sm font-medium text-primary-700 transition-colors hover:bg-primary-100",children:E.sample.ctaLabel})]}),u&&a.jsxs("div",{className:"mt-4 rounded-lg bg-white p-4",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900",children:"Need to resend the link?"}),a.jsx("p",{className:"mt-1 text-sm text-gray-700",children:"Copy the invitation URL below to share it directly with your client if needed."}),a.jsxs("div",{className:"mt-3 flex flex-col gap-2 sm:flex-row sm:items-center",children:[a.jsx("input",{type:"text",readOnly:!0,value:u,className:"flex-1 rounded-lg border border-gray-200 px-3 py-2 text-sm text-gray-800"}),a.jsx("button",{type:"button",onClick:y,className:"inline-flex items-center justify-center rounded-lg bg-accent-600 px-4 py-2 text-sm font-medium text-white shadow-sm transition-colors hover:bg-accent-700",children:"Copy link"})]}),h&&a.jsx("p",{className:"mt-2 text-xs text-gray-600",children:h})]}),a.jsxs("p",{className:"mt-4 text-sm text-neutral-700",children:[E.dashboard.description," ",a.jsx(ne,{to:"/advisor/dashboard",className:"font-semibold text-primary-900 underline-offset-2 hover:underline",children:E.dashboard.ctaLabel}),"."]}),a.jsx("p",{className:"mt-2 text-xs text-neutral-600",children:E.closing})]})})(),l&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:[a.jsxs("p",{className:"text-red-800 font-medium",children:["Error: ",l]}),u&&a.jsxs("div",{className:"mt-4 text-left",children:[a.jsx("p",{className:"text-sm text-red-700 mb-2",children:"The assessment link was still created—share it manually while email delivery is unavailable:"}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[a.jsx("input",{type:"text",readOnly:!0,value:u,className:"flex-1 px-3 py-2 border border-red-200 rounded-lg bg-white text-sm text-gray-800"}),a.jsx("button",{type:"button",onClick:y,className:"inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg shadow-sm transition-colors",children:"Copy link"})]}),h&&a.jsx("p",{className:"text-xs text-red-700 mt-2",children:h})]})]}),a.jsxs("form",{onSubmit:k,className:"space-y-6",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"advisorName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Name *"}),a.jsx("input",{type:"text",id:"advisorName",name:"advisorName",required:!0,readOnly:!0,value:x.advisorName,onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-gray-50",placeholder:"John Smith"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"advisorEmail",className:"block text-sm font-medium text-gray-700 mb-2",children:"Your Email *"}),a.jsx("input",{type:"email",id:"advisorEmail",name:"advisorEmail",required:!0,readOnly:!0,value:x.advisorEmail,onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent bg-gray-50",placeholder:"john@advisorfirm.com"})]})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"clientEmail",className:"block text-sm font-medium text-gray-700 mb-2",children:"Client Email *"}),a.jsx("input",{type:"email",id:"clientEmail",name:"clientEmail",required:!0,value:x.clientEmail,onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"client@email.com"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"clientName",className:"block text-sm font-medium text-gray-700 mb-2",children:"Client Name (Optional)"}),a.jsx("input",{type:"text",id:"clientName",name:"clientName",value:x.clientName,onChange:m,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Jane Doe"})]})]}),a.jsx("div",{className:"text-center",children:a.jsx("button",{type:"submit",disabled:r,className:`inline-flex items-center px-8 py-4 rounded-lg font-semibold text-lg transition-colors duration-200 ${r?"bg-gray-400 text-white cursor-not-allowed":"bg-primary-700 hover:bg-primary-800 text-white"}`,children:r?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin w-5 h-5 mr-3 border-2 border-white border-t-transparent rounded-full"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Cc,{className:"w-5 h-5 mr-3"}),"Share Assessment"]})})})]})]}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-16",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-white rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4 shadow-sm",children:a.jsx(Us,{className:"w-8 h-8 text-primary-700"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Behavioral Analysis"}),a.jsx("p",{className:"text-gray-600",children:"42 scientifically-designed questions reveal your client's financial personality across five key dimensions."})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-white rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4 shadow-sm",children:a.jsx(Wb,{className:"w-8 h-8 text-accent-600"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"AI-Powered Insights"}),a.jsx("p",{className:"text-gray-600",children:"Get detailed advisor-specific recommendations on how to communicate and work effectively with each client."})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"bg-white rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4 shadow-sm",children:a.jsx(og,{className:"w-8 h-8 text-primary-500"})}),a.jsx("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Deeper Client Relationships"}),a.jsx("p",{className:"text-gray-600",children:"Build trust and rapport by understanding the emotional drivers behind your clients' financial decisions."})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-subtle border border-neutral-200 p-8",children:[a.jsx("h2",{className:"text-3xl font-bold text-gray-900 text-center mb-12",children:"How It Works"}),a.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-primary-700 text-white rounded-full flex items-center justify-center mx-auto mb-4 font-bold text-lg",children:"1"}),a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Share Assessment"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Send personalized invitation to your client via email"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-primary-700 text-white rounded-full flex items-center justify-center mx-auto mb-4 font-bold text-lg",children:"2"}),a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Client Completes"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Client takes 10-minute assessment at their convenience"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-primary-700 text-white rounded-full flex items-center justify-center mx-auto mb-4 font-bold text-lg",children:"3"}),a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Get Notified"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Receive email notification when assessment is complete"})]}),a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"w-12 h-12 bg-primary-700 text-white rounded-full flex items-center justify-center mx-auto mb-4 font-bold text-lg",children:"4"}),a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Access Insights"}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Review detailed results and AI-powered advisor recommendations"})]})]})]})]})]})}function fk(){const{isAuthenticated:t,advisor:e}=fs(),[n,r]=_.useState({advisorEmail:(e==null?void 0:e.email)||"",clientEmail:""}),[s,i]=_.useState({type:"idle",message:""}),[o,l]=_.useState(""),[c,u]=_.useState(!1),d=_.useMemo(()=>`${window.location.origin}/assessment`,[]),h=x=>{const{name:b,value:y}=x.target;r(m=>({...m,[b]:y})),i({type:"idle",message:""})},f=async x=>{if(x.preventDefault(),!n.advisorEmail||!n.clientEmail){i({type:"error",message:"Please enter both email addresses before sharing the assessment."});return}if(!t){l(d),i({type:"info",message:"Copy the link below to invite your contact. Log in as an advisor to unlock AI summaries and tracked invitations."});return}u(!0),i({type:"idle",message:""});try{const b=await he.shareAssessment((e==null?void 0:e.name)||"",n.advisorEmail,n.clientEmail);b.success?(l(b.assessmentLink||""),i({type:"success",message:"Invitation sent! Share the link below if you would like to follow up manually with your client."}),r({advisorEmail:(e==null?void 0:e.email)||"",clientEmail:""})):(i({type:"error",message:b.error||"We were unable to send the invitation. Please try again."}),b.assessmentLink&&l(b.assessmentLink))}catch(b){console.error("Failed to share assessment:",b),i({type:"error",message:"Something went wrong. Please try again in a moment."})}finally{u(!1)}},p=async()=>{if(o)try{await navigator.clipboard.writeText(o),i({type:"success",message:"Link copied! Share it with your client to begin their assessment."})}catch(x){console.error("Unable to copy link:",x),i({type:"info",message:"Copy the URL manually if automatic copy does not work in your browser."})}},v={idle:"",success:"border-accent-600/40 text-accent-700",error:"border-red-500/30 text-red-700",info:"border-primary-500/30 text-primary-800"};return a.jsx(Xo,{children:a.jsxs("div",{className:"bg-canvas",children:[a.jsx("section",{className:"py-16 sm:py-20",children:a.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center space-y-6",children:[a.jsx("p",{className:"text-sm font-semibold uppercase tracking-[0.28em] text-primary-500",children:"Advisor resources"}),a.jsx("h1",{className:"text-4xl font-semibold text-ink sm:text-5xl",children:"Share the Your Money Personality assessment with clients"}),a.jsx("p",{className:"text-neutral-700 text-lg",children:"Invite someone to take the assessment and explore their motivations around money. Advisors who log in receive AI- powered summaries and dashboard access once a client completes the experience."}),a.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-3",children:[t?a.jsx(ne,{to:"/advisor/dashboard",className:"btn-secondary",children:"Go to your advisor dashboard"}):a.jsx(ne,{to:"/advisor/login",className:"btn-secondary",children:"Advisor log in"}),a.jsx(ne,{to:"/assessment",className:"btn-link",children:"Preview the participant experience"})]})]})}),a.jsx("section",{className:"pb-20",children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"rounded-3xl border border-neutral-200 bg-white shadow-subtle p-8 sm:p-10 space-y-8",children:[a.jsxs("div",{className:"space-y-3 text-center sm:text-left",children:[a.jsx("h2",{className:"text-2xl font-semibold text-ink",children:"Send an assessment invite"}),a.jsx("p",{className:"text-neutral-600",children:"Enter your contact’s email to generate a shareable link. Logged-in advisors automatically receive client results and AI insights when the assessment is finished."})]}),a.jsxs("form",{onSubmit:f,className:"grid gap-6 sm:grid-cols-2 sm:gap-8",children:[a.jsxs("div",{className:"sm:col-span-1",children:[a.jsx("label",{htmlFor:"advisorEmail",className:"block text-sm font-semibold text-neutral-700",children:"Your email"}),a.jsx("input",{id:"advisorEmail",name:"advisorEmail",type:"email",value:n.advisorEmail,onChange:h,placeholder:"you@yourpractice.com",className:"mt-2 w-full rounded-md border border-neutral-300 px-4 py-3 text-neutral-700 placeholder:text-neutral-400 focus:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-300/60",required:!0,readOnly:t}),t&&a.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:"Using your advisor account email ensures invites stay linked to your dashboard."})]}),a.jsxs("div",{className:"sm:col-span-1",children:[a.jsx("label",{htmlFor:"clientEmail",className:"block text-sm font-semibold text-neutral-700",children:"Email address of the person you’re inviting"}),a.jsx("input",{id:"clientEmail",name:"clientEmail",type:"email",value:n.clientEmail,onChange:h,placeholder:"client@example.com",className:"mt-2 w-full rounded-md border border-neutral-300 px-4 py-3 text-neutral-700 placeholder:text-neutral-400 focus:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-300/60",required:!0})]}),a.jsxs("div",{className:"sm:col-span-2 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("button",{type:"submit",className:"btn-primary w-full sm:w-auto",disabled:c,children:t?"Send invite":"Generate share link"}),a.jsx("p",{className:"text-sm text-neutral-500 sm:text-right",children:"Sharing without advisor login keeps AI-powered summaries disabled until the client connects with you."})]})]}),s.type!=="idle"&&a.jsx("div",{className:`rounded-2xl border bg-white px-5 py-4 text-sm ${v[s.type]}`,children:s.message}),o&&a.jsxs("div",{className:"flex flex-col gap-3 rounded-2xl border border-neutral-200 bg-neutral-50 p-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("div",{className:"text-sm text-neutral-700 break-all",children:o}),a.jsx("button",{type:"button",onClick:p,className:"btn-secondary whitespace-nowrap",children:"Copy link"})]})]})})}),a.jsx("section",{className:"py-16 bg-white",children:a.jsxs("div",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 grid gap-10 lg:grid-cols-2 items-start",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("h2",{className:"text-2xl font-semibold text-ink",children:"Want to share with a friend instead?"}),a.jsx("p",{className:"text-neutral-700",children:"Participants can invite someone they trust straight from their Money Personality dashboard. These peer-to-peer shares provide comparison insights but do not include advisor-only AI summaries."}),a.jsx(ne,{to:"/dashboard",className:"btn-link",children:"Explore the participant dashboard"})]}),a.jsxs("div",{className:"rounded-3xl border border-neutral-200 bg-neutral-50 p-6 space-y-4 text-sm text-neutral-700",children:[a.jsx("p",{className:"font-semibold text-ink",children:"Advisor benefits at a glance"}),a.jsxs("ul",{className:"list-disc space-y-2 pl-5",children:[a.jsx("li",{children:"Automated AI recaps tailored to each client’s assessment responses."}),a.jsx("li",{children:"Dashboard visibility into completion status and shared activity."}),a.jsx("li",{children:"Starter email copy to make introductions quick and on-brand."})]}),!t&&a.jsx("p",{className:"text-neutral-600",children:"Log in when you’re ready to unlock these benefits and streamline your follow-up process."})]})]})})]})})}function pk(){var y,m;const t=us(),e=pn(),{login:n,signup:r}=fs(),[s,i]=_.useState(!1),[o,l]=_.useState(!1),[c,u]=_.useState(""),[d,h]=_.useState(""),[f,p]=_.useState({email:"",password:"",name:"",company:""}),v=((m=(y=e.state)==null?void 0:y.from)==null?void 0:m.pathname)||"/advisor/dashboard",x=g=>{p({...f,[g.target.name]:g.target.value}),u(""),h("")},b=async g=>{g.preventDefault(),l(!0),u(""),h("");try{if(s){if(!f.name.trim()){u("Name is required"),l(!1);return}const k=await r({email:f.email,password:f.password,name:f.name,company:f.company||void 0});k.success?(h("Account created successfully! Redirecting…"),setTimeout(()=>t(v),1500)):u(k.error||"Signup failed")}else{const k=await n({email:f.email,password:f.password});k.success?(h("Login successful! Redirecting…"),setTimeout(()=>t(v),1e3)):u(k.error||"Login failed")}}catch{u("An unexpected error occurred. Please try again.")}finally{l(!1)}};return a.jsxs("div",{className:"min-h-screen professional-bg flex flex-col",children:[a.jsx("header",{className:"bg-white border-b border-neutral-200",children:a.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-4 py-4 sm:px-6 lg:px-8",children:[a.jsx(ne,{to:"/",children:a.jsx("img",{src:"https://media-cdn.igrad.com/IMAGE/Logos/Standard-White/Enrich.png",alt:"Enrich",className:"h-8 w-auto"})}),a.jsx(ne,{to:"/",className:"text-sm font-semibold text-primary-700 transition hover:text-primary-900",children:"Return to Money Personality"})]})}),a.jsx("main",{className:"flex-1",children:a.jsx("div",{className:"mx-auto max-w-6xl px-4 py-12 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"grid items-center gap-12 lg:grid-cols-2",children:[a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-primary-500",children:"Advisor access"}),a.jsx("h1",{className:"text-4xl font-semibold text-primary-900 sm:text-5xl",children:"Support every client’s Money Personality journey."}),a.jsx("p",{className:"text-lg text-ink/85",children:"Invite clients to complete the assessment, unlock their behavioral insights, and personalize your guidance with Enrich resources."})]}),a.jsx("div",{className:"overflow-hidden rounded-[1.5rem] border border-neutral-200 bg-white shadow-subtle",children:a.jsx("img",{src:"https://images.pexels.com/photos/3184298/pexels-photo-3184298.jpeg?auto=compress&cs=tinysrgb&w=1200&h=900&dpr=1",alt:"Advisor meeting with clients while reviewing financial plans.",className:"h-72 w-full object-cover"})}),a.jsxs("div",{className:"grid gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"rounded-xl border border-neutral-200 bg-white/80 p-4",children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-primary-500",children:"Measure progress"}),a.jsx("p",{className:"mt-2 text-sm text-ink/80",children:"Track completion rates and access Money Personality profiles with a single login."})]}),a.jsxs("div",{className:"rounded-xl border border-neutral-200 bg-white/80 p-4",children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-primary-500",children:"Personalize coaching"}),a.jsx("p",{className:"mt-2 text-sm text-ink/80",children:"Use Enrich tools and resources tailored to each behavioral segment."})]})]})]}),a.jsx("div",{className:"w-full",children:a.jsxs("div",{className:"rounded-[1.25rem] border border-neutral-200 bg-white p-8 shadow-subtle sm:p-10",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("h2",{className:"text-2xl font-semibold text-primary-900",children:s?"Create advisor account":"Advisor sign in"}),a.jsx("p",{className:"text-sm text-ink/80",children:s?"Set up access for your firm to share assessments with clients.":"Log in to manage invitations and review client results."})]}),c&&a.jsx("div",{className:"mt-6 rounded-xl border border-primary-700/40 bg-white px-4 py-3 text-sm text-primary-700",children:c}),d&&a.jsx("div",{className:"mt-6 rounded-xl border border-accent-600/40 bg-white px-4 py-3 text-sm text-accent-600",children:d}),a.jsxs("form",{onSubmit:b,className:"mt-8 space-y-6",children:[s&&a.jsxs(a.Fragment,{children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"name",className:"block text-sm font-semibold text-neutral-700",children:"Full name *"}),a.jsx("input",{type:"text",id:"name",name:"name",required:s,value:f.name,onChange:x,placeholder:"Jamie Advisor",className:"mt-2 w-full rounded-md border border-neutral-300 px-4 py-3 text-neutral-700 placeholder:text-neutral-400 focus:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-300/60"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"company",className:"block text-sm font-semibold text-neutral-700",children:"Company (optional)"}),a.jsx("input",{type:"text",id:"company",name:"company",value:f.company,onChange:x,placeholder:"Your advisory firm",className:"mt-2 w-full rounded-md border border-neutral-300 px-4 py-3 text-neutral-700 placeholder:text-neutral-400 focus:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-300/60"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-neutral-700",children:"Email address *"}),a.jsx("input",{type:"email",id:"email",name:"email",required:!0,value:f.email,onChange:x,placeholder:"advisor@firm.com",className:"mt-2 w-full rounded-md border border-neutral-300 px-4 py-3 text-neutral-700 placeholder:text-neutral-400 focus:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-300/60"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-neutral-700",children:"Password *"}),a.jsx("input",{type:"password",id:"password",name:"password",required:!0,value:f.password,onChange:x,minLength:6,placeholder:"••••••••",className:"mt-2 w-full rounded-md border border-neutral-300 px-4 py-3 text-neutral-700 placeholder:text-neutral-400 focus:border-primary-500 focus:outline-none focus:ring-2 focus:ring-primary-300/60"}),s&&a.jsx("p",{className:"mt-2 text-xs text-neutral-500",children:"Minimum 6 characters"})]}),a.jsx("button",{type:"submit",disabled:o,className:"w-full rounded-full bg-primary-700 px-5 py-3 text-sm font-semibold text-white transition hover:bg-primary-800 disabled:cursor-not-allowed disabled:opacity-60",children:o?s?"Creating account…":"Signing in…":s?"Create account":"Sign in"})]}),a.jsx("button",{onClick:()=>{i(!s),u(""),h(""),p({email:"",password:"",name:"",company:""})},className:"mt-6 text-sm font-semibold text-primary-700 transition hover:text-primary-900",children:s?"Already have an account? Sign in":"New to Money Personality? Create an advisor account"}),a.jsxs("div",{className:"mt-8 space-y-4",children:[!s&&a.jsxs("div",{className:"rounded-xl border border-neutral-200 bg-white/80 px-4 py-3 text-sm text-neutral-600",children:[a.jsx("strong",{className:"font-semibold text-primary-900",children:"New advisor?"})," Create an account to invite clients and track their assessments."]}),a.jsxs("div",{className:"rounded-xl border border-neutral-200 bg-white/80 px-4 py-3 text-sm text-neutral-600",children:[a.jsx("strong",{className:"font-semibold text-primary-900",children:"Email confirmation:"})," After signup, check your inbox for the confirmation link before signing in."]})]})]})})]})})})]})}function mk(){const{advisor:t,logout:e}=fs(),[n,r]=_.useState([]),[s,i]=_.useState([]),[o,l]=_.useState(!0),[c,u]=_.useState({isOpen:!1,assessmentId:"",clientName:""}),[d,h]=_.useState(!1),[f,p]=_.useState(""),[v,x]=_.useState(null),[b,y]=_.useState(null),m=(t==null?void 0:t.email)??null,g=(t==null?void 0:t.name)??"",k=_.useCallback(async(R=!0)=>{const j=t==null?void 0:t.email,M=(t==null?void 0:t.name)||"";if(!j){R&&l(!1);return}R&&l(!0);try{const[U,z]=await Promise.all([he.getAssessmentsForAdvisorFromDatabase(j,M),he.getUnlockedAssessmentResultsForAdvisor(j)]);if(U.length>0){r(U);const J=U.filter(q=>q.is_trial&&q.status==="completed"&&!q.is_paid);if(J.length>0){console.log("Auto-unlocking trial assessments:",J.map(Q=>Q.id));for(const Q of J)try{await he.forceUnlockAssessment(Q.id),console.log("Auto-unlocked trial assessment:",Q.id)}catch(xe){console.error("Failed to auto-unlock trial assessment:",Q.id,xe)}const[q,K]=await Promise.all([he.getAssessmentsForAdvisorFromDatabase(j,M),he.getUnlockedAssessmentResultsForAdvisor(j)]);r(q),i(K)}}else{const J=he.getAssessmentsForAdvisor(j);if(J.length>0){const q=J.map(K=>({id:K.id,advisor_email:j,advisor_name:M||K.advisorName,client_email:K.clientEmail,client_name:K.clientName,status:K.status==="sent"?"sent":"completed",assessment_link:K.assessmentLink,sent_at:K.sentAt instanceof Date?K.sentAt.toISOString():K.sentAt?new Date(K.sentAt).toISOString():new Date().toISOString(),completed_at:K.completedAt instanceof Date?K.completedAt.toISOString():K.completedAt?new Date(K.completedAt).toISOString():void 0,is_paid:!1,paid_at:null,is_trial:K.isTrial??!1,confirmation_sent_at:K.confirmationSentAt instanceof Date?K.confirmationSentAt.toISOString():K.confirmationSentAt??null}));r(q)}else r([])}i(z)}catch(U){console.error("Failed to load advisor dashboard data:",U)}finally{R&&l(!1)}},[t==null?void 0:t.email,t==null?void 0:t.name]);_.useEffect(()=>{k(!0)},[k]),_.useEffect(()=>{const R=M=>{M.key==="advisor_assessments"&&k(!1)},j=()=>{k(!1)};return window.addEventListener("storage",R),window.addEventListener("localStorageUpdate",j),()=>{window.removeEventListener("storage",R),window.removeEventListener("localStorageUpdate",j)}},[k]);const S=()=>{e()},E=R=>{window.open(`/dashboard?advisor=${R}`,"_blank")},N=(R,j)=>{u({isOpen:!0,assessmentId:R,clientName:j}),p("")},A=async()=>{if(!c.assessmentId)return;h(!0),p("");const R=await he.deleteAssessment(c.assessmentId);h(!1),R.success?(await k(!1),u({isOpen:!1,assessmentId:"",clientName:""})):p(R.error||"Failed to delete assessment")},W=()=>{u({isOpen:!1,assessmentId:"",clientName:""}),p("")},F=async R=>{if(!m){y({type:"error",message:"You must be logged in to unlock a report."});return}x(R),y(null);const j=await he.unlockAssessment(R);if(x(null),!j.success){y({type:"error",message:j.error||"Failed to unlock report. Please try again."});return}y({type:"success",message:"Report unlocked successfully for demo purposes."}),await k(!1)},H=_.useMemo(()=>{if(!b)return null;switch(b.type){case"success":return{container:"border border-accent-600/50 bg-white text-neutral-700",label:"Success",accent:"text-accent-600"};case"error":return{container:"border border-primary-700/40 bg-white text-neutral-700",label:"Attention",accent:"text-primary-700"};default:return{container:"border border-primary-500/40 bg-white text-neutral-700",label:"Notice",accent:"text-primary-500"}}},[b]),Ne=_.useMemo(()=>n.filter(R=>R.status==="completed"),[n]),Oe=_.useMemo(()=>n.filter(R=>R.status!=="completed"),[n]),ke=_.useMemo(()=>{const R={};return s.forEach(j=>{R[j.assessment_id]=j}),R},[s]),mn=_.useMemo(()=>Ne.filter(R=>{const j=ke[R.id];return j&&j.is_unlocked}).length,[Ne,ke]);if(o)return a.jsx("div",{className:"min-h-screen professional-bg flex items-center justify-center px-4",children:a.jsxs("div",{className:"w-full max-w-sm rounded-2xl border border-neutral-200 bg-white px-8 py-10 text-center shadow-subtle",children:[a.jsx("div",{className:"mx-auto mb-6 h-12 w-12 rounded-full border-2 border-primary-300 border-t-transparent animate-spin"}),a.jsx("p",{className:"text-sm font-semibold uppercase tracking-[0.3em] text-neutral-500",children:"Loading"}),a.jsx("h2",{className:"mt-2 text-lg font-semibold text-primary-900",children:"Preparing your advisor workspace…"})]})});const Te=n.length;return a.jsxs("div",{className:"min-h-screen professional-bg",children:[a.jsx("header",{className:"bg-white border-b border-neutral-200",children:a.jsxs("div",{className:"mx-auto flex max-w-6xl items-center justify-between px-4 py-4 sm:px-6 lg:px-8",children:[a.jsx(ne,{to:"/",children:a.jsx("img",{src:"https://media-cdn.igrad.com/IMAGE/Logos/Standard-White/Enrich.png",alt:"Enrich",className:"h-8 w-auto"})}),a.jsxs("div",{className:"flex items-center gap-3 text-sm text-neutral-600",children:[a.jsxs("span",{className:"hidden sm:inline",children:["Welcome back, ",g||"Advisor"]}),a.jsx("button",{type:"button",onClick:S,className:"rounded-full border border-neutral-300 px-4 py-2 font-semibold text-neutral-700 transition hover:border-primary-500 hover:text-primary-700",children:"Sign out"})]})]})}),a.jsxs("main",{className:"mx-auto max-w-6xl px-4 py-10 sm:px-6 lg:px-8",children:[a.jsx("section",{className:"mb-12 overflow-hidden rounded-[2rem] border border-primary-700/25 bg-primary-900 text-white shadow-subtle",children:a.jsxs("div",{className:"grid gap-0 lg:grid-cols-[1.2fr,0.85fr]",children:[a.jsxs("div",{className:"flex flex-col justify-between p-8 sm:p-12",children:[a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-primary-200/80",children:"Advisor workspace"}),a.jsxs("h1",{className:"text-3xl font-semibold leading-snug sm:text-4xl",children:["Welcome back, ",g||"Advisor","."]}),a.jsx("p",{className:"text-base leading-relaxed text-primary-100/90 sm:text-lg",children:"Monitor Money Personality invitations, unlock completed reports, and keep clients moving toward measurable financial wellness."})]}),a.jsxs("div",{className:"mt-8 flex flex-wrap gap-3",children:[a.jsx(ne,{to:"/advisor/share",className:"inline-flex items-center justify-center rounded-full bg-accent-600 px-5 py-2.5 text-sm font-semibold text-white transition hover:bg-accent-700",children:"Share new assessment"}),a.jsx("a",{href:"https://www.enrich.org/financial-wellness-resources",target:"_blank",rel:"noreferrer",className:"inline-flex items-center justify-center rounded-full border border-white/60 px-5 py-2.5 text-sm font-semibold text-white transition hover:border-white hover:bg-white/10",children:"Advisor resource center"})]}),a.jsxs("dl",{className:"mt-10 grid gap-4 sm:grid-cols-2",children:[a.jsxs("div",{className:"rounded-xl border border-white/15 bg-white/10 p-5 backdrop-blur-sm",children:[a.jsx("dt",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-primary-200/80",children:"Current invitations"}),a.jsx("dd",{className:"mt-2 text-3xl font-semibold",children:Oe.length})]}),a.jsxs("div",{className:"rounded-xl border border-white/15 bg-white/10 p-5 backdrop-blur-sm",children:[a.jsx("dt",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-primary-200/80",children:"Reports unlocked"}),a.jsx("dd",{className:"mt-2 text-3xl font-semibold",children:mn})]})]})]}),a.jsx("div",{className:"relative hidden overflow-hidden lg:block",children:a.jsx("img",{src:"https://images.pexels.com/photos/1181406/pexels-photo-1181406.jpeg?auto=compress&cs=tinysrgb&w=1200&h=900&dpr=1",alt:"Advisors collaborating while reviewing Money Personality reports on a laptop.",className:"h-full w-full object-cover"})})]})}),b&&H&&a.jsxs("div",{className:`mb-10 flex items-start justify-between gap-6 rounded-xl px-6 py-5 shadow-sm ${H.container}`,children:[a.jsxs("div",{children:[a.jsx("p",{className:`text-xs font-semibold uppercase tracking-[0.3em] ${H.accent}`,children:H.label}),a.jsx("p",{className:"mt-2 text-sm text-ink",children:b.message})]}),a.jsx("button",{type:"button",onClick:()=>y(null),className:"text-sm font-semibold text-neutral-500 transition hover:text-neutral-700",children:"Dismiss"})]}),a.jsx("section",{className:"mb-12 grid gap-4 sm:grid-cols-2 lg:grid-cols-4",children:[{label:"Clients engaged",value:Te},{label:"Assessments completed",value:Ne.length},{label:"In progress",value:Oe.length},{label:"Unlocked insights",value:mn}].map(R=>a.jsxs("div",{className:"rounded-xl border border-primary-700/20 bg-white p-6 shadow-subtle",children:[a.jsx("p",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-primary-500",children:R.label}),a.jsx("p",{className:"mt-3 text-3xl font-semibold text-primary-900",children:R.value})]},R.label))}),a.jsxs("section",{className:"modern-card",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-primary-900",children:"Completed assessments"}),a.jsx("p",{className:"text-sm text-ink/80",children:"Unlock Money Personality profiles and share tailored coaching plans."})]}),a.jsx(ne,{to:"/advisor/share",className:"btn-secondary",children:"Send another invitation"})]}),Ne.length===0?a.jsxs("div",{className:"mt-10 rounded-xl border border-dashed border-neutral-300 bg-white/70 px-6 py-12 text-center",children:[a.jsx("p",{className:"text-sm font-semibold uppercase tracking-[0.3em] text-primary-500",children:"No results yet"}),a.jsx("h3",{className:"mt-3 text-xl font-semibold text-primary-900",children:"Invite a client to experience the assessment."}),a.jsx("p",{className:"mt-3 text-ink/80",children:"Once clients finish their Money Personality assessment, their full report appears in this workspace."}),a.jsx(ne,{to:"/advisor/share",className:"btn-primary mt-6",children:"Share the assessment link"})]}):a.jsx("div",{className:"mt-8 overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-neutral-200 text-xs font-semibold uppercase tracking-[0.2em] text-neutral-500",children:[a.jsx("th",{className:"py-3 pr-4",children:"Client"}),a.jsx("th",{className:"py-3 pr-4",children:"Personality focus"}),a.jsx("th",{className:"py-3 pr-4",children:"Completed"}),a.jsx("th",{className:"py-3 pr-4",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-neutral-200 text-sm",children:Ne.map(R=>{var K,Q;const j=ke[R.id],M=!!j,U=R.is_paid,z=U&&!M,J=R.is_trial,q=M&&Array.isArray((K=j==null?void 0:j.profile)==null?void 0:K.personalities)?(Q=j==null?void 0:j.profile)==null?void 0:Q.personalities:[];return a.jsxs("tr",{className:"align-top hover:bg-neutral-100/40",children:[a.jsx("td",{className:"py-4 pr-4",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-primary-900",children:R.client_name||"Anonymous Client"}),a.jsx("p",{className:"mt-1 text-xs text-neutral-600",children:R.client_email})]}),J&&a.jsx("span",{className:"inline-flex items-center rounded-full bg-accent-100 px-2 py-0.5 text-xs font-semibold text-accent-700",children:"Trial"})]})}),a.jsx("td",{className:"py-4 pr-4",children:M?a.jsxs("div",{className:"flex flex-wrap gap-2",children:[q.slice(0,3).map((xe,mt)=>a.jsx("span",{className:"inline-flex items-center rounded-full bg-primary-100 px-3 py-1 text-xs font-semibold text-primary-700",children:xe},mt)),q.length>3&&a.jsxs("span",{className:"inline-flex items-center rounded-full bg-neutral-100 px-3 py-1 text-xs font-semibold text-neutral-600",children:["+",q.length-3," more"]})]}):a.jsx("p",{className:"text-sm text-neutral-600",children:z?"Processing…":J?"Free trial report available":"Unlock this report to view the full profile."})}),a.jsx("td",{className:"py-4 pr-4 text-neutral-700",children:R.completed_at?new Date(R.completed_at).toLocaleDateString():"—"}),a.jsx("td",{className:"py-4 pr-0",children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[M?a.jsx("button",{type:"button",onClick:()=>E(R.id),className:"rounded-full bg-primary-700 px-4 py-2 text-sm font-semibold text-white transition hover:bg-primary-800",children:"View results"}):U?a.jsx("span",{className:"rounded-full bg-neutral-100 px-4 py-2 text-sm font-semibold text-neutral-600",children:z?"Unlocking…":"Payment received"}):a.jsx("button",{type:"button",onClick:()=>F(R.id),disabled:v===R.id,className:"rounded-full bg-accent-600 px-4 py-2 text-sm font-semibold text-white transition hover:bg-accent-700 disabled:cursor-not-allowed disabled:opacity-60",children:v===R.id?"Unlocking…":J?"View free trial report":"Unlock report"}),a.jsx("button",{type:"button",onClick:()=>N(R.id,R.client_name),className:"rounded-full border border-neutral-300 px-4 py-2 text-sm font-semibold text-neutral-600 transition hover:border-primary-500 hover:text-primary-700",children:"Remove"})]})})]},R.id)})})]})})]}),a.jsxs("section",{className:"modern-card mt-10",children:[a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-2xl font-semibold text-primary-900",children:"Pending invitations"}),a.jsx("p",{className:"text-sm text-ink/80",children:"Follow up with clients who have not yet completed the assessment."})]}),a.jsx(ne,{to:"/advisor/share",className:"btn-secondary",children:"Invite another client"})]}),Oe.length===0?a.jsxs("div",{className:"mt-10 rounded-xl border border-dashed border-neutral-300 bg-white/70 px-6 py-12 text-center",children:[a.jsx("p",{className:"text-sm font-semibold uppercase tracking-[0.3em] text-primary-500",children:"All invitations completed"}),a.jsx("h3",{className:"mt-3 text-xl font-semibold text-primary-900",children:"Every client has submitted their Money Personality assessment."}),a.jsx("p",{className:"mt-3 text-ink/80",children:"Send a new invitation to expand your insights across your client base."}),a.jsx(ne,{to:"/advisor/share",className:"btn-primary mt-6",children:"Share the assessment link"})]}):a.jsx("div",{className:"mt-8 overflow-x-auto",children:a.jsxs("table",{className:"w-full text-left",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-neutral-200 text-xs font-semibold uppercase tracking-[0.2em] text-neutral-500",children:[a.jsx("th",{className:"py-3 pr-4",children:"Client"}),a.jsx("th",{className:"py-3 pr-4",children:"Status"}),a.jsx("th",{className:"py-3 pr-4",children:"Sent"}),a.jsx("th",{className:"py-3 pr-4",children:"Actions"})]})}),a.jsx("tbody",{className:"divide-y divide-neutral-200 text-sm",children:Oe.map(R=>a.jsxs("tr",{className:"align-top hover:bg-neutral-100/40",children:[a.jsxs("td",{className:"py-4 pr-4",children:[a.jsx("p",{className:"font-semibold text-primary-900",children:R.client_name||"Anonymous Client"}),a.jsx("p",{className:"mt-1 text-xs text-neutral-600",children:R.client_email})]}),a.jsx("td",{className:"py-4 pr-4",children:a.jsx("span",{className:"inline-flex rounded-full bg-primary-100 px-3 py-1 text-xs font-semibold text-primary-700",children:"Pending completion"})}),a.jsx("td",{className:"py-4 pr-4 text-neutral-700",children:R.sent_at?new Date(R.sent_at).toLocaleDateString():"—"}),a.jsx("td",{className:"py-4 pr-0",children:a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{type:"button",onClick:()=>{navigator.clipboard.writeText(R.assessment_link),alert("Assessment link copied to clipboard!")},className:"rounded-full border border-primary-500/60 px-4 py-2 text-sm font-semibold text-primary-700 transition hover:border-primary-700 hover:text-primary-900",children:"Copy link"}),a.jsx("button",{type:"button",onClick:()=>N(R.id,R.client_name),className:"rounded-full border border-neutral-300 px-4 py-2 text-sm font-semibold text-neutral-600 transition hover:border-primary-500 hover:text-primary-700",children:"Remove"})]})})]},R.id))})]})})]})]}),c.isOpen&&a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-ink/40 px-4",children:a.jsxs("div",{className:"w-full max-w-lg rounded-2xl border border-neutral-200 bg-white p-8 shadow-subtle",children:[a.jsx("h3",{className:"text-2xl font-semibold text-primary-900",children:"Delete assessment"}),a.jsxs("p",{className:"mt-3 text-sm text-neutral-600",children:["Removing this invitation permanently deletes any associated progress or results for"," ",a.jsx("strong",{className:"font-semibold text-primary-900",children:c.clientName||"this client"}),"."]}),f&&a.jsx("div",{className:"mt-6 rounded-xl border border-primary-700/40 bg-white px-4 py-3 text-sm text-primary-700",children:f}),a.jsxs("div",{className:"mt-8 flex flex-col-reverse gap-3 sm:flex-row sm:justify-end",children:[a.jsx("button",{type:"button",onClick:W,disabled:d,className:"rounded-full border border-neutral-300 px-5 py-2.5 text-sm font-semibold text-neutral-600 transition hover:border-primary-500 hover:text-primary-700 disabled:cursor-not-allowed disabled:opacity-60",children:"Cancel"}),a.jsx("button",{type:"button",onClick:A,disabled:d,className:"rounded-full bg-primary-700 px-5 py-2.5 text-sm font-semibold text-white transition hover:bg-primary-800 disabled:cursor-not-allowed disabled:opacity-60",children:d?"Deleting…":"Delete assessment"})]})]})})]})}const gk=[1,2,3,4,5,6,7],yk=(t,e)=>t===Math.floor(e*.25)?"You've completed the spending behavior section—great momentum.":t===Math.floor(e*.5)?"Halfway there. Planning and goal-setting insights are taking shape.":t===Math.floor(e*.75)?"Only a few more to go. Decision-making patterns are almost complete.":t===e-2?"Final stretch. Stay focused on your instinctive reactions.":null;function vk({question:t,questionNumber:e,totalQuestions:n,value:r,onChange:s,onNext:i,onPrevious:o,canGoNext:l,canGoPrevious:c}){const u=e/n*100,d=yk(e,n);return a.jsxs("div",{className:"w-full max-w-3xl",children:[a.jsxs("div",{className:"mb-8 flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between text-sm text-neutral-600",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("span",{className:"inline-flex items-center justify-center rounded-full bg-primary-100 px-3 py-1 text-xs font-semibold uppercase tracking-wide text-primary-700",children:["Question ",e," of ",n]}),a.jsxs("span",{className:"font-semibold text-primary-700",children:[Math.round(u),"% complete"]})]}),a.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-neutral-200 sm:max-w-xs",children:a.jsx("div",{className:"progress-bar h-2",style:{width:`${u}%`}})})]}),a.jsxs("div",{className:"rounded-3xl border border-neutral-200 bg-white p-8 sm:p-12 shadow-subtle space-y-10",children:[a.jsx("h2",{className:"text-2xl sm:text-3xl font-semibold leading-tight text-center text-ink",children:t}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center justify-between text-xs font-semibold uppercase tracking-[0.2em] text-neutral-500",children:[a.jsx("span",{children:"Not at all"}),a.jsx("span",{children:"Very well"})]}),a.jsx("div",{className:"grid grid-cols-7 gap-3 sm:gap-4",children:gk.map(h=>a.jsx("button",{type:"button","aria-label":`Response ${h}`,"aria-pressed":r===h,className:`likert-option ${r===h&&r!==0?"active":""}`,onClick:()=>s(h),children:h},h))}),r!==0?a.jsxs("p",{className:"text-center text-sm text-neutral-600",children:["Your current selection: ",a.jsx("span",{className:"font-semibold text-primary-700",children:r})]}):a.jsx("p",{className:"text-center text-sm text-neutral-500",children:"Please select a response to continue"})]}),a.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[a.jsx("button",{type:"button",onClick:o,disabled:!c,className:`inline-flex items-center justify-center rounded-full px-6 py-3 text-sm font-semibold transition focus-visible:outline-none ${c?"border border-neutral-300 text-neutral-700 hover:border-primary-400 hover:text-primary-700":"border border-neutral-200 text-neutral-400 cursor-not-allowed bg-neutral-100"}`,children:"Back"}),a.jsx("button",{type:"button",onClick:i,disabled:!l,className:`inline-flex items-center justify-center rounded-full px-8 py-3 text-sm font-semibold text-white transition focus-visible:outline-none ${l?"bg-accent-600 hover:bg-accent-700":"bg-neutral-300 text-neutral-500 cursor-not-allowed"}`,children:e===n?"Complete assessment":"Next question"})]})]}),d&&a.jsx("div",{className:"mt-6 rounded-2xl border-l-4 border-primary-500 bg-white/70 p-6 text-sm text-neutral-700 shadow-subtle",children:d})]})}function xk(){const t=us(),[e]=Om(),[n,r]=_.useState(0),[s,i]=_.useState(new Array(Dt.length).fill(0)),[o,l]=_.useState(!1),[c,u]=_.useState(null),[d,h]=_.useState(null),[f,p]=_.useState(null),[v,x]=_.useState(null);_.useEffect(()=>{const S=e.get("advisor"),E=e.get("share");(async()=>{if(S){const A=await he.getAssessmentFromDatabase(S);if(A)u(S),h({name:A.advisor_name,email:A.advisor_email});else{const W=he.getAssessment(S);W&&(u(S),h({name:W.advisorName,email:W.advisorEmail}))}}else if(E){const A=he.getFriendAssessment(E);A&&(p(E),x({sharerName:A.sharerName,relationship:A.relationship,personalNote:A.personalNote}))}})()},[e]);const b=async S=>{l(!0);try{const E=Yh(S);localStorage.setItem("userProfile",JSON.stringify(E)),localStorage.setItem("assessmentAnswers",JSON.stringify(S)),c?await he.completeAssessment(c,E):f?await he.completeFriendAssessment(f,E):localStorage.removeItem("advisorSummary"),setTimeout(()=>t("/dashboard"),120)}catch(E){console.error("Assessment completion error:",E);const N=Yh(S);localStorage.setItem("userProfile",JSON.stringify(N)),localStorage.setItem("assessmentAnswers",JSON.stringify(S)),setTimeout(()=>t("/dashboard"),120)}},y=S=>{if(o)return;const E=[...s];E[n]=S,i(E);const N=n===Dt.length-1,A=()=>{N?b(E):r(W=>Math.min(W+1,Dt.length-1))};window.setTimeout(A,180)},m=async()=>{if(n<Dt.length-1){r(S=>S+1);return}await b(s)},g=()=>{n>0&&r(S=>S-1)},k=()=>{t("/")};return o?a.jsxs("div",{className:"min-h-screen bg-canvas text-ink",children:[a.jsx("header",{className:"sticky top-0 z-20 border-b border-neutral-200 bg-white shadow-sm",children:a.jsx("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:a.jsx("span",{className:"text-sm font-semibold text-neutral-600",children:"Wrapping up your assessment…"})})}),a.jsx("main",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-24",children:a.jsxs("div",{className:"rounded-3xl border border-neutral-200 bg-white p-12 text-center shadow-subtle space-y-6",children:[a.jsx("h1",{className:"text-3xl font-semibold text-ink",children:"Analyzing your responses"}),a.jsx("p",{className:"text-neutral-700",children:"We’re translating your selections into a Money Personality profile and tailored guidance. This only takes a moment."}),a.jsx("div",{className:"flex justify-center gap-2",children:[0,1,2].map(S=>a.jsx("span",{className:"h-3 w-3 rounded-full bg-primary-500 animate-pulse",style:{animationDelay:`${S*.2}s`}},S))})]})})]}):a.jsxs("div",{className:"min-h-screen bg-canvas text-ink",children:[a.jsx("header",{className:"sticky top-0 z-30 border-b border-neutral-200 bg-white/95 backdrop-blur supports-[backdrop-filter]:bg-white/80",children:a.jsxs("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between gap-6",children:[a.jsx("button",{type:"button",onClick:k,className:"text-sm font-semibold text-primary-700 hover:text-primary-500",children:"Exit to Enrich"}),a.jsxs("div",{className:"hidden sm:flex items-center gap-4 text-sm text-neutral-600",children:[a.jsxs("span",{children:["Question ",n+1," of ",Dt.length]}),a.jsx("div",{className:"h-1.5 w-40 overflow-hidden rounded-full bg-neutral-200",children:a.jsx("div",{className:"progress-bar h-1.5",style:{width:`${(n+1)/Dt.length*100}%`}})})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("button",{type:"button",onClick:g,disabled:n===0,className:`inline-flex items-center justify-center rounded-full px-4 py-2 text-sm font-semibold transition ${n===0?"border border-neutral-200 text-neutral-400 cursor-not-allowed bg-neutral-100":"border border-neutral-300 text-neutral-700 hover:border-primary-400 hover:text-primary-700"}`,children:"Back"}),a.jsx("button",{type:"button",onClick:m,disabled:s[n]===0,className:`inline-flex items-center justify-center rounded-full px-5 py-2 text-sm font-semibold transition ${s[n]!==0?"bg-accent-600 text-white hover:bg-accent-700":"bg-neutral-300 text-neutral-500 cursor-not-allowed"}`,children:n===Dt.length-1?"Complete":"Next"})]})]})}),d&&a.jsx("section",{className:"border-b border-primary-200 bg-primary-100/60",children:a.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-6 text-center text-sm text-primary-700 space-y-1",children:[a.jsxs("p",{children:[a.jsx("strong",{children:d.name})," invited you to complete Your Money Personality assessment to personalize your next consultation."]}),a.jsx("p",{className:"text-neutral-600",children:"Responses are shared securely with your advisor to tailor guidance."})]})}),v&&a.jsx("section",{className:"border-b border-accent-600/40 bg-accent-600/10",children:a.jsxs("div",{className:"max-w-3xl mx-auto px-4 sm:px-6 lg:px-8 py-6 text-center text-sm text-neutral-700 space-y-2",children:[a.jsxs("p",{children:[a.jsx("strong",{children:v.sharerName})," invited you to compare Money Personality results as ",v.relationship.toLowerCase(),"."]}),v.personalNote&&a.jsxs("p",{className:"italic text-neutral-600",children:["“",v.personalNote,"”"]})]})}),a.jsx("main",{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 py-16 flex justify-center",children:a.jsx(vk,{question:Dt[n],questionNumber:n+1,totalQuestions:Dt.length,value:s[n],onChange:y,onNext:m,onPrevious:g,canGoNext:s[n]!==0,canGoPrevious:n>0})})]})}const Kh=[{id:"paycheck-analyzer",title:"Paycheck Analyzer",description:"Learn about each section of your paycheck's taxes and deductions",category:"Career",personalities:["organized","cautious"]},{id:"expert-resume",title:"Expert Resume Critique",description:"Upload your resume for a free review by a trusted expert",category:"Career",personalities:["ambitious","organized"]},{id:"credit-score",title:"Credit Score",description:"Estimate your credit score in 2 minutes or less",category:"Credit and Debt",personalities:["cautious","organized","anxious"]},{id:"credit-card-paydown",title:"Credit Card Pay Down",description:"Compare fast and proven credit card pay down strategies",category:"Credit and Debt",personalities:["organized","cautious","anxious"]},{id:"debt-income-ratio",title:"Debt-to-Income Ratio",description:"Understand if your debt level is healthy or needs work",category:"Credit and Debt",personalities:["cautious","organized","anxious"]},{id:"loan-payment",title:"Loan Payment Analyzer",description:"See how much your monthly payments would be if you borrowed a loan",category:"Credit and Debt",personalities:["organized","cautious"]},{id:"scholarship-search",title:"Scholarship Search",description:"Find quality scholarships to help pay for school",category:"Education",personalities:["ambitious","organized"]},{id:"529-planner",title:"529 Savings Planner",description:"Find out if you're on track with your child's college saving goals",category:"Education",personalities:["organized","cautious","family-focused"]},{id:"student-loan",title:"Student Loan Affordability",description:"Borrow smart and compare your projected repayment to future salary",category:"Education",personalities:["cautious","organized"]},{id:"award-letter",title:"Award Letter Analyzer",description:"Compare colleges to see true cost with financial aid awards",category:"Education",personalities:["organized","cautious"]},{id:"auto-buy-lease",title:"Auto Buy vs. Lease",description:"Compare your options for buying or leasing your next auto",category:"Major Purchases",personalities:["organized","cautious"]},{id:"money-personality",title:"Your Money Personality",description:"Better understand your money decisions with our behavioral analysis",category:"Money Management",personalities:["all"]},{id:"budget-tool",title:"Budget",description:"Plan for expenses, set goals, and keep your finances on track",category:"Money Management",personalities:["organized","cautious","anxious"]},{id:"emergency-fund",title:"Emergency Fund",description:"Prepare for emergencies with an analysis of how much to save and when",category:"Protection",personalities:["cautious","anxious","organized"]},{id:"id-theft-risk",title:"ID Theft Risk",description:"See your risk level for fraud or identity theft",category:"Protection",personalities:["cautious","anxious"]},{id:"retirement-analyzer",title:"Retirement Analyzer",description:"Find out if you're on track for retirement in 2 minutes or less",category:"Wealth Building",personalities:["organized","cautious","ambitious"]},{id:"savings-growth",title:"Savings Growth",description:"Compare how your financial institution can grow your money",category:"Wealth Building",personalities:["organized","ambitious"]},{id:"investment-allocation",title:"Investment Allocation",description:"Find out how portfolio allocation can grow your wealth",category:"Wealth Building",personalities:["ambitious","risk-taker","organized"]}],Qh=[{id:"dream-career",title:"Finding your dream career",duration:"18 mins",category:"Career",personalities:["ambitious","optimistic"]},{id:"earning-potential",title:"Maximizing your earning potential and developing your career",duration:"15 mins",category:"Career",personalities:["ambitious","organized"]},{id:"paycheck-w2",title:"Understanding your paycheck and W2",duration:"18 mins",category:"Career",personalities:["organized","cautious"]},{id:"credit-cards",title:"Using credit cards responsibly",duration:"20 mins",category:"Credit and Debt",personalities:["cautious","organized"],recommended:!0},{id:"credit-mastery",title:"Mastering credit and optimizing your score",duration:"20 mins",category:"Credit and Debt",personalities:["organized","ambitious"],recommended:!0},{id:"credit-reports",title:"Understanding credit reports and scores",duration:"12 mins",category:"Credit and Debt",personalities:["cautious","organized"]},{id:"school-cost",title:"Choosing a school and understanding cost",duration:"20 mins",category:"Education",personalities:["organized","cautious"]},{id:"student-loans",title:"Repaying your student loans",duration:"18 mins",category:"Education",personalities:["cautious","organized"]},{id:"child-education",title:"Saving for a child's education",duration:"20 mins",category:"Education",personalities:["family-focused","organized"]},{id:"car-buying",title:"Buying or leasing a car",duration:"35 mins",category:"Major Purchases",personalities:["organized","cautious"]},{id:"saving-goals",title:"Saving for goals",duration:"30 mins",category:"Major Purchases",personalities:["organized","ambitious"]},{id:"budgeting",title:"Creating a budget (and sticking to it)",duration:"15 mins",category:"Money Management",personalities:["organized","cautious"],recommended:!0},{id:"banking-beyond",title:"Banking beyond checking and savings",duration:"15 mins",category:"Money Management",personalities:["organized","ambitious"],recommended:!0},{id:"banking-institutions",title:"Banking with financial institutions",duration:"15 mins",category:"Money Management",personalities:["cautious","organized"]},{id:"financial-plan",title:"Creating a financial plan for your priorities and goals",duration:"20 mins",category:"Money Management",personalities:["organized","ambitious"]},{id:"unclaimed-property",title:"Searching for unclaimed property",duration:"13 mins",category:"Money Management",personalities:["organized","cautious"]},{id:"insurance-needs",title:"Assessing your insurance needs",duration:"45 mins",category:"Protection",personalities:["cautious","family-focused"]},{id:"estate-plan",title:"Preparing an estate plan",duration:"25 mins",category:"Protection",personalities:["cautious","organized","family-focused"]},{id:"identity-theft",title:"Protecting yourself from identity theft and scams",duration:"20 mins",category:"Protection",personalities:["cautious","anxious"]},{id:"retirement-planning",title:"Planning for retirement",duration:"35 mins",category:"Wealth Building",personalities:["organized","cautious"],recommended:!0},{id:"investing-wealth",title:"Investing to build wealth",duration:"30 mins",category:"Wealth Building",personalities:["ambitious","risk-taker"],recommended:!0},{id:"living-retirement",title:"Living in retirement",duration:"25 mins",category:"Wealth Building",personalities:["cautious","organized"]}];/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:ug,setPrototypeOf:Jh,isFrozen:wk,getPrototypeOf:bk,getOwnPropertyDescriptor:kk}=Object;let{freeze:Ke,seal:St,create:dg}=Object,{apply:Pc,construct:Ic}=typeof Reflect<"u"&&Reflect;Ke||(Ke=function(e){return e});St||(St=function(e){return e});Pc||(Pc=function(e,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),i=2;i<r;i++)s[i-2]=arguments[i];return e.apply(n,s)});Ic||(Ic=function(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return new e(...r)});const oo=Qe(Array.prototype.forEach),_k=Qe(Array.prototype.lastIndexOf),Xh=Qe(Array.prototype.pop),Ts=Qe(Array.prototype.push),Sk=Qe(Array.prototype.splice),_o=Qe(String.prototype.toLowerCase),gl=Qe(String.prototype.toString),yl=Qe(String.prototype.match),As=Qe(String.prototype.replace),Ek=Qe(String.prototype.indexOf),jk=Qe(String.prototype.trim),Tt=Qe(Object.prototype.hasOwnProperty),qe=Qe(RegExp.prototype.test),Cs=Nk(TypeError);function Qe(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return Pc(t,e,r)}}function Nk(t){return function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Ic(t,n)}}function G(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_o;Jh&&Jh(t,null);let r=e.length;for(;r--;){let s=e[r];if(typeof s=="string"){const i=n(s);i!==s&&(wk(e)||(e[r]=i),s=i)}t[s]=!0}return t}function Tk(t){for(let e=0;e<t.length;e++)Tt(t,e)||(t[e]=null);return t}function tn(t){const e=dg(null);for(const[n,r]of ug(t))Tt(t,n)&&(Array.isArray(r)?e[n]=Tk(r):r&&typeof r=="object"&&r.constructor===Object?e[n]=tn(r):e[n]=r);return e}function Ps(t,e){for(;t!==null;){const r=kk(t,e);if(r){if(r.get)return Qe(r.get);if(typeof r.value=="function")return Qe(r.value)}t=bk(t)}function n(){return null}return n}const Zh=Ke(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),vl=Ke(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),xl=Ke(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Ak=Ke(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),wl=Ke(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Ck=Ke(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),ef=Ke(["#text"]),tf=Ke(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),bl=Ke(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),nf=Ke(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ao=Ke(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Pk=St(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Ik=St(/<%[\w\W]*|[\w\W]*%>/gm),Ok=St(/\$\{[\w\W]*/gm),Rk=St(/^data-[\-\w.\u00B7-\uFFFF]+$/),Lk=St(/^aria-[\-\w]+$/),hg=St(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),$k=St(/^(?:\w+script|data):/i),Mk=St(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),fg=St(/^html$/i),Dk=St(/^[a-z][.\w]*(-[.\w]+)+$/i);var rf=Object.freeze({__proto__:null,ARIA_ATTR:Lk,ATTR_WHITESPACE:Mk,CUSTOM_ELEMENT:Dk,DATA_ATTR:Rk,DOCTYPE_NAME:fg,ERB_EXPR:Ik,IS_ALLOWED_URI:hg,IS_SCRIPT_OR_DATA:$k,MUSTACHE_EXPR:Pk,TMPLIT_EXPR:Ok});const Is={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},Uk=function(){return typeof window>"u"?null:window},zk=function(e,n){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let r=null;const s="data-tt-policy-suffix";n&&n.hasAttribute(s)&&(r=n.getAttribute(s));const i="dompurify"+(r?"#"+r:"");try{return e.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},sf=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function pg(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Uk();const e=D=>pg(D);if(e.version="3.2.7",e.removed=[],!t||!t.document||t.document.nodeType!==Is.document||!t.Element)return e.isSupported=!1,e;let{document:n}=t;const r=n,s=r.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:l,Element:c,NodeFilter:u,NamedNodeMap:d=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:h,DOMParser:f,trustedTypes:p}=t,v=c.prototype,x=Ps(v,"cloneNode"),b=Ps(v,"remove"),y=Ps(v,"nextSibling"),m=Ps(v,"childNodes"),g=Ps(v,"parentNode");if(typeof o=="function"){const D=n.createElement("template");D.content&&D.content.ownerDocument&&(n=D.content.ownerDocument)}let k,S="";const{implementation:E,createNodeIterator:N,createDocumentFragment:A,getElementsByTagName:W}=n,{importNode:F}=r;let H=sf();e.isSupported=typeof ug=="function"&&typeof g=="function"&&E&&E.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Ne,ERB_EXPR:Oe,TMPLIT_EXPR:ke,DATA_ATTR:mn,ARIA_ATTR:Te,IS_SCRIPT_OR_DATA:R,ATTR_WHITESPACE:j,CUSTOM_ELEMENT:M}=rf;let{IS_ALLOWED_URI:U}=rf,z=null;const J=G({},[...Zh,...vl,...xl,...wl,...ef]);let q=null;const K=G({},[...tf,...bl,...nf,...ao]);let Q=Object.seal(dg(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),xe=null,mt=null,Pi=!0,ps=!0,Ii=!1,gt=!0,gn=!1,gr=!0,Gt=!1,ms=!1,yr=!1,Yt=!1,P=!1,I=!1,L=!0,ge=!1;const Et="user-content-";let Vt=!0,yn=!1,Kt={},Qt=null;const gs=G({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let ys=null;const Ae=G({},["audio","video","img","source","image","track"]);let Ze=null;const Gu=G({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Oi="http://www.w3.org/1998/Math/MathML",Ri="http://www.w3.org/2000/svg",Jt="http://www.w3.org/1999/xhtml";let vr=Jt,ja=!1,Na=null;const jg=G({},[Oi,Ri,Jt],gl);let Li=G({},["mi","mo","mn","ms","mtext"]),$i=G({},["annotation-xml"]);const Ng=G({},["title","style","font","a","script"]);let vs=null;const Tg=["application/xhtml+xml","text/html"],Ag="text/html";let Ce=null,xr=null;const Cg=n.createElement("form"),Yu=function(w){return w instanceof RegExp||w instanceof Function},Ta=function(){let w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(xr&&xr===w)){if((!w||typeof w!="object")&&(w={}),w=tn(w),vs=Tg.indexOf(w.PARSER_MEDIA_TYPE)===-1?Ag:w.PARSER_MEDIA_TYPE,Ce=vs==="application/xhtml+xml"?gl:_o,z=Tt(w,"ALLOWED_TAGS")?G({},w.ALLOWED_TAGS,Ce):J,q=Tt(w,"ALLOWED_ATTR")?G({},w.ALLOWED_ATTR,Ce):K,Na=Tt(w,"ALLOWED_NAMESPACES")?G({},w.ALLOWED_NAMESPACES,gl):jg,Ze=Tt(w,"ADD_URI_SAFE_ATTR")?G(tn(Gu),w.ADD_URI_SAFE_ATTR,Ce):Gu,ys=Tt(w,"ADD_DATA_URI_TAGS")?G(tn(Ae),w.ADD_DATA_URI_TAGS,Ce):Ae,Qt=Tt(w,"FORBID_CONTENTS")?G({},w.FORBID_CONTENTS,Ce):gs,xe=Tt(w,"FORBID_TAGS")?G({},w.FORBID_TAGS,Ce):tn({}),mt=Tt(w,"FORBID_ATTR")?G({},w.FORBID_ATTR,Ce):tn({}),Kt=Tt(w,"USE_PROFILES")?w.USE_PROFILES:!1,Pi=w.ALLOW_ARIA_ATTR!==!1,ps=w.ALLOW_DATA_ATTR!==!1,Ii=w.ALLOW_UNKNOWN_PROTOCOLS||!1,gt=w.ALLOW_SELF_CLOSE_IN_ATTR!==!1,gn=w.SAFE_FOR_TEMPLATES||!1,gr=w.SAFE_FOR_XML!==!1,Gt=w.WHOLE_DOCUMENT||!1,Yt=w.RETURN_DOM||!1,P=w.RETURN_DOM_FRAGMENT||!1,I=w.RETURN_TRUSTED_TYPE||!1,yr=w.FORCE_BODY||!1,L=w.SANITIZE_DOM!==!1,ge=w.SANITIZE_NAMED_PROPS||!1,Vt=w.KEEP_CONTENT!==!1,yn=w.IN_PLACE||!1,U=w.ALLOWED_URI_REGEXP||hg,vr=w.NAMESPACE||Jt,Li=w.MATHML_TEXT_INTEGRATION_POINTS||Li,$i=w.HTML_INTEGRATION_POINTS||$i,Q=w.CUSTOM_ELEMENT_HANDLING||{},w.CUSTOM_ELEMENT_HANDLING&&Yu(w.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(Q.tagNameCheck=w.CUSTOM_ELEMENT_HANDLING.tagNameCheck),w.CUSTOM_ELEMENT_HANDLING&&Yu(w.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(Q.attributeNameCheck=w.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),w.CUSTOM_ELEMENT_HANDLING&&typeof w.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(Q.allowCustomizedBuiltInElements=w.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),gn&&(ps=!1),P&&(Yt=!0),Kt&&(z=G({},ef),q=[],Kt.html===!0&&(G(z,Zh),G(q,tf)),Kt.svg===!0&&(G(z,vl),G(q,bl),G(q,ao)),Kt.svgFilters===!0&&(G(z,xl),G(q,bl),G(q,ao)),Kt.mathMl===!0&&(G(z,wl),G(q,nf),G(q,ao))),w.ADD_TAGS&&(z===J&&(z=tn(z)),G(z,w.ADD_TAGS,Ce)),w.ADD_ATTR&&(q===K&&(q=tn(q)),G(q,w.ADD_ATTR,Ce)),w.ADD_URI_SAFE_ATTR&&G(Ze,w.ADD_URI_SAFE_ATTR,Ce),w.FORBID_CONTENTS&&(Qt===gs&&(Qt=tn(Qt)),G(Qt,w.FORBID_CONTENTS,Ce)),Vt&&(z["#text"]=!0),Gt&&G(z,["html","head","body"]),z.table&&(G(z,["tbody"]),delete xe.tbody),w.TRUSTED_TYPES_POLICY){if(typeof w.TRUSTED_TYPES_POLICY.createHTML!="function")throw Cs('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof w.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Cs('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');k=w.TRUSTED_TYPES_POLICY,S=k.createHTML("")}else k===void 0&&(k=zk(p,s)),k!==null&&typeof S=="string"&&(S=k.createHTML(""));Ke&&Ke(w),xr=w}},Vu=G({},[...vl,...xl,...Ak]),Ku=G({},[...wl,...Ck]),Pg=function(w){let C=g(w);(!C||!C.tagName)&&(C={namespaceURI:vr,tagName:"template"});const $=_o(w.tagName),ce=_o(C.tagName);return Na[w.namespaceURI]?w.namespaceURI===Ri?C.namespaceURI===Jt?$==="svg":C.namespaceURI===Oi?$==="svg"&&(ce==="annotation-xml"||Li[ce]):!!Vu[$]:w.namespaceURI===Oi?C.namespaceURI===Jt?$==="math":C.namespaceURI===Ri?$==="math"&&$i[ce]:!!Ku[$]:w.namespaceURI===Jt?C.namespaceURI===Ri&&!$i[ce]||C.namespaceURI===Oi&&!Li[ce]?!1:!Ku[$]&&(Ng[$]||!Vu[$]):!!(vs==="application/xhtml+xml"&&Na[w.namespaceURI]):!1},$t=function(w){Ts(e.removed,{element:w});try{g(w).removeChild(w)}catch{b(w)}},Yn=function(w,C){try{Ts(e.removed,{attribute:C.getAttributeNode(w),from:C})}catch{Ts(e.removed,{attribute:null,from:C})}if(C.removeAttribute(w),w==="is")if(Yt||P)try{$t(C)}catch{}else try{C.setAttribute(w,"")}catch{}},Qu=function(w){let C=null,$=null;if(yr)w="<remove></remove>"+w;else{const we=yl(w,/^[\r\n\t ]+/);$=we&&we[0]}vs==="application/xhtml+xml"&&vr===Jt&&(w='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+w+"</body></html>");const ce=k?k.createHTML(w):w;if(vr===Jt)try{C=new f().parseFromString(ce,vs)}catch{}if(!C||!C.documentElement){C=E.createDocument(vr,"template",null);try{C.documentElement.innerHTML=ja?S:ce}catch{}}const Ue=C.body||C.documentElement;return w&&$&&Ue.insertBefore(n.createTextNode($),Ue.childNodes[0]||null),vr===Jt?W.call(C,Gt?"html":"body")[0]:Gt?C.documentElement:Ue},Ju=function(w){return N.call(w.ownerDocument||w,w,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},Aa=function(w){return w instanceof h&&(typeof w.nodeName!="string"||typeof w.textContent!="string"||typeof w.removeChild!="function"||!(w.attributes instanceof d)||typeof w.removeAttribute!="function"||typeof w.setAttribute!="function"||typeof w.namespaceURI!="string"||typeof w.insertBefore!="function"||typeof w.hasChildNodes!="function")},Xu=function(w){return typeof l=="function"&&w instanceof l};function Xt(D,w,C){oo(D,$=>{$.call(e,w,C,xr)})}const Zu=function(w){let C=null;if(Xt(H.beforeSanitizeElements,w,null),Aa(w))return $t(w),!0;const $=Ce(w.nodeName);if(Xt(H.uponSanitizeElement,w,{tagName:$,allowedTags:z}),gr&&w.hasChildNodes()&&!Xu(w.firstElementChild)&&qe(/<[/\w!]/g,w.innerHTML)&&qe(/<[/\w!]/g,w.textContent)||w.nodeType===Is.progressingInstruction||gr&&w.nodeType===Is.comment&&qe(/<[/\w]/g,w.data))return $t(w),!0;if(!z[$]||xe[$]){if(!xe[$]&&td($)&&(Q.tagNameCheck instanceof RegExp&&qe(Q.tagNameCheck,$)||Q.tagNameCheck instanceof Function&&Q.tagNameCheck($)))return!1;if(Vt&&!Qt[$]){const ce=g(w)||w.parentNode,Ue=m(w)||w.childNodes;if(Ue&&ce){const we=Ue.length;for(let et=we-1;et>=0;--et){const Zt=x(Ue[et],!0);Zt.__removalCount=(w.__removalCount||0)+1,ce.insertBefore(Zt,y(w))}}}return $t(w),!0}return w instanceof c&&!Pg(w)||($==="noscript"||$==="noembed"||$==="noframes")&&qe(/<\/no(script|embed|frames)/i,w.innerHTML)?($t(w),!0):(gn&&w.nodeType===Is.text&&(C=w.textContent,oo([Ne,Oe,ke],ce=>{C=As(C,ce," ")}),w.textContent!==C&&(Ts(e.removed,{element:w.cloneNode()}),w.textContent=C)),Xt(H.afterSanitizeElements,w,null),!1)},ed=function(w,C,$){if(L&&(C==="id"||C==="name")&&($ in n||$ in Cg))return!1;if(!(ps&&!mt[C]&&qe(mn,C))){if(!(Pi&&qe(Te,C))){if(!q[C]||mt[C]){if(!(td(w)&&(Q.tagNameCheck instanceof RegExp&&qe(Q.tagNameCheck,w)||Q.tagNameCheck instanceof Function&&Q.tagNameCheck(w))&&(Q.attributeNameCheck instanceof RegExp&&qe(Q.attributeNameCheck,C)||Q.attributeNameCheck instanceof Function&&Q.attributeNameCheck(C,w))||C==="is"&&Q.allowCustomizedBuiltInElements&&(Q.tagNameCheck instanceof RegExp&&qe(Q.tagNameCheck,$)||Q.tagNameCheck instanceof Function&&Q.tagNameCheck($))))return!1}else if(!Ze[C]){if(!qe(U,As($,j,""))){if(!((C==="src"||C==="xlink:href"||C==="href")&&w!=="script"&&Ek($,"data:")===0&&ys[w])){if(!(Ii&&!qe(R,As($,j,"")))){if($)return!1}}}}}}return!0},td=function(w){return w!=="annotation-xml"&&yl(w,M)},nd=function(w){Xt(H.beforeSanitizeAttributes,w,null);const{attributes:C}=w;if(!C||Aa(w))return;const $={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:q,forceKeepAttr:void 0};let ce=C.length;for(;ce--;){const Ue=C[ce],{name:we,namespaceURI:et,value:Zt}=Ue,wr=Ce(we),Ca=Zt;let Re=we==="value"?Ca:jk(Ca);if($.attrName=wr,$.attrValue=Re,$.keepAttr=!0,$.forceKeepAttr=void 0,Xt(H.uponSanitizeAttribute,w,$),Re=$.attrValue,ge&&(wr==="id"||wr==="name")&&(Yn(we,w),Re=Et+Re),gr&&qe(/((--!?|])>)|<\/(style|title|textarea)/i,Re)){Yn(we,w);continue}if(wr==="attributename"&&yl(Re,"href")){Yn(we,w);continue}if($.forceKeepAttr)continue;if(!$.keepAttr){Yn(we,w);continue}if(!gt&&qe(/\/>/i,Re)){Yn(we,w);continue}gn&&oo([Ne,Oe,ke],sd=>{Re=As(Re,sd," ")});const rd=Ce(w.nodeName);if(!ed(rd,wr,Re)){Yn(we,w);continue}if(k&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!et)switch(p.getAttributeType(rd,wr)){case"TrustedHTML":{Re=k.createHTML(Re);break}case"TrustedScriptURL":{Re=k.createScriptURL(Re);break}}if(Re!==Ca)try{et?w.setAttributeNS(et,we,Re):w.setAttribute(we,Re),Aa(w)?$t(w):Xh(e.removed)}catch{Yn(we,w)}}Xt(H.afterSanitizeAttributes,w,null)},Ig=function D(w){let C=null;const $=Ju(w);for(Xt(H.beforeSanitizeShadowDOM,w,null);C=$.nextNode();)Xt(H.uponSanitizeShadowNode,C,null),Zu(C),nd(C),C.content instanceof i&&D(C.content);Xt(H.afterSanitizeShadowDOM,w,null)};return e.sanitize=function(D){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},C=null,$=null,ce=null,Ue=null;if(ja=!D,ja&&(D="<!-->"),typeof D!="string"&&!Xu(D))if(typeof D.toString=="function"){if(D=D.toString(),typeof D!="string")throw Cs("dirty is not a string, aborting")}else throw Cs("toString is not a function");if(!e.isSupported)return D;if(ms||Ta(w),e.removed=[],typeof D=="string"&&(yn=!1),yn){if(D.nodeName){const Zt=Ce(D.nodeName);if(!z[Zt]||xe[Zt])throw Cs("root node is forbidden and cannot be sanitized in-place")}}else if(D instanceof l)C=Qu("<!---->"),$=C.ownerDocument.importNode(D,!0),$.nodeType===Is.element&&$.nodeName==="BODY"||$.nodeName==="HTML"?C=$:C.appendChild($);else{if(!Yt&&!gn&&!Gt&&D.indexOf("<")===-1)return k&&I?k.createHTML(D):D;if(C=Qu(D),!C)return Yt?null:I?S:""}C&&yr&&$t(C.firstChild);const we=Ju(yn?D:C);for(;ce=we.nextNode();)Zu(ce),nd(ce),ce.content instanceof i&&Ig(ce.content);if(yn)return D;if(Yt){if(P)for(Ue=A.call(C.ownerDocument);C.firstChild;)Ue.appendChild(C.firstChild);else Ue=C;return(q.shadowroot||q.shadowrootmode)&&(Ue=F.call(r,Ue,!0)),Ue}let et=Gt?C.outerHTML:C.innerHTML;return Gt&&z["!doctype"]&&C.ownerDocument&&C.ownerDocument.doctype&&C.ownerDocument.doctype.name&&qe(fg,C.ownerDocument.doctype.name)&&(et="<!DOCTYPE "+C.ownerDocument.doctype.name+`>
`+et),gn&&oo([Ne,Oe,ke],Zt=>{et=As(et,Zt," ")}),k&&I?k.createHTML(et):et},e.setConfig=function(){let D=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ta(D),ms=!0},e.clearConfig=function(){xr=null,ms=!1},e.isValidAttribute=function(D,w,C){xr||Ta({});const $=Ce(D),ce=Ce(w);return ed($,ce,C)},e.addHook=function(D,w){typeof w=="function"&&Ts(H[D],w)},e.removeHook=function(D,w){if(w!==void 0){const C=_k(H[D],w);return C===-1?void 0:Sk(H[D],C,1)[0]}return Xh(H[D])},e.removeHooks=function(D){H[D]=[]},e.removeAllHooks=function(){H=sf()},e}var Fk=pg();function Uu(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let mr=Uu();function mg(t){mr=t}const gg=/[&<>"']/,Bk=new RegExp(gg.source,"g"),yg=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Wk=new RegExp(yg.source,"g"),Hk={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},of=t=>Hk[t];function ct(t,e){if(e){if(gg.test(t))return t.replace(Bk,of)}else if(yg.test(t))return t.replace(Wk,of);return t}const qk=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function Gk(t){return t.replace(qk,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const Yk=/(^|[^\[])\^/g;function re(t,e){let n=typeof t=="string"?t:t.source;e=e||"";const r={replace:(s,i)=>{let o=typeof i=="string"?i:i.source;return o=o.replace(Yk,"$1"),n=n.replace(s,o),r},getRegex:()=>new RegExp(n,e)};return r}function af(t){try{t=encodeURI(t).replace(/%25/g,"%")}catch{return null}return t}const Xs={exec:()=>null};function lf(t,e){const n=t.replace(/\|/g,(i,o,l)=>{let c=!1,u=o;for(;--u>=0&&l[u]==="\\";)c=!c;return c?"|":" |"}),r=n.split(/ \|/);let s=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),e)if(r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;s<r.length;s++)r[s]=r[s].trim().replace(/\\\|/g,"|");return r}function lo(t,e,n){const r=t.length;if(r===0)return"";let s=0;for(;s<r;){const i=t.charAt(r-s-1);if(i===e&&!n)s++;else if(i!==e&&n)s++;else break}return t.slice(0,r-s)}function Vk(t,e){if(t.indexOf(e[1])===-1)return-1;let n=0;for(let r=0;r<t.length;r++)if(t[r]==="\\")r++;else if(t[r]===e[0])n++;else if(t[r]===e[1]&&(n--,n<0))return r;return-1}function cf(t,e,n,r){const s=e.href,i=e.title?ct(e.title):null,o=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){r.state.inLink=!0;const l={type:"link",raw:n,href:s,title:i,text:o,tokens:r.inlineTokens(o)};return r.state.inLink=!1,l}return{type:"image",raw:n,href:s,title:i,text:ct(o)}}function Kk(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const r=n[1];return e.split(`
`).map(s=>{const i=s.match(/^\s+/);if(i===null)return s;const[o]=i;return o.length>=r.length?s.slice(r.length):s}).join(`
`)}class Zo{constructor(e){se(this,"options");se(this,"rules");se(this,"lexer");this.options=e||mr}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:lo(r,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const r=n[0],s=Kk(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):n[2],text:s}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(/#$/.test(r)){const s=lo(r,"#");(this.options.pedantic||!s||/ $/.test(s))&&(r=s.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){let r=n[0].replace(/\n {0,3}((?:=+|-+) *)(?=\n|$)/g,`
    $1`);r=lo(r.replace(/^ *>[ \t]?/gm,""),`
`);const s=this.lexer.state.top;this.lexer.state.top=!0;const i=this.lexer.blockTokens(r);return this.lexer.state.top=s,{type:"blockquote",raw:n[0],tokens:i,text:r}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r=n[1].trim();const s=r.length>1,i={type:"list",raw:"",ordered:s,start:s?+r.slice(0,-1):"",loose:!1,items:[]};r=s?`\\d{1,9}\\${r.slice(-1)}`:`\\${r}`,this.options.pedantic&&(r=s?r:"[*+-]");const o=new RegExp(`^( {0,3}${r})((?:[	 ][^\\n]*)?(?:\\n|$))`);let l="",c="",u=!1;for(;e;){let d=!1;if(!(n=o.exec(e))||this.rules.block.hr.test(e))break;l=n[0],e=e.substring(l.length);let h=n[2].split(`
`,1)[0].replace(/^\t+/,y=>" ".repeat(3*y.length)),f=e.split(`
`,1)[0],p=0;this.options.pedantic?(p=2,c=h.trimStart()):(p=n[2].search(/[^ ]/),p=p>4?1:p,c=h.slice(p),p+=n[1].length);let v=!1;if(!h&&/^ *$/.test(f)&&(l+=f+`
`,e=e.substring(f.length+1),d=!0),!d){const y=new RegExp(`^ {0,${Math.min(3,p-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),m=new RegExp(`^ {0,${Math.min(3,p-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),g=new RegExp(`^ {0,${Math.min(3,p-1)}}(?:\`\`\`|~~~)`),k=new RegExp(`^ {0,${Math.min(3,p-1)}}#`);for(;e;){const S=e.split(`
`,1)[0];if(f=S,this.options.pedantic&&(f=f.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),g.test(f)||k.test(f)||y.test(f)||m.test(e))break;if(f.search(/[^ ]/)>=p||!f.trim())c+=`
`+f.slice(p);else{if(v||h.search(/[^ ]/)>=4||g.test(h)||k.test(h)||m.test(h))break;c+=`
`+f}!v&&!f.trim()&&(v=!0),l+=S+`
`,e=e.substring(S.length+1),h=f.slice(p)}}i.loose||(u?i.loose=!0:/\n *\n *$/.test(l)&&(u=!0));let x=null,b;this.options.gfm&&(x=/^\[[ xX]\] /.exec(c),x&&(b=x[0]!=="[ ] ",c=c.replace(/^\[[ xX]\] +/,""))),i.items.push({type:"list_item",raw:l,task:!!x,checked:b,loose:!1,text:c,tokens:[]}),i.raw+=l}i.items[i.items.length-1].raw=l.trimEnd(),i.items[i.items.length-1].text=c.trimEnd(),i.raw=i.raw.trimEnd();for(let d=0;d<i.items.length;d++)if(this.lexer.state.top=!1,i.items[d].tokens=this.lexer.blockTokens(i.items[d].text,[]),!i.loose){const h=i.items[d].tokens.filter(p=>p.type==="space"),f=h.length>0&&h.some(p=>/\n.*\n/.test(p.raw));i.loose=f}if(i.loose)for(let d=0;d<i.items.length;d++)i.items[d].loose=!0;return i}}html(e){const n=this.rules.block.html.exec(e);if(n)return{type:"html",block:!0,raw:n[0],pre:n[1]==="pre"||n[1]==="script"||n[1]==="style",text:n[0]}}def(e){const n=this.rules.block.def.exec(e);if(n){const r=n[1].toLowerCase().replace(/\s+/g," "),s=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",i=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:s,title:i}}}table(e){const n=this.rules.block.table.exec(e);if(!n||!/[:|]/.test(n[2]))return;const r=lf(n[1]),s=n[2].replace(/^\||\| *$/g,"").split("|"),i=n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[],o={type:"table",raw:n[0],header:[],align:[],rows:[]};if(r.length===s.length){for(const l of s)/^ *-+: *$/.test(l)?o.align.push("right"):/^ *:-+: *$/.test(l)?o.align.push("center"):/^ *:-+ *$/.test(l)?o.align.push("left"):o.align.push(null);for(const l of r)o.header.push({text:l,tokens:this.lexer.inline(l)});for(const l of i)o.rows.push(lf(l,o.header.length).map(c=>({text:c,tokens:this.lexer.inline(c)})));return o}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:ct(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const o=lo(r.slice(0,-1),"\\");if((r.length-o.length)%2===0)return}else{const o=Vk(n[2],"()");if(o>-1){const c=(n[0].indexOf("!")===0?5:4)+n[1].length+o;n[2]=n[2].substring(0,o),n[0]=n[0].substring(0,c).trim(),n[3]=""}}let s=n[2],i="";if(this.options.pedantic){const o=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(s);o&&(s=o[1],i=o[3])}else i=n[3]?n[3].slice(1,-1):"";return s=s.trim(),/^</.test(s)&&(this.options.pedantic&&!/>$/.test(r)?s=s.slice(1):s=s.slice(1,-1)),cf(n,{href:s&&s.replace(this.rules.inline.anyPunctuation,"$1"),title:i&&i.replace(this.rules.inline.anyPunctuation,"$1")},n[0],this.lexer)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){const s=(r[2]||r[1]).replace(/\s+/g," "),i=n[s.toLowerCase()];if(!i){const o=r[0].charAt(0);return{type:"text",raw:o,text:o}}return cf(r,i,r[0],this.lexer)}}emStrong(e,n,r=""){let s=this.rules.inline.emStrongLDelim.exec(e);if(!s||s[3]&&r.match(/[\p{L}\p{N}]/u))return;if(!(s[1]||s[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const o=[...s[0]].length-1;let l,c,u=o,d=0;const h=s[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(h.lastIndex=0,n=n.slice(-1*e.length+o);(s=h.exec(n))!=null;){if(l=s[1]||s[2]||s[3]||s[4]||s[5]||s[6],!l)continue;if(c=[...l].length,s[3]||s[4]){u+=c;continue}else if((s[5]||s[6])&&o%3&&!((o+c)%3)){d+=c;continue}if(u-=c,u>0)continue;c=Math.min(c,c+u+d);const f=[...s[0]][0].length,p=e.slice(0,o+s.index+f+c);if(Math.min(o,c)%2){const x=p.slice(1,-1);return{type:"em",raw:p,text:x,tokens:this.lexer.inlineTokens(x)}}const v=p.slice(2,-2);return{type:"strong",raw:p,text:v,tokens:this.lexer.inlineTokens(v)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(/\n/g," ");const s=/[^ ]/.test(r),i=/^ /.test(r)&&/ $/.test(r);return s&&i&&(r=r.substring(1,r.length-1)),r=ct(r,!0),{type:"codespan",raw:n[0],text:r}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e){const n=this.rules.inline.autolink.exec(e);if(n){let r,s;return n[2]==="@"?(r=ct(n[1]),s="mailto:"+r):(r=ct(n[1]),s=r),{type:"link",raw:n[0],text:r,href:s,tokens:[{type:"text",raw:r,text:r}]}}}url(e){var r;let n;if(n=this.rules.inline.url.exec(e)){let s,i;if(n[2]==="@")s=ct(n[0]),i="mailto:"+s;else{let o;do o=n[0],n[0]=((r=this.rules.inline._backpedal.exec(n[0]))==null?void 0:r[0])??"";while(o!==n[0]);s=ct(n[0]),n[1]==="www."?i="http://"+n[0]:i=n[0]}return{type:"link",raw:n[0],text:s,href:i,tokens:[{type:"text",raw:s,text:s}]}}}inlineText(e){const n=this.rules.inline.text.exec(e);if(n){let r;return this.lexer.state.inRawBlock?r=n[0]:r=ct(n[0]),{type:"text",raw:n[0],text:r}}}}const Qk=/^(?: *(?:\n|$))+/,Jk=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,Xk=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Ai=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,Zk=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,vg=/(?:[*+-]|\d{1,9}[.)])/,xg=re(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,vg).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),zu=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,e_=/^[^\n]+/,Fu=/(?!\s*\])(?:\\.|[^\[\]\\])+/,t_=re(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Fu).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),n_=re(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,vg).getRegex(),Ea="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",Bu=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,r_=re("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",Bu).replace("tag",Ea).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),wg=re(zu).replace("hr",Ai).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ea).getRegex(),s_=re(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",wg).getRegex(),Wu={blockquote:s_,code:Jk,def:t_,fences:Xk,heading:Zk,hr:Ai,html:r_,lheading:xg,list:n_,newline:Qk,paragraph:wg,table:Xs,text:e_},uf=re("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Ai).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ea).getRegex(),i_={...Wu,table:uf,paragraph:re(zu).replace("hr",Ai).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",uf).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",Ea).getRegex()},o_={...Wu,html:re(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",Bu).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:Xs,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:re(zu).replace("hr",Ai).replace("heading",` *#{1,6} *[^
]`).replace("lheading",xg).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},bg=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,a_=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,kg=/^( {2,}|\\)\n(?!\s*$)/,l_=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Ci="\\p{P}\\p{S}",c_=re(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Ci).getRegex(),u_=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,d_=re(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Ci).getRegex(),h_=re("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Ci).getRegex(),f_=re("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Ci).getRegex(),p_=re(/\\([punct])/,"gu").replace(/punct/g,Ci).getRegex(),m_=re(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),g_=re(Bu).replace("(?:-->|$)","-->").getRegex(),y_=re("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",g_).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),ea=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,v_=re(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",ea).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),_g=re(/^!?\[(label)\]\[(ref)\]/).replace("label",ea).replace("ref",Fu).getRegex(),Sg=re(/^!?\[(ref)\](?:\[\])?/).replace("ref",Fu).getRegex(),x_=re("reflink|nolink(?!\\()","g").replace("reflink",_g).replace("nolink",Sg).getRegex(),Hu={_backpedal:Xs,anyPunctuation:p_,autolink:m_,blockSkip:u_,br:kg,code:a_,del:Xs,emStrongLDelim:d_,emStrongRDelimAst:h_,emStrongRDelimUnd:f_,escape:bg,link:v_,nolink:Sg,punctuation:c_,reflink:_g,reflinkSearch:x_,tag:y_,text:l_,url:Xs},w_={...Hu,link:re(/^!?\[(label)\]\((.*?)\)/).replace("label",ea).getRegex(),reflink:re(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",ea).getRegex()},Oc={...Hu,escape:re(bg).replace("])","~|])").getRegex(),url:re(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},b_={...Oc,br:re(kg).replace("{2,}","*").getRegex(),text:re(Oc.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},co={normal:Wu,gfm:i_,pedantic:o_},Os={normal:Hu,gfm:Oc,breaks:b_,pedantic:w_};class Bt{constructor(e){se(this,"tokens");se(this,"options");se(this,"state");se(this,"tokenizer");se(this,"inlineQueue");this.tokens=[],this.tokens.links=Object.create(null),this.options=e||mr,this.options.tokenizer=this.options.tokenizer||new Zo,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:co.normal,inline:Os.normal};this.options.pedantic?(n.block=co.pedantic,n.inline=Os.pedantic):this.options.gfm&&(n.block=co.gfm,this.options.breaks?n.inline=Os.breaks:n.inline=Os.gfm),this.tokenizer.rules=n}static get rules(){return{block:co,inline:Os}}static lex(e,n){return new Bt(n).lex(e)}static lexInline(e,n){return new Bt(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);for(let n=0;n<this.inlineQueue.length;n++){const r=this.inlineQueue[n];this.inlineTokens(r.src,r.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(e,n=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(l,c,u)=>c+"    ".repeat(u.length));let r,s,i,o;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(l=>(r=l.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),s=n[n.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=s.text):n.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),s=n[n.length-1],s&&(s.type==="paragraph"||s.type==="text")?(s.raw+=`
`+r.raw,s.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=s.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startBlock){let l=1/0;const c=e.slice(1);let u;this.options.extensions.startBlock.forEach(d=>{u=d.call({lexer:this},c),typeof u=="number"&&u>=0&&(l=Math.min(l,u))}),l<1/0&&l>=0&&(i=e.substring(0,l+1))}if(this.state.top&&(r=this.tokenizer.paragraph(i))){s=n[n.length-1],o&&s.type==="paragraph"?(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):n.push(r),o=i.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),s=n[n.length-1],s&&s.type==="text"?(s.raw+=`
`+r.raw,s.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=s.text):n.push(r);continue}if(e){const l="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(l);break}else throw new Error(l)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r,s,i,o=e,l,c,u;if(this.tokens.links){const d=Object.keys(this.tokens.links);if(d.length>0)for(;(l=this.tokenizer.rules.inline.reflinkSearch.exec(o))!=null;)d.includes(l[0].slice(l[0].lastIndexOf("[")+1,-1))&&(o=o.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(l=this.tokenizer.rules.inline.blockSkip.exec(o))!=null;)o=o.slice(0,l.index)+"["+"a".repeat(l[0].length-2)+"]"+o.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(l=this.tokenizer.rules.inline.anyPunctuation.exec(o))!=null;)o=o.slice(0,l.index)+"++"+o.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(c||(u=""),c=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(d=>(r=d.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),s=n[n.length-1],s&&r.type==="text"&&s.type==="text"?(s.raw+=r.raw,s.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),s=n[n.length-1],s&&r.type==="text"&&s.type==="text"?(s.raw+=r.raw,s.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(e,o,u)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(e)){e=e.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e))){e=e.substring(r.raw.length),n.push(r);continue}if(i=e,this.options.extensions&&this.options.extensions.startInline){let d=1/0;const h=e.slice(1);let f;this.options.extensions.startInline.forEach(p=>{f=p.call({lexer:this},h),typeof f=="number"&&f>=0&&(d=Math.min(d,f))}),d<1/0&&d>=0&&(i=e.substring(0,d+1))}if(r=this.tokenizer.inlineText(i)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(u=r.raw.slice(-1)),c=!0,s=n[n.length-1],s&&s.type==="text"?(s.raw+=r.raw,s.text+=r.text):n.push(r);continue}if(e){const d="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(d);break}else throw new Error(d)}}return n}}class ta{constructor(e){se(this,"options");this.options=e||mr}code(e,n,r){var i;const s=(i=(n||"").match(/^\S*/))==null?void 0:i[0];return e=e.replace(/\n$/,"")+`
`,s?'<pre><code class="language-'+ct(s)+'">'+(r?e:ct(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:ct(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,n){return e}heading(e,n,r){return`<h${n}>${e}</h${n}>
`}hr(){return`<hr>
`}list(e,n,r){const s=n?"ol":"ul",i=n&&r!==1?' start="'+r+'"':"";return"<"+s+i+`>
`+e+"</"+s+`>
`}listitem(e,n,r){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(e){return`<p>${e}</p>
`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,n){const r=n.header?"th":"td";return(n.align?`<${r} align="${n.align}">`:`<${r}>`)+e+`</${r}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return"<br>"}del(e){return`<del>${e}</del>`}link(e,n,r){const s=af(e);if(s===null)return r;e=s;let i='<a href="'+e+'"';return n&&(i+=' title="'+n+'"'),i+=">"+r+"</a>",i}image(e,n,r){const s=af(e);if(s===null)return r;e=s;let i=`<img src="${e}" alt="${r}"`;return n&&(i+=` title="${n}"`),i+=">",i}text(e){return e}}class qu{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,r){return""+r}image(e,n,r){return""+r}br(){return""}}class Wt{constructor(e){se(this,"options");se(this,"renderer");se(this,"textRenderer");this.options=e||mr,this.options.renderer=this.options.renderer||new ta,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new qu}static parse(e,n){return new Wt(n).parse(e)}static parseInline(e,n){return new Wt(n).parseInline(e)}parse(e,n=!0){let r="";for(let s=0;s<e.length;s++){const i=e[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const o=i,l=this.options.extensions.renderers[o.type].call({parser:this},o);if(l!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(o.type)){r+=l||"";continue}}switch(i.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{const o=i;r+=this.renderer.heading(this.parseInline(o.tokens),o.depth,Gk(this.parseInline(o.tokens,this.textRenderer)));continue}case"code":{const o=i;r+=this.renderer.code(o.text,o.lang,!!o.escaped);continue}case"table":{const o=i;let l="",c="";for(let d=0;d<o.header.length;d++)c+=this.renderer.tablecell(this.parseInline(o.header[d].tokens),{header:!0,align:o.align[d]});l+=this.renderer.tablerow(c);let u="";for(let d=0;d<o.rows.length;d++){const h=o.rows[d];c="";for(let f=0;f<h.length;f++)c+=this.renderer.tablecell(this.parseInline(h[f].tokens),{header:!1,align:o.align[f]});u+=this.renderer.tablerow(c)}r+=this.renderer.table(l,u);continue}case"blockquote":{const o=i,l=this.parse(o.tokens);r+=this.renderer.blockquote(l);continue}case"list":{const o=i,l=o.ordered,c=o.start,u=o.loose;let d="";for(let h=0;h<o.items.length;h++){const f=o.items[h],p=f.checked,v=f.task;let x="";if(f.task){const b=this.renderer.checkbox(!!p);u?f.tokens.length>0&&f.tokens[0].type==="paragraph"?(f.tokens[0].text=b+" "+f.tokens[0].text,f.tokens[0].tokens&&f.tokens[0].tokens.length>0&&f.tokens[0].tokens[0].type==="text"&&(f.tokens[0].tokens[0].text=b+" "+f.tokens[0].tokens[0].text)):f.tokens.unshift({type:"text",text:b+" "}):x+=b+" "}x+=this.parse(f.tokens,u),d+=this.renderer.listitem(x,v,!!p)}r+=this.renderer.list(d,l,c);continue}case"html":{const o=i;r+=this.renderer.html(o.text,o.block);continue}case"paragraph":{const o=i;r+=this.renderer.paragraph(this.parseInline(o.tokens));continue}case"text":{let o=i,l=o.tokens?this.parseInline(o.tokens):o.text;for(;s+1<e.length&&e[s+1].type==="text";)o=e[++s],l+=`
`+(o.tokens?this.parseInline(o.tokens):o.text);r+=n?this.renderer.paragraph(l):l;continue}default:{const o='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return r}parseInline(e,n){n=n||this.renderer;let r="";for(let s=0;s<e.length;s++){const i=e[s];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[i.type]){const o=this.options.extensions.renderers[i.type].call({parser:this},i);if(o!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(i.type)){r+=o||"";continue}}switch(i.type){case"escape":{const o=i;r+=n.text(o.text);break}case"html":{const o=i;r+=n.html(o.text);break}case"link":{const o=i;r+=n.link(o.href,o.title,this.parseInline(o.tokens,n));break}case"image":{const o=i;r+=n.image(o.href,o.title,o.text);break}case"strong":{const o=i;r+=n.strong(this.parseInline(o.tokens,n));break}case"em":{const o=i;r+=n.em(this.parseInline(o.tokens,n));break}case"codespan":{const o=i;r+=n.codespan(o.text);break}case"br":{r+=n.br();break}case"del":{const o=i;r+=n.del(this.parseInline(o.tokens,n));break}case"text":{const o=i;r+=n.text(o.text);break}default:{const o='Token with "'+i.type+'" type was not found.';if(this.options.silent)return console.error(o),"";throw new Error(o)}}}return r}}class Zs{constructor(e){se(this,"options");this.options=e||mr}preprocess(e){return e}postprocess(e){return e}processAllTokens(e){return e}}se(Zs,"passThroughHooks",new Set(["preprocess","postprocess","processAllTokens"]));var wi,Rc,na,Eg;class k_{constructor(...e){Pa(this,wi);Pa(this,na);se(this,"defaults",Uu());se(this,"options",this.setOptions);se(this,"parse",Mi(this,wi,Rc).call(this,Bt.lex,Wt.parse));se(this,"parseInline",Mi(this,wi,Rc).call(this,Bt.lexInline,Wt.parseInline));se(this,"Parser",Wt);se(this,"Renderer",ta);se(this,"TextRenderer",qu);se(this,"Lexer",Bt);se(this,"Tokenizer",Zo);se(this,"Hooks",Zs);this.use(...e)}walkTokens(e,n){var s,i;let r=[];for(const o of e)switch(r=r.concat(n.call(this,o)),o.type){case"table":{const l=o;for(const c of l.header)r=r.concat(this.walkTokens(c.tokens,n));for(const c of l.rows)for(const u of c)r=r.concat(this.walkTokens(u.tokens,n));break}case"list":{const l=o;r=r.concat(this.walkTokens(l.items,n));break}default:{const l=o;(i=(s=this.defaults.extensions)==null?void 0:s.childTokens)!=null&&i[l.type]?this.defaults.extensions.childTokens[l.type].forEach(c=>{const u=l[c].flat(1/0);r=r.concat(this.walkTokens(u,n))}):l.tokens&&(r=r.concat(this.walkTokens(l.tokens,n)))}}return r}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{const s={...r};if(s.async=this.defaults.async||s.async||!1,r.extensions&&(r.extensions.forEach(i=>{if(!i.name)throw new Error("extension name required");if("renderer"in i){const o=n.renderers[i.name];o?n.renderers[i.name]=function(...l){let c=i.renderer.apply(this,l);return c===!1&&(c=o.apply(this,l)),c}:n.renderers[i.name]=i.renderer}if("tokenizer"in i){if(!i.level||i.level!=="block"&&i.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const o=n[i.level];o?o.unshift(i.tokenizer):n[i.level]=[i.tokenizer],i.start&&(i.level==="block"?n.startBlock?n.startBlock.push(i.start):n.startBlock=[i.start]:i.level==="inline"&&(n.startInline?n.startInline.push(i.start):n.startInline=[i.start]))}"childTokens"in i&&i.childTokens&&(n.childTokens[i.name]=i.childTokens)}),s.extensions=n),r.renderer){const i=this.defaults.renderer||new ta(this.defaults);for(const o in r.renderer){if(!(o in i))throw new Error(`renderer '${o}' does not exist`);if(o==="options")continue;const l=o,c=r.renderer[l],u=i[l];i[l]=(...d)=>{let h=c.apply(i,d);return h===!1&&(h=u.apply(i,d)),h||""}}s.renderer=i}if(r.tokenizer){const i=this.defaults.tokenizer||new Zo(this.defaults);for(const o in r.tokenizer){if(!(o in i))throw new Error(`tokenizer '${o}' does not exist`);if(["options","rules","lexer"].includes(o))continue;const l=o,c=r.tokenizer[l],u=i[l];i[l]=(...d)=>{let h=c.apply(i,d);return h===!1&&(h=u.apply(i,d)),h}}s.tokenizer=i}if(r.hooks){const i=this.defaults.hooks||new Zs;for(const o in r.hooks){if(!(o in i))throw new Error(`hook '${o}' does not exist`);if(o==="options")continue;const l=o,c=r.hooks[l],u=i[l];Zs.passThroughHooks.has(o)?i[l]=d=>{if(this.defaults.async)return Promise.resolve(c.call(i,d)).then(f=>u.call(i,f));const h=c.call(i,d);return u.call(i,h)}:i[l]=(...d)=>{let h=c.apply(i,d);return h===!1&&(h=u.apply(i,d)),h}}s.hooks=i}if(r.walkTokens){const i=this.defaults.walkTokens,o=r.walkTokens;s.walkTokens=function(l){let c=[];return c.push(o.call(this,l)),i&&(c=c.concat(i.call(this,l))),c}}this.defaults={...this.defaults,...s}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}lexer(e,n){return Bt.lex(e,n??this.defaults)}parser(e,n){return Wt.parse(e,n??this.defaults)}}wi=new WeakSet,Rc=function(e,n){return(r,s)=>{const i={...s},o={...this.defaults,...i};this.defaults.async===!0&&i.async===!1&&(o.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),o.async=!0);const l=Mi(this,na,Eg).call(this,!!o.silent,!!o.async);if(typeof r>"u"||r===null)return l(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return l(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(o.hooks&&(o.hooks.options=o),o.async)return Promise.resolve(o.hooks?o.hooks.preprocess(r):r).then(c=>e(c,o)).then(c=>o.hooks?o.hooks.processAllTokens(c):c).then(c=>o.walkTokens?Promise.all(this.walkTokens(c,o.walkTokens)).then(()=>c):c).then(c=>n(c,o)).then(c=>o.hooks?o.hooks.postprocess(c):c).catch(l);try{o.hooks&&(r=o.hooks.preprocess(r));let c=e(r,o);o.hooks&&(c=o.hooks.processAllTokens(c)),o.walkTokens&&this.walkTokens(c,o.walkTokens);let u=n(c,o);return o.hooks&&(u=o.hooks.postprocess(u)),u}catch(c){return l(c)}}},na=new WeakSet,Eg=function(e,n){return r=>{if(r.message+=`
Please report this to https://github.com/markedjs/marked.`,e){const s="<p>An error occurred:</p><pre>"+ct(r.message+"",!0)+"</pre>";return n?Promise.resolve(s):s}if(n)return Promise.reject(r);throw r}};const dr=new k_;function ee(t,e){return dr.parse(t,e)}ee.options=ee.setOptions=function(t){return dr.setOptions(t),ee.defaults=dr.defaults,mg(ee.defaults),ee};ee.getDefaults=Uu;ee.defaults=mr;ee.use=function(...t){return dr.use(...t),ee.defaults=dr.defaults,mg(ee.defaults),ee};ee.walkTokens=function(t,e){return dr.walkTokens(t,e)};ee.parseInline=dr.parseInline;ee.Parser=Wt;ee.parser=Wt.parse;ee.Renderer=ta;ee.TextRenderer=qu;ee.Lexer=Bt;ee.lexer=Bt.lex;ee.Tokenizer=Zo;ee.Hooks=Zs;ee.parse=ee;ee.options;ee.setOptions;ee.use;ee.walkTokens;ee.parseInline;Wt.parse;Bt.lex;ee.setOptions({gfm:!0,breaks:!0,headerIds:!1,mangle:!1});const Qn=[{id:"overview",title:"Overview",number:1,total:7},{id:"emotions",title:"Emotions",number:2,total:7},{id:"outlook",title:"Outlook",number:3,total:7},{id:"focus",title:"Focus",number:4,total:7},{id:"influence",title:"Influence",number:5,total:7},{id:"bonus",title:"Bonus",number:6,total:7},{id:"recommendations",title:"Recommendations",number:7,total:7}];function __(){var yr,Yt;const[t]=Om(),e=t.get("advisor"),[n,r]=_.useState("overview"),[s,i]=_.useState(null),[o,l]=_.useState([]),[c,u]=_.useState(""),[d,h]=_.useState(""),[f,p]=_.useState(""),[v,x]=_.useState("Partners"),[b,y]=_.useState(""),[m,g]=_.useState(!1),[k,S]=_.useState(!1),[E,N]=_.useState(""),[A,W]=_.useState(""),[F,H]=_.useState(""),[Ne,Oe]=_.useState([]),[ke,mn]=_.useState(null),[Te,R]=_.useState(null),[j,M]=_.useState(!1),[U,z]=_.useState(!1),[J,q]=_.useState(!1);_.useEffect(()=>{(async()=>{if(e){M(!0);try{const I=await he.getAssessmentResult(e);I&&I.is_unlocked?(R(I),i(I.profile),l(I.answers||[]),u(I.advisor_summary||""),z(!1)):I&&!I.is_unlocked?(R(I),z(!0)):(console.error("Assessment result not found or access denied"),z(!0))}catch(I){console.error("Error loading advisor assessment result:",I),z(!0)}}else{const I=localStorage.getItem("userProfile"),L=localStorage.getItem("assessmentAnswers");I&&i(JSON.parse(I)),L&&l(JSON.parse(L)),localStorage.removeItem("advisorSummary"),u("");const ge=he.getFriendAssessmentsForUser();Oe(ge);const Et=ge.find(Vt=>Vt.status==="completed"&&Vt.compatibility);Et!=null&&Et.compatibility&&mn(Et.compatibility)}})()},[e]);const K=async()=>{if(!(!e||!Te)){q(!0);try{const P=await he.unlockAssessment(e);if(P.success){const I=await he.getAssessmentResult(e);I?(R(I),i(I.profile),l(I.answers||[]),u(I.advisor_summary||""),z(!I.is_unlocked)):z(!1)}else console.error("Failed to unlock report:",P.error),alert("Failed to unlock the report. Please try again.")}catch(P){console.error("Error unlocking report:",P),alert("An error occurred. Please try again.")}finally{q(!1)}}},Q=async P=>{if(P.preventDefault(),!s||!d||!f)return;g(!0),N(""),S(!1),W(""),H("");const I=localStorage.getItem("userName")||"Someone",L=localStorage.getItem("userEmail")||"",ge=await he.shareAssessmentWithFriend(I,L,d,v,s,b||void 0,f);if(g(!1),ge.success){S(!0),W(ge.assessmentLink||""),h(""),p(""),y("");const Et=he.getFriendAssessmentsForUser();Oe(Et)}else N(ge.error||"Failed to share assessment"),W(ge.assessmentLink||"")},xe=async()=>{if(A)try{await navigator.clipboard.writeText(A),H("Link copied to clipboard!"),setTimeout(()=>H(""),3e3)}catch(P){console.error("Failed to copy link:",P),H("Unable to copy automatically. Please copy the link manually."),setTimeout(()=>H(""),4e3)}},mt=_.useMemo(()=>s!=null&&s.personalities?Kh.filter(P=>P.personalities.includes("all")||P.personalities.some(I=>s.personalities.includes(I))):[],[s==null?void 0:s.personalities]),Pi=_.useMemo(()=>s!=null&&s.personalities?Qh.filter(P=>P.personalities.some(I=>s.personalities.includes(I))):[],[s==null?void 0:s.personalities]),ps=P=>Kh.filter(I=>I.personalities.includes("all")||I.personalities.includes(P.toLowerCase().replace(" ","-"))).slice(0,2),Ii=P=>Qh.filter(I=>I.personalities.includes(P.toLowerCase().replace(" ","-"))).slice(0,2),gt=Qn.find(P=>P.id===n),gn=()=>{const P=Qn.findIndex(I=>I.id===n);P<Qn.length-1&&r(Qn[P+1].id)},gr=()=>{const P=Qn.findIndex(I=>I.id===n);P>0&&r(Qn[P-1].id)},Gt=P=>{if(!P.trim())return null;try{const I=ee.parse(P),L=Fk.sanitize(I);return a.jsx("div",{className:"advisor-summary",dangerouslySetInnerHTML:{__html:L}})}catch(I){return console.error("Error rendering advisor summary:",I),a.jsx("div",{className:"text-neutral-700",children:P.split(`
`).map((L,ge)=>a.jsx("p",{className:"mb-2",children:L},ge))})}},ms=P=>({Apprehensive:"https://images.pexels.com/photos/4386374/pexels-photo-4386374.jpeg?auto=compress&cs=tinysrgb&w=640&h=480&dpr=1",Cautious:"https://images.pexels.com/photos/6693655/pexels-photo-6693655.jpeg?auto=compress&cs=tinysrgb&w=640&h=480&dpr=1",Relaxed:"https://images.pexels.com/photos/4050415/pexels-photo-4050415.jpeg?auto=compress&cs=tinysrgb&w=640&h=480&dpr=1",Confident:"https://images.pexels.com/photos/3184302/pexels-photo-3184302.jpeg?auto=compress&cs=tinysrgb&w=640&h=480&dpr=1",Optimistic:"https://images.pexels.com/photos/3184296/pexels-photo-3184296.jpeg?auto=compress&cs=tinysrgb&w=640&h=480&dpr=1",Skeptical:"https://images.pexels.com/photos/3184465/pexels-photo-3184465.jpeg?auto=compress&cs=tinysrgb&w=640&h=480&dpr=1","Future Focused":"https://images.pexels.com/photos/3184307/pexels-photo-3184307.jpeg?auto=compress&cs=tinysrgb&w=640&h=480&dpr=1","Present Focused":"https://images.pexels.com/photos/3184298/pexels-photo-3184298.jpeg?auto=compress&cs=tinysrgb&w=640&h=480&dpr=1",Social:"https://images.pexels.com/photos/3184398/pexels-photo-3184398.jpeg?auto=compress&cs=tinysrgb&w=640&h=480&dpr=1",Independent:"https://images.pexels.com/photos/3184287/pexels-photo-3184287.jpeg?auto=compress&cs=tinysrgb&w=640&h=480&dpr=1",Elusive:"https://images.pexels.com/photos/3184338/pexels-photo-3184338.jpeg?auto=compress&cs=tinysrgb&w=640&h=480&dpr=1",Organized:"https://images.pexels.com/photos/3184292/pexels-photo-3184292.jpeg?auto=compress&cs=tinysrgb&w=640&h=480&dpr=1","Fun Seeking":"https://images.pexels.com/photos/3153198/pexels-photo-3153198.jpeg?auto=compress&cs=tinysrgb&w=640&h=480&dpr=1","Change Seeking":"https://images.pexels.com/photos/5668870/pexels-photo-5668870.jpeg?auto=compress&cs=tinysrgb&w=640&h=480&dpr=1"})[P]||"https://images.pexels.com/photos/6693655/pexels-photo-6693655.jpeg?auto=compress&cs=tinysrgb&w=640&h=480&dpr=1";return U&&Te?a.jsxs("div",{className:"min-h-screen professional-bg",children:[a.jsx("div",{className:"professional-header",children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6",children:a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("img",{src:"https://media-cdn.igrad.com/IMAGE/Logos/Standard-White/Enrich.png",alt:"iGrad Enrich",className:"h-10 w-auto static-element"})})})}),a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:a.jsxs("div",{className:"modern-card text-center space-y-8",children:[a.jsx("div",{className:"w-20 h-20 mx-auto bg-gradient-to-br from-primary-500 to-accent-500 rounded-full flex items-center justify-center",children:a.jsx(Fb,{className:"w-10 h-10 text-white"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Assessment Report Locked"}),a.jsx("p",{className:"text-lg text-gray-600 mb-6",children:"This detailed assessment report is available for $1. Once unlocked, you'll have access to:"}),a.jsxs("div",{className:"text-left max-w-md mx-auto space-y-3 mb-8",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(io,{className:"w-5 h-5 text-accent-600"}),a.jsx("span",{children:"Complete personality breakdown"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(pl,{className:"w-5 h-5 text-accent-600"}),a.jsx("span",{children:"Behavioral strengths and challenges"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(Us,{className:"w-5 h-5 text-accent-600"}),a.jsx("span",{children:"AI-powered advisor recommendations"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(ml,{className:"w-5 h-5 text-accent-600"}),a.jsx("span",{children:"Personalized action plans"})]})]}),a.jsx("div",{className:"rounded-lg border border-primary-200 bg-primary-100 p-4 mb-6",children:a.jsxs("p",{className:"text-sm text-primary-700",children:[a.jsx("strong",{children:"Client:"})," ",Te.client_name||"Anonymous"," (",Te.client_email,")"]})})]}),a.jsx("button",{onClick:K,disabled:J,className:"btn-primary inline-flex items-center space-x-3",children:J?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),a.jsx("span",{children:"Unlocking…"})]}):a.jsxs(a.Fragment,{children:[a.jsx(zb,{className:"w-5 h-5"}),a.jsx("span",{children:"Unlock Report (demo)"})]})})]})})]}):s?a.jsx(Xo,{children:a.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:a.jsxs("div",{className:"grid lg:grid-cols-[280px_1fr] gap-8",children:[a.jsx("div",{className:"lg:sticky lg:top-8 lg:h-fit",children:a.jsxs("div",{className:"modern-card p-6",children:[a.jsx("h2",{className:"text-lg font-semibold text-primary-900 mb-4",children:j?"Client Assessment Report":"Your Money Personality"}),j&&Te&&a.jsxs("div",{className:"mb-6 p-4 rounded-lg border border-primary-200 bg-primary-100",children:[a.jsxs("p",{className:"text-sm text-primary-700 font-medium",children:[a.jsx("strong",{children:"Client:"})," ",Te.client_name||"Anonymous"]}),a.jsx("p",{className:"text-xs text-primary-600 mt-1",children:Te.client_email})]}),a.jsx("nav",{className:"space-y-2",children:Qn.map(P=>a.jsxs("button",{onClick:()=>r(P.id),className:`w-full text-left p-3 rounded-lg transition-colors ${n===P.id?"bg-primary-100 text-primary-900 border-l-4 border-primary-700":"text-neutral-700 hover:bg-neutral-100"}`,children:[a.jsxs("div",{className:"text-sm font-medium",children:["Chapter ",P.number,": ",P.title]}),a.jsxs("div",{className:"text-xs text-neutral-500 mt-1",children:["(",P.number,"/",P.total,")"]})]},P.id))})]})}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-4xl font-bold text-primary-900",children:gt==null?void 0:gt.title}),a.jsxs("p",{className:"text-neutral-600 mt-2",children:["Chapter ",gt==null?void 0:gt.number," of ",gt==null?void 0:gt.total]})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("button",{onClick:gr,disabled:n==="overview",className:`btn-secondary inline-flex items-center ${n==="overview"?"opacity-50 cursor-not-allowed":""}`,children:[a.jsx(Db,{className:"w-4 h-4 mr-2"}),"Previous"]}),a.jsxs("button",{onClick:gn,disabled:n==="recommendations",className:`btn-primary inline-flex items-center ${n==="recommendations"?"opacity-50 cursor-not-allowed":""}`,children:["Next",a.jsx(Ub,{className:"w-4 h-4 ml-2"})]})]})]}),n==="overview"&&a.jsx("div",{className:"space-y-8",children:a.jsxs("div",{className:"modern-card p-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-primary-900 mb-6",children:"Overview"}),a.jsxs("div",{className:"space-y-8",children:[a.jsxs("section",{children:[a.jsx("h3",{className:"text-xl font-semibold text-ink mb-4",children:"The Why"}),a.jsxs("p",{className:"text-neutral-700 leading-relaxed",children:[j?(Te==null?void 0:Te.client_name)||"Your client":"Test3",', managing your finances is about more than just your money in the bank. It involves setting goals, evaluating choices, and high stakes! Like most things in life, your unique personality and behaviors are an important piece. This analysis will help you better understand the "why" behind your financial decision making, while recommending positive changes.']}),a.jsx("p",{className:"text-neutral-700 leading-relaxed mt-4",children:"Please remember, your financial personality and behaviors depend on complex factors and may change over time. As such, this analysis is to be taken as suggestion only. For individualized advice consult a financial professional."})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-xl font-semibold text-ink mb-4",children:"The Science"}),a.jsx("p",{className:"text-neutral-700 leading-relaxed",children:"This report (and the science behind it) is the first of its kind in a financial wellness program. It was developed in collaboration with financial wellness experts led by a Ph.D. in Behavioral Economics. Our goal is to help you understand - in simple, practical terms - the unique characteristics of your personality that affect your financial decision making."})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-xl font-semibold text-ink mb-4",children:"The How"}),a.jsx("p",{className:"text-neutral-700 leading-relaxed",children:"Based on your earlier responses, our analysis engine assessed the influences on your financial behaviors across a range of categories. Our analysis looks at different components of your money personality, with explanations of your dominant traits, strengths, challenges, and even a few tips and tricks to make your money personality work for you. Enjoy!"})]})]})]})}),j&&c&&n==="overview"&&a.jsxs("div",{className:"modern-card p-8",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-primary-500 to-accent-500 rounded-full flex items-center justify-center",children:a.jsx(Bh,{className:"w-5 h-5 text-white"})}),a.jsx("h2",{className:"text-2xl font-bold text-primary-900",children:"Advisor Insights"})]}),a.jsx("div",{className:"rounded-xl border border-primary-200 bg-primary-100 p-6",children:Gt(c)})]}),(n==="emotions"||n==="outlook"||n==="focus"||n==="influence"||n==="bonus")&&a.jsx("div",{className:"space-y-8",children:(yr=s.personalityData)==null?void 0:yr.map((P,I)=>{var yn,Kt,Qt,gs,ys;const L=s.personalities[I];if((L.toLowerCase().includes("focused")?"focus":L.toLowerCase().includes("confident")||L.toLowerCase().includes("optimistic")||L.toLowerCase().includes("skeptical")?"outlook":L.toLowerCase().includes("apprehensive")||L.toLowerCase().includes("cautious")||L.toLowerCase().includes("relaxed")?"emotions":L.toLowerCase().includes("social")||L.toLowerCase().includes("independent")||L.toLowerCase().includes("elusive")?"influence":"bonus")!==n)return null;const Et=ps(L),Vt=Ii(L);return a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"modern-card p-8",children:[a.jsxs("div",{className:"text-center mb-8",children:[a.jsxs("h2",{className:"text-3xl font-bold text-primary-900 mb-2",children:["Your ",n.toUpperCase()," Type"]}),a.jsx("h3",{className:"text-5xl font-bold text-accent-600 mb-4",children:L}),a.jsxs("p",{className:"text-xl text-neutral-600",children:[L==="Cautious"?"59%":L==="Independent"?"57%":L==="Present Focused"?"35%":L==="Confident"?"17%":"18%"," of people are ",L," like you"]}),a.jsx("div",{className:"w-64 h-2 bg-neutral-200 rounded-full mx-auto mt-4",children:a.jsx("div",{className:"h-2 bg-accent-600 rounded-full",style:{width:L==="Cautious"?"59%":L==="Independent"?"57%":L==="Present Focused"?"35%":L==="Confident"?"17%":"18%"}})})]}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 items-start",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-xl font-semibold text-ink mb-4",children:"Summary"}),a.jsxs("p",{className:"text-neutral-700 leading-relaxed mb-6",children:[(yn=P.description)==null?void 0:yn.split(".")[0],"."]}),a.jsx("h4",{className:"text-xl font-semibold text-ink mb-4",children:"What It Means"}),a.jsx("p",{className:"text-neutral-700 leading-relaxed",children:(Kt=P.description)==null?void 0:Kt.substring(P.description.indexOf(".")+1).trim()})]}),a.jsx("div",{className:"flex justify-center",children:a.jsx("div",{className:"w-80 h-60 bg-neutral-100 rounded-[2rem] overflow-hidden shadow-subtle",children:a.jsx("img",{src:ms(L),alt:`${L} personality illustration`,className:"w-full h-full object-cover"})})})]})]}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"modern-card p-6",children:[a.jsxs("h4",{className:"text-xl font-semibold text-ink mb-6 flex items-center",children:[a.jsx(io,{className:"w-6 h-6 text-accent-600 mr-3"}),"3 Biggest Strengths"]}),a.jsx("div",{className:"space-y-4",children:(Qt=P.strengths)==null?void 0:Qt.slice(0,3).map((Ae,Ze)=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h5",{className:"font-semibold text-accent-600",children:["When you're ",L,"..."]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("span",{className:"inline-block w-16 h-6 bg-accent-600 text-white text-xs font-semibold rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:"Strength"}),a.jsx("p",{className:"text-neutral-700 text-sm leading-relaxed",children:Ae})]})]},Ze))})]}),a.jsxs("div",{className:"modern-card p-6",children:[a.jsxs("h4",{className:"text-xl font-semibold text-ink mb-6 flex items-center",children:[a.jsx(pl,{className:"w-6 h-6 text-orange-600 mr-3"}),"3 Biggest Challenges"]}),a.jsx("div",{className:"space-y-4",children:(gs=P.challenges)==null?void 0:gs.slice(0,3).map((Ae,Ze)=>a.jsxs("div",{className:"space-y-2",children:[a.jsxs("h5",{className:"font-semibold text-orange-600",children:["When you're ",L,"..."]}),a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("span",{className:"inline-block w-16 h-6 bg-orange-500 text-white text-xs font-semibold rounded-full flex items-center justify-center flex-shrink-0 mt-1",children:"Challenge"}),a.jsx("p",{className:"text-neutral-700 text-sm leading-relaxed",children:Ae})]})]},Ze))})]})]}),a.jsxs("div",{className:"modern-card p-8",children:[a.jsxs("h4",{className:"text-2xl font-semibold text-ink mb-6",children:["Recommendations for ",L," Personality Types"]}),a.jsx("p",{className:"text-neutral-600 mb-8",children:"Check out this must use course and tool based on your personality"}),a.jsxs("div",{className:"grid lg:grid-cols-2 gap-8",children:[Et.length>0&&a.jsxs("div",{children:[a.jsxs("h5",{className:"font-semibold text-primary-700 mb-4 flex items-center",children:[a.jsx(Fh,{className:"w-5 h-5 mr-2"}),"Recommended Tool"]}),a.jsx("div",{className:"space-y-4",children:Et.slice(0,1).map((Ae,Ze)=>a.jsxs("div",{className:"border border-primary-200 rounded-lg p-4 hover:border-primary-400 transition-colors",children:[a.jsx("h6",{className:"font-semibold text-primary-900 mb-2",children:Ae.title}),a.jsx("p",{className:"text-sm text-neutral-700 mb-3",children:Ae.description}),a.jsx("div",{className:"flex justify-between items-center",children:a.jsx("span",{className:"text-xs bg-primary-100 text-primary-700 px-2 py-1 rounded",children:L})})]},Ze))})]}),Vt.length>0&&a.jsxs("div",{children:[a.jsxs("h5",{className:"font-semibold text-primary-700 mb-4 flex items-center",children:[a.jsx(ml,{className:"w-5 h-5 mr-2"}),"Recommended Course"]}),a.jsx("div",{className:"space-y-4",children:Vt.slice(0,1).map((Ae,Ze)=>a.jsxs("div",{className:"border border-primary-200 rounded-lg p-4 hover:border-primary-400 transition-colors",children:[a.jsx("h6",{className:"font-semibold text-primary-900 mb-2",children:Ae.title}),a.jsx("p",{className:"text-sm text-neutral-700 mb-3",children:Ae.duration}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-xs bg-primary-100 text-primary-700 px-2 py-1 rounded",children:L}),Ae.recommended&&a.jsx("span",{className:"text-xs bg-accent-500 text-white px-2 py-1 rounded",children:"Recommended"})]})]},Ze))})]})]}),a.jsxs("div",{className:"flex justify-center gap-4 mt-8",children:[a.jsx("button",{className:"btn-secondary",children:"See All Tools"}),a.jsx("button",{className:"btn-secondary",children:"See All Courses"})]})]}),a.jsxs("div",{className:"modern-card p-8",children:[a.jsx("h4",{className:"text-2xl font-semibold text-ink mb-6",children:"Action Items"}),a.jsxs("p",{className:"text-neutral-600 mb-8",children:["When you're ",L,"..."]}),a.jsx("div",{className:"space-y-6",children:(ys=P.actionPlans)==null?void 0:ys.map((Ae,Ze)=>a.jsx("div",{className:"border-l-4 border-primary-500 bg-primary-50 rounded-r-lg p-6",children:a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsx("span",{className:"flex-shrink-0 w-8 h-8 bg-primary-700 text-white rounded-full flex items-center justify-center font-bold",children:Ze+1}),a.jsxs("div",{children:[a.jsx("h5",{className:"font-semibold text-primary-900 mb-3",children:Ae.title}),a.jsx("p",{className:"text-neutral-700 leading-relaxed",children:Ae.description})]})]})},Ze))})]}),a.jsxs("div",{className:"modern-card p-8",children:[a.jsxs("h4",{className:"text-2xl font-semibold text-ink mb-6",children:["Recommendations for ",L," Personality Types"]}),a.jsx("p",{className:"text-neutral-600 mb-8",children:"See All Content"}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(Ae=>a.jsxs("div",{className:"border border-neutral-200 rounded-lg p-4 hover:border-primary-400 transition-colors",children:[a.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-primary-600 mb-2",children:"Behavioral Finance"}),a.jsx("h6",{className:"font-semibold text-primary-900 mb-2 text-sm",children:"Content Coming Soon"}),a.jsx("p",{className:"text-xs text-neutral-600",children:"4 MIN"})]},Ae))}),a.jsx("div",{className:"text-center mt-8",children:a.jsx("button",{className:"btn-secondary",children:"Explore All Content"})})]})]},I)})}),n==="recommendations"&&a.jsxs("div",{className:"space-y-8",children:[a.jsxs("div",{className:"modern-card p-8",children:[a.jsx("h2",{className:"text-2xl font-bold text-primary-900 mb-8 text-center",children:"Your Money Personalities"}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12",children:(Yt=s.personalityData)==null?void 0:Yt.map((P,I)=>a.jsxs("div",{className:"text-center p-6 border border-primary-200 rounded-xl hover:border-primary-400 transition-colors",children:[a.jsx("div",{className:"w-16 h-16 bg-primary-100 rounded-full mx-auto mb-4 flex items-center justify-center",children:a.jsx(Us,{className:"w-8 h-8 text-primary-700"})}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("p",{className:"text-sm text-neutral-600",children:["Your ",s.personalities[I].toLowerCase().includes("focused")?"Focus":s.personalities[I].toLowerCase().includes("confident")||s.personalities[I].toLowerCase().includes("optimistic")||s.personalities[I].toLowerCase().includes("skeptical")?"Outlook":s.personalities[I].toLowerCase().includes("apprehensive")||s.personalities[I].toLowerCase().includes("cautious")||s.personalities[I].toLowerCase().includes("relaxed")?"Emotions":s.personalities[I].toLowerCase().includes("social")||s.personalities[I].toLowerCase().includes("independent")||s.personalities[I].toLowerCase().includes("elusive")?"Influence":"Bonus"," Type"]}),a.jsx("h3",{className:"text-xl font-bold text-primary-900",children:s.personalities[I]})]})]},I))}),a.jsx("div",{className:"text-center mb-8",children:a.jsx("button",{className:"btn-secondary",children:"View all money personality types"})})]}),a.jsxs("div",{className:"modern-card p-8",children:[a.jsx("h3",{className:"text-2xl font-semibold text-ink mb-8",children:"Recommended Tools For Your Personality Types"}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:mt.slice(0,6).map((P,I)=>a.jsxs("div",{className:"border border-primary-200 rounded-lg p-6 hover:border-primary-400 transition-colors",children:[a.jsx("div",{className:"flex items-start justify-between mb-4",children:a.jsx(Fh,{className:"w-8 h-8 text-primary-700"})}),a.jsx("h4",{className:"font-semibold text-primary-900 mb-3",children:P.title}),a.jsx("p",{className:"text-sm text-neutral-700 mb-4",children:P.description}),a.jsx("div",{className:"text-xs",children:P.personalities.filter(L=>L!=="all").map(L=>s.personalities.find(ge=>ge.toLowerCase().replace(" ","-")===L)||(L==="cautious"?"Cautious":L==="organized"?"Organized":"")).filter(Boolean).slice(0,1).map((L,ge)=>a.jsx("span",{className:"bg-primary-100 text-primary-700 px-2 py-1 rounded mr-2",children:L},ge))})]},I))}),a.jsx("div",{className:"text-center",children:a.jsx("button",{className:"btn-secondary",children:"Explore All Tools"})})]}),a.jsxs("div",{className:"modern-card p-8",children:[a.jsx("h3",{className:"text-2xl font-semibold text-ink mb-8",children:"Recommended Courses For Your Personality Types"}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:Pi.slice(0,6).map((P,I)=>a.jsxs("div",{className:"border border-primary-200 rounded-lg p-6 hover:border-primary-400 transition-colors",children:[a.jsxs("div",{className:"flex items-start justify-between mb-4",children:[a.jsx(ml,{className:"w-8 h-8 text-primary-700"}),P.recommended&&a.jsx("span",{className:"bg-accent-500 text-white text-xs px-2 py-1 rounded",children:"Recommended"})]}),a.jsx("h4",{className:"font-semibold text-primary-900 mb-2",children:P.title}),a.jsx("p",{className:"text-sm text-primary-600 mb-4",children:P.duration}),a.jsx("div",{className:"text-xs",children:P.personalities.map(L=>s.personalities.find(ge=>ge.toLowerCase().replace(" ","-")===L)||(L==="cautious"?"Cautious":L==="organized"?"Organized":"")).filter(Boolean).slice(0,1).map((L,ge)=>a.jsx("span",{className:"bg-primary-100 text-primary-700 px-2 py-1 rounded mr-2",children:L},ge))})]},I))}),a.jsx("div",{className:"text-center",children:a.jsx("button",{className:"btn-secondary",children:"Explore All Courses"})})]}),a.jsxs("div",{className:"modern-card p-8",children:[a.jsx("h3",{className:"text-2xl font-semibold text-ink mb-8",children:"Recommended Content For Your Personality Types"}),a.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[1,2,3,4,5,6].map(P=>a.jsxs("div",{className:"border border-neutral-200 rounded-lg p-4 hover:border-primary-400 transition-colors",children:[a.jsx("div",{className:"text-xs font-semibold uppercase tracking-wide text-primary-600 mb-2",children:"Behavioral Finance"}),a.jsx("h6",{className:"font-semibold text-primary-900 mb-2 text-sm",children:"Content Coming Soon"}),a.jsx("p",{className:"text-xs text-neutral-600",children:"4 MIN"})]},P))}),a.jsx("div",{className:"text-center",children:a.jsx("button",{className:"btn-secondary",children:"Explore All Content"})})]})]}),!j&&n==="recommendations"&&a.jsxs("div",{className:"modern-card p-8",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-primary-500 to-accent-500 rounded-full flex items-center justify-center",children:a.jsx(Hb,{className:"w-5 h-5 text-white"})}),a.jsx("h2",{className:"text-2xl font-bold text-primary-900",children:"Share the Compatibility Quiz"})]}),a.jsx("p",{className:"text-neutral-600 mb-6",children:"Invite someone important in your life to explore how your money personalities complement each other."}),k&&a.jsxs("div",{className:"mb-6 rounded-lg border border-accent-600/40 bg-white p-4",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx(io,{className:"w-5 h-5 text-accent-600"}),a.jsx("p",{className:"text-neutral-700 font-medium",children:"Assessment invitation sent successfully!"})]}),a.jsx("p",{className:"text-neutral-600 text-sm mt-1",children:"They'll receive an email with the quiz link."}),A&&a.jsxs("div",{className:"mt-4 text-left",children:[a.jsx("p",{className:"text-sm text-neutral-600 mb-2",children:"Want to share it directly? Use this link:"}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[a.jsx("input",{type:"text",readOnly:!0,value:A,className:"flex-1 px-3 py-2 border border-neutral-300 rounded-lg bg-white text-sm text-gray-800"}),a.jsx("button",{type:"button",onClick:xe,className:"inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-accent-600 hover:bg-accent-700 rounded-lg shadow-sm transition-colors",children:"Copy link"})]}),F&&a.jsx("p",{className:"text-xs text-neutral-600 mt-2",children:F})]})]}),E&&a.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:[a.jsxs("p",{className:"text-red-800 font-medium",children:["Error: ",E]}),A&&a.jsxs("div",{className:"mt-4 text-left",children:[a.jsx("p",{className:"text-sm text-red-700 mb-2",children:"The quiz link is still ready—share it directly while email delivery is unavailable:"}),a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2",children:[a.jsx("input",{type:"text",readOnly:!0,value:A,className:"flex-1 px-3 py-2 border border-red-200 rounded-lg bg-white text-sm text-gray-800"}),a.jsx("button",{type:"button",onClick:xe,className:"inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-lg shadow-sm transition-colors",children:"Copy link"})]}),F&&a.jsx("p",{className:"text-xs text-red-700 mt-2",children:F})]})]}),a.jsxs("form",{onSubmit:Q,className:"space-y-6",children:[a.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"shareName",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Their Name *"}),a.jsx("input",{type:"text",id:"shareName",value:f,onChange:P=>p(P.target.value),className:"w-full px-4 py-3 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Alex Smith",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"shareEmail",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Their Email *"}),a.jsx("input",{type:"email",id:"shareEmail",value:d,onChange:P=>h(P.target.value),className:"w-full px-4 py-3 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"alex@example.com",required:!0})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"relationship",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Your Relationship"}),a.jsxs("select",{id:"relationship",value:v,onChange:P=>x(P.target.value),className:"w-full px-4 py-3 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",children:[a.jsx("option",{value:"Partners",children:"Partners"}),a.jsx("option",{value:"Spouses",children:"Spouses"}),a.jsx("option",{value:"Friends",children:"Friends"}),a.jsx("option",{value:"Family Members",children:"Family Members"}),a.jsx("option",{value:"Roommates",children:"Roommates"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"personalNote",className:"block text-sm font-medium text-neutral-700 mb-2",children:"Personal Note (Optional)"}),a.jsx("textarea",{id:"personalNote",value:b,onChange:P=>y(P.target.value),rows:3,className:"w-full px-4 py-3 border border-neutral-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"I think you'd find this interesting! It helped me understand my approach to money better."})]}),a.jsx("button",{type:"submit",disabled:m||!d||!f,className:"btn-primary",children:m?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-3"}),"Sending..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Cc,{className:"w-5 h-5 mr-3"}),"Send Invitation"]})})]}),Ne.length>0&&a.jsxs("div",{className:"mt-8 pt-6 border-t border-neutral-200",children:[a.jsx("h4",{className:"text-lg font-semibold text-primary-900 mb-4",children:"Sent Invitations"}),a.jsx("div",{className:"space-y-3",children:Ne.map((P,I)=>{var L;return a.jsx("div",{className:"bg-neutral-100 p-4 rounded-lg",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-primary-900",children:P.recipientName||"Someone"}),a.jsx("p",{className:"text-sm text-neutral-600",children:P.recipientEmail})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs font-medium ${P.status==="completed"?"bg-accent-600/15 text-accent-600":"bg-orange-100 text-orange-700"}`,children:P.status==="completed"?"Completed":"Pending"}),a.jsxs("p",{className:"text-xs text-neutral-500 mt-1",children:[P.relationship," • ",(L=P.sentAt)==null?void 0:L.toLocaleDateString()]})]})]})},I)})})]})]}),!j&&ke&&n==="recommendations"&&a.jsxs("div",{className:"modern-card p-8",children:[a.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-primary-500 to-accent-500 rounded-full flex items-center justify-center",children:a.jsx(og,{className:"w-5 h-5 text-white"})}),a.jsx("h2",{className:"text-2xl font-bold text-primary-900",children:"Compatibility Insights"})]}),a.jsxs("div",{className:"rounded-xl border border-accent-600/30 bg-white p-6 mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-primary-900",children:ke.compatibilityLabel}),a.jsxs("p",{className:"text-neutral-600",children:["Compatibility Score: ",ke.compatibilityScore]})]}),a.jsx($b,{className:"w-12 h-12 text-accent-600"})]}),a.jsx("p",{className:"text-neutral-700 leading-relaxed",children:ke.summary})]}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[a.jsxs("div",{children:[a.jsxs("h4",{className:"text-lg font-semibold text-primary-900 mb-4 flex items-center",children:[a.jsx(io,{className:"w-5 h-5 text-accent-600 mr-2"}),"Strengths & Alignment"]}),a.jsx("div",{className:"space-y-3",children:ke.alignmentHighlights.map((P,I)=>a.jsx("div",{className:"rounded-lg border-l-4 border-accent-600 bg-white p-3",children:a.jsx("p",{className:"text-neutral-700 text-sm",children:P})},I))})]}),a.jsxs("div",{children:[a.jsxs("h4",{className:"text-lg font-semibold text-primary-900 mb-4 flex items-center",children:[a.jsx(pl,{className:"w-5 h-5 text-orange-600 mr-2"}),"Growth Opportunities"]}),a.jsx("div",{className:"space-y-3",children:ke.potentialFriction.map((P,I)=>a.jsx("div",{className:"rounded-lg border-l-4 border-orange-400 bg-white p-3",children:a.jsx("p",{className:"text-neutral-700 text-sm",children:P})},I))})]})]}),ke.conversationStarters.length>0&&a.jsxs("div",{className:"mt-8",children:[a.jsxs("h4",{className:"text-lg font-semibold text-primary-900 mb-4 flex items-center",children:[a.jsx(Us,{className:"w-5 h-5 text-primary-700 mr-2"}),"Conversation Starters"]}),a.jsx("div",{className:"grid gap-3",children:ke.conversationStarters.map((P,I)=>a.jsx("div",{className:"rounded-lg border-l-4 border-primary-500 bg-primary-100 p-3",children:a.jsx("p",{className:"text-primary-700 text-sm",children:P})},I))})]})]})]})]})})}):a.jsx(Xo,{children:a.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:a.jsxs("div",{className:"modern-card text-center space-y-6",children:[a.jsx(Us,{className:"w-16 h-16 text-gray-300 mx-auto"}),a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"No Assessment Results Found"}),a.jsx("p",{className:"text-gray-600",children:"You haven't completed an assessment yet. Take the Money Personality assessment to see your results here."}),a.jsxs(ne,{to:"/assessment",className:"btn-primary",children:[a.jsx(Bh,{className:"w-5 h-5 mr-3"}),"Take Assessment"]})]})})})}function S_(){return a.jsx(Ab,{children:a.jsx(ux,{children:a.jsxs(nx,{children:[a.jsx(wn,{path:"/",element:a.jsx(Ob,{})}),a.jsx(wn,{path:"/assessment",element:a.jsx(xk,{})}),a.jsx(wn,{path:"/dashboard",element:a.jsx(__,{})}),a.jsx(wn,{path:"/advisor",element:a.jsx(fk,{})}),a.jsx(wn,{path:"/advisor/login",element:a.jsx(pk,{})}),a.jsx(wn,{path:"/advisor/share",element:a.jsx(zh,{children:a.jsx(hk,{})})}),a.jsx(wn,{path:"/advisor/dashboard",element:a.jsx(zh,{children:a.jsx(mk,{})})})]})})})}kl.createRoot(document.getElementById("root")).render(a.jsx(bf.StrictMode,{children:a.jsx(S_,{})}));
